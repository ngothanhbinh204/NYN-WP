var App=(()=>{var Lr=Object.create;var vs=Object.defineProperty,Ir=Object.defineProperties,$r=Object.getOwnPropertyDescriptor,kr=Object.getOwnPropertyDescriptors,Or=Object.getOwnPropertyNames,oi=Object.getOwnPropertySymbols,Dr=Object.getPrototypeOf,ci=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable;var ke=Math.pow,li=(t,e,s)=>e in t?vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Me=(t,e)=>{for(var s in e||(e={}))ci.call(e,s)&&li(t,s,e[s]);if(oi)for(var s of oi(e))zr.call(e,s)&&li(t,s,e[s]);return t},Ze=(t,e)=>Ir(t,kr(e));var di=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rr=(t,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Or(e))!ci.call(t,r)&&r!==s&&vs(t,r,{get:()=>e[r],enumerable:!(i=$r(e,r))||i.enumerable});return t};var ui=(t,e,s)=>(s=t!=null?Lr(Dr(t)):{},Rr(e||!t||!t.__esModule?vs(s,"default",{value:t,enumerable:!0}):s,t));var fi=di((Lt,ys)=>{(function(t,e){typeof Lt=="object"&&typeof ys=="object"?ys.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Lt=="object"?Lt.AOS=e():t.AOS=e()})(Lt,function(){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="dist/",e(0)}([function(t,e,s){"use strict";function i(S){return S&&S.__esModule?S:{default:S}}var r=Object.assign||function(S){for(var T=1;T<arguments.length;T++){var L=arguments[T];for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(S[I]=L[I])}return S},n=s(1),a=(i(n),s(6)),l=i(a),o=s(7),c=i(o),d=s(8),f=i(d),p=s(9),m=i(p),b=s(10),y=i(b),M=s(11),E=i(M),h=s(14),u=i(h),g=[],w=!1,_={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},O=function(){var S=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(S&&(w=!0),w)return g=(0,E.default)(g,_),(0,y.default)(g,_.once),g},A=function(){g=(0,u.default)(),O()},x=function(){g.forEach(function(S,T){S.node.removeAttribute("data-aos"),S.node.removeAttribute("data-aos-easing"),S.node.removeAttribute("data-aos-duration"),S.node.removeAttribute("data-aos-delay")})},v=function(S){return S===!0||S==="mobile"&&m.default.mobile()||S==="phone"&&m.default.phone()||S==="tablet"&&m.default.tablet()||typeof S=="function"&&S()===!0},C=function(S){_=r(_,S),g=(0,u.default)();var T=document.all&&!window.atob;return v(_.disable)||T?x():(_.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),_.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",_.easing),document.querySelector("body").setAttribute("data-aos-duration",_.duration),document.querySelector("body").setAttribute("data-aos-delay",_.delay),_.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?O(!0):_.startEvent==="load"?window.addEventListener(_.startEvent,function(){O(!0)}):document.addEventListener(_.startEvent,function(){O(!0)}),window.addEventListener("resize",(0,c.default)(O,_.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(O,_.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)(function(){(0,y.default)(g,_.once)},_.throttleDelay)),_.disableMutationObserver||f.default.ready("[data-aos]",A),g)};t.exports={init:C,refresh:O,refreshHard:A}},function(t,e){},,,,,function(t,e){(function(s){"use strict";function i(v,C,S){function T(N){var G=X,ie=Z;return X=Z=void 0,xe=N,q=v.apply(ie,G)}function L(N){return xe=N,j=setTimeout(V,C),de?T(N):q}function I(N){var G=N-K,ie=N-xe,Te=C-G;return ae?A(Te,J-ie):Te}function z(N){var G=N-K,ie=N-xe;return K===void 0||G>=C||G<0||ae&&ie>=J}function V(){var N=x();return z(N)?k(N):void(j=setTimeout(V,I(N)))}function k(N){return j=void 0,W&&X?T(N):(X=Z=void 0,q)}function P(){j!==void 0&&clearTimeout(j),xe=0,X=K=Z=j=void 0}function D(){return j===void 0?q:k(x())}function B(){var N=x(),G=z(N);if(X=arguments,Z=this,K=N,G){if(j===void 0)return L(K);if(ae)return j=setTimeout(V,C),T(K)}return j===void 0&&(j=setTimeout(V,C)),q}var X,Z,J,q,j,K,xe=0,de=!1,ae=!1,W=!0;if(typeof v!="function")throw new TypeError(d);return C=o(C)||0,n(S)&&(de=!!S.leading,ae="maxWait"in S,J=ae?O(o(S.maxWait)||0,C):J,W="trailing"in S?!!S.trailing:W),B.cancel=P,B.flush=D,B}function r(v,C,S){var T=!0,L=!0;if(typeof v!="function")throw new TypeError(d);return n(S)&&(T="leading"in S?!!S.leading:T,L="trailing"in S?!!S.trailing:L),i(v,C,{leading:T,maxWait:C,trailing:L})}function n(v){var C=typeof v=="undefined"?"undefined":c(v);return!!v&&(C=="object"||C=="function")}function a(v){return!!v&&(typeof v=="undefined"?"undefined":c(v))=="object"}function l(v){return(typeof v=="undefined"?"undefined":c(v))=="symbol"||a(v)&&_.call(v)==p}function o(v){if(typeof v=="number")return v;if(l(v))return f;if(n(v)){var C=typeof v.valueOf=="function"?v.valueOf():v;v=n(C)?C+"":C}if(typeof v!="string")return v===0?v:+v;v=v.replace(m,"");var S=y.test(v);return S||M.test(v)?E(v.slice(2),S?2:8):b.test(v)?f:+v}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},d="Expected a function",f=NaN,p="[object Symbol]",m=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,M=/^0o[0-7]+$/i,E=parseInt,h=(typeof s=="undefined"?"undefined":c(s))=="object"&&s&&s.Object===Object&&s,u=(typeof self=="undefined"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,g=h||u||Function("return this")(),w=Object.prototype,_=w.toString,O=Math.max,A=Math.min,x=function(){return g.Date.now()};t.exports=r}).call(e,function(){return this}())},function(t,e){(function(s){"use strict";function i(x,v,C){function S(W){var N=B,G=X;return B=X=void 0,K=W,J=x.apply(G,N)}function T(W){return K=W,q=setTimeout(z,v),xe?S(W):J}function L(W){var N=W-j,G=W-K,ie=v-N;return de?O(ie,Z-G):ie}function I(W){var N=W-j,G=W-K;return j===void 0||N>=v||N<0||de&&G>=Z}function z(){var W=A();return I(W)?V(W):void(q=setTimeout(z,L(W)))}function V(W){return q=void 0,ae&&B?S(W):(B=X=void 0,J)}function k(){q!==void 0&&clearTimeout(q),K=0,B=j=X=q=void 0}function P(){return q===void 0?J:V(A())}function D(){var W=A(),N=I(W);if(B=arguments,X=this,j=W,N){if(q===void 0)return T(j);if(de)return q=setTimeout(z,v),S(j)}return q===void 0&&(q=setTimeout(z,v)),J}var B,X,Z,J,q,j,K=0,xe=!1,de=!1,ae=!0;if(typeof x!="function")throw new TypeError(c);return v=l(v)||0,r(C)&&(xe=!!C.leading,de="maxWait"in C,Z=de?_(l(C.maxWait)||0,v):Z,ae="trailing"in C?!!C.trailing:ae),D.cancel=k,D.flush=P,D}function r(x){var v=typeof x=="undefined"?"undefined":o(x);return!!x&&(v=="object"||v=="function")}function n(x){return!!x&&(typeof x=="undefined"?"undefined":o(x))=="object"}function a(x){return(typeof x=="undefined"?"undefined":o(x))=="symbol"||n(x)&&w.call(x)==f}function l(x){if(typeof x=="number")return x;if(a(x))return d;if(r(x)){var v=typeof x.valueOf=="function"?x.valueOf():x;x=r(v)?v+"":v}if(typeof x!="string")return x===0?x:+x;x=x.replace(p,"");var C=b.test(x);return C||y.test(x)?M(x.slice(2),C?2:8):m.test(x)?d:+x}var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},c="Expected a function",d=NaN,f="[object Symbol]",p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,y=/^0o[0-7]+$/i,M=parseInt,E=(typeof s=="undefined"?"undefined":o(s))=="object"&&s&&s.Object===Object&&s,h=(typeof self=="undefined"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,u=E||h||Function("return this")(),g=Object.prototype,w=g.toString,_=Math.max,O=Math.min,A=function(){return u.Date.now()};t.exports=i}).call(e,function(){return this}())},function(t,e){"use strict";function s(o){var c=void 0,d=void 0,f=void 0;for(c=0;c<o.length;c+=1)if(d=o[c],d.dataset&&d.dataset.aos||(f=d.children&&s(d.children)))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!i()}function n(o,c){var d=window.document,f=i(),p=new f(a);l=c,p.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(o){o&&o.forEach(function(c){var d=Array.prototype.slice.call(c.addedNodes),f=Array.prototype.slice.call(c.removedNodes),p=d.concat(f);if(s(p))return l()})}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){};e.default={isSupported:r,ready:n}},function(t,e){"use strict";function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function d(f,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,m){return p&&d(f.prototype,p),m&&d(f,m),f}}(),n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function d(){s(this,d)}return r(d,[{key:"phone",value:function(){var f=i();return!(!n.test(f)&&!a.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=i();return!(!l.test(f)&&!o.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();e.default=new c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(r,n,a){var l=r.node.getAttribute("data-aos-once");n>r.position?r.node.classList.add("aos-animate"):typeof l!="undefined"&&(l==="false"||!a&&l!=="true")&&r.node.classList.remove("aos-animate")},i=function(r,n){var a=window.pageYOffset,l=window.innerHeight;r.forEach(function(o,c){s(o,l+a,n)})};e.default=i},function(t,e,s){"use strict";function i(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(12),n=i(r),a=function(l,o){return l.forEach(function(c,d){c.node.classList.add("aos-init"),c.position=(0,n.default)(c.node,o.offset)}),l};e.default=a},function(t,e,s){"use strict";function i(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(13),n=i(r),a=function(l,o){var c=0,d=0,f=window.innerHeight,p={offset:l.getAttribute("data-aos-offset"),anchor:l.getAttribute("data-aos-anchor"),anchorPlacement:l.getAttribute("data-aos-anchor-placement")};switch(p.offset&&!isNaN(p.offset)&&(d=parseInt(p.offset)),p.anchor&&document.querySelectorAll(p.anchor)&&(l=document.querySelectorAll(p.anchor)[0]),c=(0,n.default)(l).top,p.anchorPlacement){case"top-bottom":break;case"center-bottom":c+=l.offsetHeight/2;break;case"bottom-bottom":c+=l.offsetHeight;break;case"top-center":c+=f/2;break;case"bottom-center":c+=f/2+l.offsetHeight;break;case"center-center":c+=f/2+l.offsetHeight/2;break;case"top-top":c+=f;break;case"bottom-top":c+=l.offsetHeight+f;break;case"center-top":c+=l.offsetHeight/2+f}return p.anchorPlacement||p.offset||isNaN(o)||(d=o),c+d};e.default=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(i){for(var r=0,n=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)r+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),n+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:n,left:r}};e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(r){return{node:r}})};e.default=s}])})});var pi=di((bs,ws)=>{(function(t,e){typeof bs=="object"&&typeof ws!="undefined"?ws.exports=e():typeof define=="function"&&define.amd?define(e):t.lozad=e()})(bs,function(){"use strict";var t=typeof document!="undefined"&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(n){if(n.nodeName.toLowerCase()==="picture"){var a=n.querySelector("img"),l=!1;a===null&&(a=document.createElement("img"),l=!0),t&&n.getAttribute("data-iesrc")&&(a.src=n.getAttribute("data-iesrc")),n.getAttribute("data-alt")&&(a.alt=n.getAttribute("data-alt")),l&&n.append(a)}if(n.nodeName.toLowerCase()==="video"&&!n.getAttribute("data-src")&&n.children){for(var o=n.children,c=void 0,d=0;d<=o.length-1;d++)(c=o[d].getAttribute("data-src"))&&(o[d].src=c);n.load()}n.getAttribute("data-poster")&&(n.poster=n.getAttribute("data-poster")),n.getAttribute("data-src")&&(n.src=n.getAttribute("data-src")),n.getAttribute("data-srcset")&&n.setAttribute("srcset",n.getAttribute("data-srcset"));var f=",";if(n.getAttribute("data-background-delimiter")&&(f=n.getAttribute("data-background-delimiter")),n.getAttribute("data-background-image"))n.style.backgroundImage="url('"+n.getAttribute("data-background-image").split(f).join("'),url('")+"')";else if(n.getAttribute("data-background-image-set")){var p=n.getAttribute("data-background-image-set").split(f),m=p[0].substr(0,p[0].indexOf(" "))||p[0];m=m.indexOf("url(")===-1?"url("+m+")":m,p.length===1?n.style.backgroundImage=m:n.setAttribute("style",(n.getAttribute("style")||"")+"background-image: "+m+"; background-image: -webkit-image-set("+p+"); background-image: image-set("+p+")")}n.getAttribute("data-toggle-class")&&n.classList.toggle(n.getAttribute("data-toggle-class"))},loaded:function(){}};function s(n){n.setAttribute("data-loaded",!0)}var i=function(n){return n.getAttribute("data-loaded")==="true"},r=function(n){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return n instanceof Element?[n]:n instanceof NodeList?n:a.querySelectorAll(n)};return function(){var n,a,l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=Object.assign({},e,o),d=c.root,f=c.rootMargin,p=c.threshold,m=c.load,b=c.loaded,y=void 0;typeof window!="undefined"&&window.IntersectionObserver&&(y=new IntersectionObserver((n=m,a=b,function(u,g){u.forEach(function(w){(0<w.intersectionRatio||w.isIntersecting)&&(g.unobserve(w.target),i(w.target)||(n(w.target),s(w.target),a(w.target)))})}),{root:d,rootMargin:f,threshold:p}));for(var M,E=r(l,d),h=0;h<E.length;h++)(M=E[h]).getAttribute("data-placeholder-background")&&(M.style.background=M.getAttribute("data-placeholder-background"));return{observe:function(){for(var u=r(l,d),g=0;g<u.length;g++)i(u[g])||(y?y.observe(u[g]):(m(u[g]),s(u[g]),b(u[g])))},triggerLoad:function(u){i(u)||(m(u),s(u),b(u))},observer:y}}})});var ps=ui(fi()),_r=ui(pi());function hi(){$("[setBackground]").each(function(){var t=$(this).attr("setBackground");$(this).css({"background-image":"url("+t+")","background-size":"cover","background-position":"center center"})})}function mi(){let t=$(window).height();$(document).on("scroll",function(){let e=$(window).scrollTop(),s=$(document).height();e+t>s-t?$(".button-to-top").addClass("active"):$(".button-to-top").removeClass("active")}),$(document).on("click",".button-to-top",function(){$("html, body").animate({scrollTop:0})})}function gi(){let s=$(".wrap-item-toggle").find(".item-toggle").find(".title");if(s.length>0){let i=s.first(),r=i.next();i.addClass("active"),r.show()}s.on("click",function(){$(this).toggleClass("active").next().slideToggle().closest(".item-toggle").siblings().find(".title").removeClass("active").next().slideUp()})}function vi(){var t=$("[stick-to-edge]");t.each(function(){let e=$(this),s=e.attr("edge-placement")?"inner":"screen",i=e.attr("stick-to-edge"),r=e.attr("unstick-min")||1200,n=($(window).width()-$(".default-container-js").width())/2;s==="inner"&&e.closest(".container")&&e.closest(".container").closest(".container-fluid")&&(n=Math.abs($(".wide-container-js").offset().left-$(".default-container-js").offset().left)),i==="left"&&e.css({"margin-left":`-${n}px`,"--ml":`${Math.abs(n)}`}),i==="right"&&e.css({"margin-right":`-${n}px`,"--mr":`${Math.abs(n)}`}),$(window).width()<r&&(e.removeAttr("style"),e.css({"--ml":"0","--mr":"0"}))})}function yi(){var t=document.querySelector("#menu-spy");let e,s=!1;var i=new MenuSpy(t,{activeClass:"active",threshold:300,callback:function(r){let n=$(".section-scrollTo-active");clearTimeout(e),s=!0,e=setTimeout(function(){$(n).scrollTo("li.active",800),s=!1},1e3)}})}function bi(){function t(){$(".header-search-form").removeClass("active"),$(".header-search").removeClass("active"),$("body").removeClass("disable")}$(".header-search").on("click",function(){$(".header-search-form").addClass("active"),$("body").addClass("disable"),setTimeout(()=>{$(".header-search-form .searchinput").focus()},400)}),$(".header-search-form .close").on("click",function(){t()}),$(document).keyup(function(e){e.key==="Escape"&&t()}),$(document).on("click",function(e){$(".header-search-form").hasClass("active")&&!$(e.target).closest(".productsearchbox").length&&!$(e.target).is(".header-search")&&!$(e.target).closest(".header-search").length&&t()})}var fo=$(window).width(),ht={scrollActive:function(){let t=$(window).width(),e=$("header").height();t<=1199.98||$(window).scrollTop()>e?$("header").addClass("active"):$("header").removeClass("active")},mobile:function(){$(".header-bar").on("click",function(){$(this).toggleClass("active"),$("body").toggleClass("isOpenMenu"),$(".header-overlay").on("click",function(){$(".header-bar").removeClass("active"),$("body").removeClass("isOpenMenu")})}),window.matchMedia("(max-width: 1199.98px)").matches&&($(".header-menu .header-nav li[class*='has-children']>a").each(function(){$(this).wrap('<div class="menu-item"></div>').parent().append('<div class="icon-arrow"></div>')}),$(".header-menu .header-nav li[class*='has-children'] .icon-arrow").on("click",function(){$(this).closest("li").toggleClass("active"),$(this).closest("li").find("ul").slideToggle()}))},initVariable:function(){let t=document.querySelector("header");if(!t)return;function e(){let i=t.offsetHeight;document.documentElement.style.setProperty("--header-height",`${i}px`)}e(),new ResizeObserver(e).observe(t),window.addEventListener("load",()=>{setTimeout(e,100)})},init:function(){bi(),ht.scrollActive(),ht.mobile(),ht.initVariable()}};document.addEventListener("scroll",function(t){ht.scrollActive()},!0);function wi(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ss(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(s=>{typeof t[s]=="undefined"?t[s]=e[s]:wi(e[s])&&wi(t[s])&&Object.keys(e[s]).length>0&&Ss(t[s],e[s])})}var Si={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function he(){let t=typeof document!="undefined"?document:{};return Ss(t,Si),t}var Br={document:Si,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout=="undefined"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout!="undefined"&&clearTimeout(t)}};function oe(){let t=typeof window!="undefined"?window:{};return Ss(t,Br),t}function xi(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Ti(t){let e=t;Object.keys(e).forEach(s=>{try{e[s]=null}catch(i){}try{delete e[s]}catch(i){}})}function qe(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Oe(){return Date.now()}function Nr(t){let e=oe(),s;return e.getComputedStyle&&(s=e.getComputedStyle(t,null)),!s&&t.currentStyle&&(s=t.currentStyle),s||(s=t.style),s}function xs(t,e){e===void 0&&(e="x");let s=oe(),i,r,n,a=Nr(t);return s.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(l=>l.replace(",",".")).join(", ")),n=new s.WebKitCSSMatrix(r==="none"?"":r)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=n.toString().split(",")),e==="x"&&(s.WebKitCSSMatrix?r=n.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(s.WebKitCSSMatrix?r=n.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function It(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Fr(t){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function _e(){let t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){let i=s<0||arguments.length<=s?void 0:arguments[s];if(i!=null&&!Fr(i)){let r=Object.keys(Object(i)).filter(n=>e.indexOf(n)<0);for(let n=0,a=r.length;n<a;n+=1){let l=r[n],o=Object.getOwnPropertyDescriptor(i,l);o!==void 0&&o.enumerable&&(It(t[l])&&It(i[l])?i[l].__swiper__?t[l]=i[l]:_e(t[l],i[l]):!It(t[l])&&It(i[l])?(t[l]={},i[l].__swiper__?t[l]=i[l]:_e(t[l],i[l])):t[l]=i[l])}}}return t}function mt(t,e,s){t.style.setProperty(e,s)}function Ts(t){let{swiper:e,targetPosition:s,side:i}=t,r=oe(),n=-e.translate,a=null,l,o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let c=s>n?"next":"prev",d=(p,m)=>c==="next"&&p>=m||c==="prev"&&p<=m,f=()=>{l=new Date().getTime(),a===null&&(a=l);let p=Math.max(Math.min((l-a)/o,1),0),m=.5-Math.cos(p*Math.PI)/2,b=n+m*(s-n);if(d(b,s)&&(b=s),e.wrapperEl.scrollTo({[i]:b}),d(b,s)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:b})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function je(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function me(t,e){return e===void 0&&(e=""),[...t.children].filter(s=>s.matches(e))}function $t(t){try{console.warn(t);return}catch(e){}}function Re(t,e){e===void 0&&(e=[]);let s=document.createElement(t);return s.classList.add(...Array.isArray(e)?e:xi(e)),s}function Ei(t,e){let s=[];for(;t.previousElementSibling;){let i=t.previousElementSibling;e?i.matches(e)&&s.push(i):s.push(i),t=i}return s}function Ci(t,e){let s=[];for(;t.nextElementSibling;){let i=t.nextElementSibling;e?i.matches(e)&&s.push(i):s.push(i),t=i}return s}function Ue(t,e){return oe().getComputedStyle(t,null).getPropertyValue(e)}function at(t){let e=t,s;if(e){for(s=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(s+=1);return s}}function gt(t,e){let s=[],i=t.parentElement;for(;i;)e?i.matches(e)&&s.push(i):s.push(i),i=i.parentElement;return s}function Gt(t,e){function s(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",s))}e&&t.addEventListener("transitionend",s)}function kt(t,e,s){let i=oe();return s?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}var Es;function Vr(){let t=oe(),e=he();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Li(){return Es||(Es=Vr()),Es}var Cs;function Yr(t){let{userAgent:e}=t===void 0?{}:t,s=Li(),i=oe(),r=i.navigator.platform,n=e||i.navigator.userAgent,a={ios:!1,android:!1},l=i.screen.width,o=i.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/),d=n.match(/(iPad).*OS\s([\d_]+)/),f=n.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=r==="Win32",b=r==="MacIntel",y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&b&&s.touch&&y.indexOf(`${l}x${o}`)>=0&&(d=n.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),b=!1),c&&!m&&(a.os="android",a.android=!0),(d||p||f)&&(a.os="ios",a.ios=!0),a}function Xr(t){return t===void 0&&(t={}),Cs||(Cs=Yr(t)),Cs}var Ms;function Hr(){let t=oe(),e=!1;function s(){let i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(s()){let i=String(t.navigator.userAgent);if(i.includes("Version/")){let[r,n]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=r<16||r===16&&n<2}}return{isSafari:e||s(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Wr(){return Ms||(Ms=Hr()),Ms}function Gr(t){let{swiper:e,on:s,emit:i}=t,r=oe(),n=null,a=null,l=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},o=()=>{!e||e.destroyed||!e.initialized||(n=new ResizeObserver(f=>{a=r.requestAnimationFrame(()=>{let{width:p,height:m}=e,b=p,y=m;f.forEach(M=>{let{contentBoxSize:E,contentRect:h,target:u}=M;u&&u!==e.el||(b=h?h.width:(E[0]||E).inlineSize,y=h?h.height:(E[0]||E).blockSize)}),(b!==p||y!==m)&&l()})}),n.observe(e.el))},c=()=>{a&&r.cancelAnimationFrame(a),n&&n.unobserve&&e.el&&(n.unobserve(e.el),n=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};s("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver!="undefined"){o();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",d)}),s("destroy",()=>{c(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",d)})}function qr(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n=[],a=oe(),l=function(d,f){f===void 0&&(f={});let p=a.MutationObserver||a.WebkitMutationObserver,m=new p(b=>{if(e.__preventObserver__)return;if(b.length===1){r("observerUpdate",b[0]);return}let y=function(){r("observerUpdate",b[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});m.observe(d,{attributes:typeof f.attributes=="undefined"?!0:f.attributes,childList:typeof f.childList=="undefined"?!0:f.childList,characterData:typeof f.characterData=="undefined"?!0:f.characterData}),n.push(m)},o=()=>{if(e.params.observer){if(e.params.observeParents){let d=gt(e.hostEl);for(let f=0;f<d.length;f+=1)l(d[f])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},c=()=>{n.forEach(d=>{d.disconnect()}),n.splice(0,n.length)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",o),i("destroy",c)}var jr={on(t,e,s){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=s?"unshift":"push";return t.split(" ").forEach(n=>{i.eventsListeners[n]||(i.eventsListeners[n]=[]),i.eventsListeners[n][r](e)}),i},once(t,e,s){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];e.apply(i,a)}return r.__emitterProxy=e,i.on(t,r,s)},onAny(t,e){let s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;let i=e?"unshift":"push";return s.eventsAnyListeners.indexOf(t)<0&&s.eventsAnyListeners[i](t),s},offAny(t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let s=e.eventsAnyListeners.indexOf(t);return s>=0&&e.eventsAnyListeners.splice(s,1),e},off(t,e){let s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||t.split(" ").forEach(i=>{typeof e=="undefined"?s.eventsListeners[i]=[]:s.eventsListeners[i]&&s.eventsListeners[i].forEach((r,n)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&s.eventsListeners[i].splice(n,1)})}),s},emit(){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,s,i;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return typeof n[0]=="string"||Array.isArray(n[0])?(e=n[0],s=n.slice(1,n.length),i=t):(e=n[0].events,s=n[0].data,i=n[0].context||t),s.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[o,...s])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(c=>{c.apply(i,s)})}),t}};function Ur(){let t=this,e,s,i=t.el;typeof t.params.width!="undefined"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height!="undefined"&&t.params.height!==null?s=t.params.height:s=i.clientHeight,!(e===0&&t.isHorizontal()||s===0&&t.isVertical())&&(e=e-parseInt(Ue(i,"padding-left")||0,10)-parseInt(Ue(i,"padding-right")||0,10),s=s-parseInt(Ue(i,"padding-top")||0,10)-parseInt(Ue(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(s)&&(s=0),Object.assign(t,{width:e,height:s,size:t.isHorizontal()?e:s}))}function Kr(){let t=this;function e(v,C){return parseFloat(v.getPropertyValue(t.getDirectionLabel(C))||0)}let s=t.params,{wrapperEl:i,slidesEl:r,size:n,rtlTranslate:a,wrongRTL:l}=t,o=t.virtual&&s.virtual.enabled,c=o?t.virtual.slides.length:t.slides.length,d=me(r,`.${t.params.slideClass}, swiper-slide`),f=o?t.virtual.slides.length:d.length,p=[],m=[],b=[],y=s.slidesOffsetBefore;typeof y=="function"&&(y=s.slidesOffsetBefore.call(t));let M=s.slidesOffsetAfter;typeof M=="function"&&(M=s.slidesOffsetAfter.call(t));let E=t.snapGrid.length,h=t.slidesGrid.length,u=s.spaceBetween,g=-y,w=0,_=0;if(typeof n=="undefined")return;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*n:typeof u=="string"&&(u=parseFloat(u)),t.virtualSize=-u,d.forEach(v=>{a?v.style.marginLeft="":v.style.marginRight="",v.style.marginBottom="",v.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(mt(i,"--swiper-centered-offset-before",""),mt(i,"--swiper-centered-offset-after",""));let O=s.grid&&s.grid.rows>1&&t.grid;O?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let A,x=s.slidesPerView==="auto"&&s.breakpoints&&Object.keys(s.breakpoints).filter(v=>typeof s.breakpoints[v].slidesPerView!="undefined").length>0;for(let v=0;v<f;v+=1){A=0;let C;if(d[v]&&(C=d[v]),O&&t.grid.updateSlide(v,C,d),!(d[v]&&Ue(C,"display")==="none")){if(s.slidesPerView==="auto"){x&&(d[v].style[t.getDirectionLabel("width")]="");let S=getComputedStyle(C),T=C.style.transform,L=C.style.webkitTransform;if(T&&(C.style.transform="none"),L&&(C.style.webkitTransform="none"),s.roundLengths)A=t.isHorizontal()?kt(C,"width",!0):kt(C,"height",!0);else{let I=e(S,"width"),z=e(S,"padding-left"),V=e(S,"padding-right"),k=e(S,"margin-left"),P=e(S,"margin-right"),D=S.getPropertyValue("box-sizing");if(D&&D==="border-box")A=I+k+P;else{let{clientWidth:B,offsetWidth:X}=C;A=I+z+V+k+P+(X-B)}}T&&(C.style.transform=T),L&&(C.style.webkitTransform=L),s.roundLengths&&(A=Math.floor(A))}else A=(n-(s.slidesPerView-1)*u)/s.slidesPerView,s.roundLengths&&(A=Math.floor(A)),d[v]&&(d[v].style[t.getDirectionLabel("width")]=`${A}px`);d[v]&&(d[v].swiperSlideSize=A),b.push(A),s.centeredSlides?(g=g+A/2+w/2+u,w===0&&v!==0&&(g=g-n/2-u),v===0&&(g=g-n/2-u),Math.abs(g)<1/1e3&&(g=0),s.roundLengths&&(g=Math.floor(g)),_%s.slidesPerGroup===0&&p.push(g),m.push(g)):(s.roundLengths&&(g=Math.floor(g)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&p.push(g),m.push(g),g=g+A+u),t.virtualSize+=A+u,w=A,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,n)+M,a&&l&&(s.effect==="slide"||s.effect==="coverflow")&&(i.style.width=`${t.virtualSize+u}px`),s.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+u}px`),O&&t.grid.updateWrapperSize(A,p),!s.centeredSlides){let v=[];for(let C=0;C<p.length;C+=1){let S=p[C];s.roundLengths&&(S=Math.floor(S)),p[C]<=t.virtualSize-n&&v.push(S)}p=v,Math.floor(t.virtualSize-n)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-n)}if(o&&s.loop){let v=b[0]+u;if(s.slidesPerGroup>1){let C=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),S=v*s.slidesPerGroup;for(let T=0;T<C;T+=1)p.push(p[p.length-1]+S)}for(let C=0;C<t.virtual.slidesBefore+t.virtual.slidesAfter;C+=1)s.slidesPerGroup===1&&p.push(p[p.length-1]+v),m.push(m[m.length-1]+v),t.virtualSize+=v}if(p.length===0&&(p=[0]),u!==0){let v=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");d.filter((C,S)=>!s.cssMode||s.loop?!0:S!==d.length-1).forEach(C=>{C.style[v]=`${u}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let v=0;b.forEach(S=>{v+=S+(u||0)}),v-=u;let C=v-n;p=p.map(S=>S<=0?-y:S>C?C+M:S)}if(s.centerInsufficientSlides){let v=0;if(b.forEach(C=>{v+=C+(u||0)}),v-=u,v<n){let C=(n-v)/2;p.forEach((S,T)=>{p[T]=S-C}),m.forEach((S,T)=>{m[T]=S+C})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:m,slidesSizesGrid:b}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){mt(i,"--swiper-centered-offset-before",`${-p[0]}px`),mt(i,"--swiper-centered-offset-after",`${t.size/2-b[b.length-1]/2}px`);let v=-t.snapGrid[0],C=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(S=>S+v),t.slidesGrid=t.slidesGrid.map(S=>S+C)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==E&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==h&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!o&&!s.cssMode&&(s.effect==="slide"||s.effect==="fade")){let v=`${s.containerModifierClass}backface-hidden`,C=t.el.classList.contains(v);f<=s.maxBackfaceHiddenSlides?C||t.el.classList.add(v):C&&t.el.classList.remove(v)}}function Qr(t){let e=this,s=[],i=e.virtual&&e.params.virtual.enabled,r=0,n;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);let a=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{s.push(l)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){let l=e.activeIndex+n;if(l>e.slides.length&&!i)break;s.push(a(l))}else s.push(a(e.activeIndex));for(n=0;n<s.length;n+=1)if(typeof s[n]!="undefined"){let l=s[n].offsetHeight;r=l>r?l:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Zr(){let t=this,e=t.slides,s=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-s-t.cssOverflowAdjustment()}function Jr(t){t===void 0&&(t=this&&this.translate||0);let e=this,s=e.params,{slides:i,rtlTranslate:r,snapGrid:n}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let a=-t;r&&(a=t),i.forEach(o=>{o.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=s.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let o=0;o<i.length;o+=1){let c=i[o],d=c.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(d-=i[0].swiperSlideOffset);let f=(a+(s.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+l),p=(a-n[0]+(s.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+l),m=-(a-d),b=m+e.slidesSizesGrid[o],y=m>=0&&m<=e.size-e.slidesSizesGrid[o];(m>=0&&m<e.size-1||b>1&&b<=e.size||m<=0&&b>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(o),i[o].classList.add(s.slideVisibleClass)),y&&i[o].classList.add(s.slideFullyVisibleClass),c.progress=r?-f:f,c.originalProgress=r?-p:p}}function en(t){let e=this;if(typeof t=="undefined"){let d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}let s=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:r,isBeginning:n,isEnd:a,progressLoop:l}=e,o=n,c=a;if(i===0)r=0,n=!0,a=!0;else{r=(t-e.minTranslate())/i;let d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;n=d||r<=0,a=f||r>=1,d&&(r=0),f&&(r=1)}if(s.loop){let d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],m=e.slidesGrid[f],b=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=p?l=(y-p)/b:l=(y+b-m)/b,l>1&&(l-=1)}Object.assign(e,{progress:r,progressLoop:l,isBeginning:n,isEnd:a}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&e.updateSlidesProgress(t),n&&!o&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(o&&!n||c&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function tn(){let t=this,{slides:e,params:s,slidesEl:i,activeIndex:r}=t,n=t.virtual&&s.virtual.enabled,a=t.grid&&s.grid&&s.grid.rows>1,l=f=>me(i,`.${s.slideClass}${f}, swiper-slide${f}`)[0];e.forEach(f=>{f.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let o,c,d;if(n)if(s.loop){let f=r-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),o=l(`[data-swiper-slide-index="${f}"]`)}else o=l(`[data-swiper-slide-index="${r}"]`);else a?(o=e.filter(f=>f.column===r)[0],d=e.filter(f=>f.column===r+1)[0],c=e.filter(f=>f.column===r-1)[0]):o=e[r];o&&(o.classList.add(s.slideActiveClass),a?(d&&d.classList.add(s.slideNextClass),c&&c.classList.add(s.slidePrevClass)):(d=Ci(o,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=e[0]),d&&d.classList.add(s.slideNextClass),c=Ei(o,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(s.slidePrevClass))),t.emitSlidesClasses()}var qt=(t,e)=>{if(!t||t.destroyed||!t.params)return;let s=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(s());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},_s=(t,e)=>{if(!t.slides[e])return;let s=t.slides[e].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Ls=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext,s=t.slides.length;if(!s||!e||e<0)return;e=Math.min(e,s);let i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let a=r,l=[a-e];l.push(...Array.from({length:e}).map((o,c)=>a+i+c)),t.slides.forEach((o,c)=>{l.includes(o.column)&&_s(t,c)});return}let n=r+i-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=n+e;a+=1){let l=(a%s+s)%s;(l<r||l>n)&&_s(t,l)}else for(let a=Math.max(r-e,0);a<=Math.min(n+e,s-1);a+=1)a!==r&&(a>n||a<r)&&_s(t,a)};function sn(t){let{slidesGrid:e,params:s}=t,i=t.rtlTranslate?t.translate:-t.translate,r;for(let n=0;n<e.length;n+=1)typeof e[n+1]!="undefined"?i>=e[n]&&i<e[n+1]-(e[n+1]-e[n])/2?r=n:i>=e[n]&&i<e[n+1]&&(r=n+1):i>=e[n]&&(r=n);return s.normalizeSlideIndex&&(r<0||typeof r=="undefined")&&(r=0),r}function rn(t){let e=this,s=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:n,realIndex:a,snapIndex:l}=e,o=t,c,d=m=>{let b=m-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof o=="undefined"&&(o=sn(e)),i.indexOf(s)>=0)c=i.indexOf(s);else{let m=Math.min(r.slidesPerGroupSkip,o);c=m+Math.floor((o-m)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),o===n&&!e.params.loop){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(o===n&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(o);return}let f=e.grid&&r.grid&&r.grid.rows>1,p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(o);else if(f){let m=e.slides.filter(y=>y.column===o)[0],b=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(m),0)),p=Math.floor(b/r.grid.rows)}else if(e.slides[o]){let m=e.slides[o].getAttribute("data-swiper-slide-index");m?p=parseInt(m,10):p=o}else p=o;Object.assign(e,{previousSnapIndex:l,snapIndex:c,previousRealIndex:a,realIndex:p,previousIndex:n,activeIndex:o}),e.initialized&&Ls(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function nn(t,e){let s=this,i=s.params,r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&s.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!r&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(r=l)});let n=!1,a;if(r){for(let l=0;l<s.slides.length;l+=1)if(s.slides[l]===r){n=!0,a=l;break}}if(r&&n)s.clickedSlide=r,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=a;else{s.clickedSlide=void 0,s.clickedIndex=void 0;return}i.slideToClickedSlide&&s.clickedIndex!==void 0&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}var an={updateSize:Ur,updateSlides:Kr,updateAutoHeight:Qr,updateSlidesOffset:Zr,updateSlidesProgress:Jr,updateProgress:en,updateSlidesClasses:tn,updateActiveIndex:rn,updateClickedSlide:nn};function on(t){t===void 0&&(t=this.isHorizontal()?"x":"y");let e=this,{params:s,rtlTranslate:i,translate:r,wrapperEl:n}=e;if(s.virtualTranslate)return i?-r:r;if(s.cssMode)return r;let a=xs(n,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function ln(t,e){let s=this,{rtlTranslate:i,params:r,wrapperEl:n,progress:a}=s,l=0,o=0,c=0;s.isHorizontal()?l=i?-t:t:o=t,r.roundLengths&&(l=Math.floor(l),o=Math.floor(o)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:o,r.cssMode?n[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-o:r.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():o-=s.cssOverflowAdjustment(),n.style.transform=`translate3d(${l}px, ${o}px, ${c}px)`);let d,f=s.maxTranslate()-s.minTranslate();f===0?d=0:d=(t-s.minTranslate())/f,d!==a&&s.updateProgress(t),s.emit("setTranslate",s.translate,e)}function cn(){return-this.snapGrid[0]}function dn(){return-this.snapGrid[this.snapGrid.length-1]}function un(t,e,s,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),i===void 0&&(i=!0);let n=this,{params:a,wrapperEl:l}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;let o=n.minTranslate(),c=n.maxTranslate(),d;if(i&&t>o?d=o:i&&t<c?d=c:d=t,n.updateProgress(d),a.cssMode){let f=n.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!n.support.smoothScroll)return Ts({swiper:n,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(n.setTransition(0),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(d),s&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(p){!n||n.destroyed||p.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,s&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var fn={getTranslate:on,setTranslate:ln,minTranslate:cn,maxTranslate:dn,translateTo:un};function pn(t,e){let s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${t}ms`,s.wrapperEl.style.transitionDelay=t===0?"0ms":""),s.emit("setTransition",t,e)}function Ii(t){let{swiper:e,runCallbacks:s,direction:i,step:r}=t,{activeIndex:n,previousIndex:a}=e,l=i;if(l||(n>a?l="next":n<a?l="prev":l="reset"),e.emit(`transition${r}`),s&&n!==a){if(l==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),l==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function hn(t,e){t===void 0&&(t=!0);let s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),Ii({swiper:s,runCallbacks:t,direction:e,step:"Start"}))}function mn(t,e){t===void 0&&(t=!0);let s=this,{params:i}=s;s.animating=!1,!i.cssMode&&(s.setTransition(0),Ii({swiper:s,runCallbacks:t,direction:e,step:"End"}))}var gn={setTransition:pn,transitionStart:hn,transitionEnd:mn};function vn(t,e,s,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));let n=this,a=t;a<0&&(a=0);let{params:l,snapGrid:o,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:m,enabled:b}=n;if(n.animating&&l.preventInteractionOnTransition||!b&&!i&&!r)return!1;let y=Math.min(n.params.slidesPerGroupSkip,a),M=y+Math.floor((a-y)/n.params.slidesPerGroup);M>=o.length&&(M=o.length-1);let E=-o[M];if(l.normalizeSlideIndex)for(let u=0;u<c.length;u+=1){let g=-Math.floor(E*100),w=Math.floor(c[u]*100),_=Math.floor(c[u+1]*100);typeof c[u+1]!="undefined"?g>=w&&g<_-(_-w)/2?a=u:g>=w&&g<_&&(a=u+1):g>=w&&(a=u)}if(n.initialized&&a!==f&&(!n.allowSlideNext&&(p?E>n.translate&&E>n.minTranslate():E<n.translate&&E<n.minTranslate())||!n.allowSlidePrev&&E>n.translate&&E>n.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&s&&n.emit("beforeSlideChangeStart"),n.updateProgress(E);let h;if(a>f?h="next":a<f?h="prev":h="reset",p&&-E===n.translate||!p&&E===n.translate)return n.updateActiveIndex(a),l.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),l.effect!=="slide"&&n.setTranslate(E),h!=="reset"&&(n.transitionStart(s,h),n.transitionEnd(s,h)),!1;if(l.cssMode){let u=n.isHorizontal(),g=p?E:-E;if(e===0){let w=n.virtual&&n.params.virtual.enabled;w&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),w&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[u?"scrollLeft":"scrollTop"]=g})):m[u?"scrollLeft":"scrollTop"]=g,w&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1})}else{if(!n.support.smoothScroll)return Ts({swiper:n,targetPosition:g,side:u?"left":"top"}),!0;m.scrollTo({[u?"left":"top"]:g,behavior:"smooth"})}return!0}return n.setTransition(e),n.setTranslate(E),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,i),n.transitionStart(s,h),e===0?n.transitionEnd(s,h):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(g){!n||n.destroyed||g.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(s,h))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function yn(t,e,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));let r=this,n=r.grid&&r.params.grid&&r.params.grid.rows>1,a=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let l;if(n){let p=a*r.params.grid.rows;l=r.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===p)[0].column}else l=r.getSlideIndexByData(a);let o=n?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params,d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=o-l<d;if(c&&(f=f||l<Math.ceil(d/2)),f){let p=c?l<r.activeIndex?"prev":"next":l-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?l+1:l-o+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(n){let p=a*r.params.grid.rows;a=r.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===p)[0].column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,s,i)}),r}function bn(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this,{enabled:r,params:n,animating:a}=i;if(!r)return i;let l=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));let o=i.activeIndex<n.slidesPerGroupSkip?1:l,c=i.virtual&&n.virtual.enabled;if(n.loop){if(a&&!c&&n.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+o,t,e,s)}),!0}return n.rewind&&i.isEnd?i.slideTo(0,t,e,s):i.slideTo(i.activeIndex+o,t,e,s)}function wn(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this,{params:r,snapGrid:n,slidesGrid:a,rtlTranslate:l,enabled:o,animating:c}=i;if(!o)return i;let d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let f=l?i.translate:-i.translate;function p(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}let m=p(f),b=n.map(E=>p(E)),y=n[b.indexOf(m)-1];if(typeof y=="undefined"&&r.cssMode){let E;n.forEach((h,u)=>{m>=h&&(E=u)}),typeof E!="undefined"&&(y=n[E>0?E-1:E])}let M=0;if(typeof y!="undefined"&&(M=a.indexOf(y),M<0&&(M=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(M=M-i.slidesPerViewDynamic("previous",!0)+1,M=Math.max(M,0))),r.rewind&&i.isBeginning){let E=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(E,t,e,s)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(M,t,e,s)}),!0;return i.slideTo(M,t,e,s)}function Sn(t,e,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let i=this;return i.slideTo(i.activeIndex,t,e,s)}function xn(t,e,s,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);let r=this,n=r.activeIndex,a=Math.min(r.params.slidesPerGroupSkip,n),l=a+Math.floor((n-a)/r.params.slidesPerGroup),o=r.rtlTranslate?r.translate:-r.translate;if(o>=r.snapGrid[l]){let c=r.snapGrid[l],d=r.snapGrid[l+1];o-c>(d-c)*i&&(n+=r.params.slidesPerGroup)}else{let c=r.snapGrid[l-1],d=r.snapGrid[l];o-c<=(d-c)*i&&(n-=r.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,r.slidesGrid.length-1),r.slideTo(n,t,e,s)}function Tn(){let t=this,{params:e,slidesEl:s}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView,r=t.clickedIndex,n,a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;n=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(me(s,`${a}[data-swiper-slide-index="${n}"]`)[0]),qe(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(me(s,`${a}[data-swiper-slide-index="${n}"]`)[0]),qe(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var En={slideTo:vn,slideToLoop:yn,slideNext:bn,slidePrev:wn,slideReset:Sn,slideToClosest:xn,slideToClickedSlide:Tn};function Cn(t){let e=this,{params:s,slidesEl:i}=e;if(!s.loop||e.virtual&&e.params.virtual.enabled)return;let r=()=>{me(i,`.${s.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},n=e.grid&&s.grid&&s.grid.rows>1,a=s.slidesPerGroup*(n?s.grid.rows:1),l=e.slides.length%a!==0,o=n&&e.slides.length%s.grid.rows!==0,c=d=>{for(let f=0;f<d;f+=1){let p=e.isElement?Re("swiper-slide",[s.slideBlankClass]):Re("div",[s.slideClass,s.slideBlankClass]);e.slidesEl.append(p)}};if(l){if(s.loopAddBlankSlides){let d=a-e.slides.length%a;c(d),e.recalcSlides(),e.updateSlides()}else $t("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(o){if(s.loopAddBlankSlides){let d=s.grid.rows-e.slides.length%s.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else $t("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next"})}function Mn(t){let{slideRealIndex:e,slideTo:s=!0,direction:i,setTranslate:r,activeSlideIndex:n,byController:a,byMousewheel:l}=t===void 0?{}:t,o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:m}=o,{centeredSlides:b}=m;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&m.virtual.enabled){s&&(!m.centeredSlides&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):m.centeredSlides&&o.snapIndex<m.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=d,o.allowSlideNext=f,o.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=o.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),b&&y%2===0&&(y=y+1));let M=m.slidesPerGroupAuto?y:m.slidesPerGroup,E=M;E%M!==0&&(E+=M-E%M),E+=m.loopAdditionalSlides,o.loopedSlides=E;let h=o.grid&&m.grid&&m.grid.rows>1;c.length<y+E?$t("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):h&&m.grid.fill==="row"&&$t("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let u=[],g=[],w=o.activeIndex;typeof n=="undefined"?n=o.getSlideIndex(c.filter(T=>T.classList.contains(m.slideActiveClass))[0]):w=n;let _=i==="next"||!i,O=i==="prev"||!i,A=0,x=0,v=h?Math.ceil(c.length/m.grid.rows):c.length,S=(h?c[n].column:n)+(b&&typeof r=="undefined"?-y/2+.5:0);if(S<E){A=Math.max(E-S,M);for(let T=0;T<E-S;T+=1){let L=T-Math.floor(T/v)*v;if(h){let I=v-L-1;for(let z=c.length-1;z>=0;z-=1)c[z].column===I&&u.push(z)}else u.push(v-L-1)}}else if(S+y>v-E){x=Math.max(S-(v-E*2),M);for(let T=0;T<x;T+=1){let L=T-Math.floor(T/v)*v;h?c.forEach((I,z)=>{I.column===L&&g.push(z)}):g.push(L)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),O&&u.forEach(T=>{c[T].swiperLoopMoveDOM=!0,p.prepend(c[T]),c[T].swiperLoopMoveDOM=!1}),_&&g.forEach(T=>{c[T].swiperLoopMoveDOM=!0,p.append(c[T]),c[T].swiperLoopMoveDOM=!1}),o.recalcSlides(),m.slidesPerView==="auto"?o.updateSlides():h&&(u.length>0&&O||g.length>0&&_)&&o.slides.forEach((T,L)=>{o.grid.updateSlide(L,T,o.slides)}),m.watchSlidesProgress&&o.updateSlidesOffset(),s){if(u.length>0&&O){if(typeof e=="undefined"){let T=o.slidesGrid[w],I=o.slidesGrid[w+A]-T;l?o.setTranslate(o.translate-I):(o.slideTo(w+A,0,!1,!0),r&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else if(r){let T=h?u.length/m.grid.rows:u.length;o.slideTo(o.activeIndex+T,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(g.length>0&&_)if(typeof e=="undefined"){let T=o.slidesGrid[w],I=o.slidesGrid[w-x]-T;l?o.setTranslate(o.translate-I):(o.slideTo(w-x,0,!1,!0),r&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else{let T=h?g.length/m.grid.rows:g.length;o.slideTo(o.activeIndex-T,0,!1,!0)}}if(o.allowSlidePrev=d,o.allowSlideNext=f,o.controller&&o.controller.control&&!a){let T={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:n,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(L=>{!L.destroyed&&L.params.loop&&L.loopFix(Ze(Me({},T),{slideTo:L.params.slidesPerView===m.slidesPerView?s:!1}))}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix(Ze(Me({},T),{slideTo:o.controller.control.params.slidesPerView===m.slidesPerView?s:!1}))}o.emit("loopFix")}function _n(){let t=this,{params:e,slidesEl:s}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let i=[];t.slides.forEach(r=>{let n=typeof r.swiperSlideIndex=="undefined"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[n]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{s.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Pn={loopCreate:Cn,loopFix:Mn,loopDestroy:_n};function An(t){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let s=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ln(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var In={setGrabCursor:An,unsetGrabCursor:Ln};function $n(t,e){e===void 0&&(e=this);function s(i){if(!i||i===he()||i===oe())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(t);return!r&&!i.getRootNode?null:r||s(i.getRootNode().host)}return s(e)}function Mi(t,e,s){let i=oe(),{params:r}=t,n=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return n&&(s<=a||s>=i.innerWidth-a)?n==="prevent"?(e.preventDefault(),!0):!1:!0}function kn(t){let e=this,s=he(),i=t;i.originalEvent&&(i=i.originalEvent);let r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Mi(e,i,i.targetTouches[0].pageX);return}let{params:n,touches:a,enabled:l}=e;if(!l||!n.simulateTouch&&i.pointerType==="mouse"||e.animating&&n.preventInteractionOnTransition)return;!e.animating&&n.cssMode&&n.loop&&e.loopFix();let o=i.target;if(n.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(o)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let c=!!n.noSwipingClass&&n.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(o=d[0]);let f=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(n.noSwiping&&(p?$n(f,o):o.closest(f))){e.allowClick=!0;return}if(n.swipeHandler&&!o.closest(n.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;let m=a.currentX,b=a.currentY;if(!Mi(e,i,m))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=m,a.startY=b,r.touchStartTime=Oe(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,n.threshold>0&&(r.allowThresholdMove=!1);let y=!0;o.matches(r.focusableElements)&&(y=!1,o.nodeName==="SELECT"&&(r.isTouched=!1)),s.activeElement&&s.activeElement.matches(r.focusableElements)&&s.activeElement!==o&&s.activeElement.blur();let M=y&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||M)&&!o.isContentEditable&&i.preventDefault(),n.freeMode&&n.freeMode.enabled&&e.freeMode&&e.animating&&!n.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function On(t){let e=he(),s=this,i=s.touchEventsData,{params:r,touches:n,rtlTranslate:a,enabled:l}=s;if(!l||!r.simulateTouch&&t.pointerType==="mouse")return;let o=t;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(i.touchId!==null||o.pointerId!==i.pointerId))return;let c;if(o.type==="touchmove"){if(c=[...o.changedTouches].filter(_=>_.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=o;if(!i.isTouched){i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",o);return}let d=c.pageX,f=c.pageY;if(o.preventedByNestedSwiper){n.startX=d,n.startY=f;return}if(!s.allowTouchMove){o.target.matches(i.focusableElements)||(s.allowClick=!1),i.isTouched&&(Object.assign(n,{startX:d,startY:f,currentX:d,currentY:f}),i.touchStartTime=Oe());return}if(r.touchReleaseOnEdges&&!r.loop){if(s.isVertical()){if(f<n.startY&&s.translate<=s.maxTranslate()||f>n.startY&&s.translate>=s.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<n.startX&&s.translate<=s.maxTranslate()||d>n.startX&&s.translate>=s.minTranslate())return}if(e.activeElement&&o.target===e.activeElement&&o.target.matches(i.focusableElements)){i.isMoved=!0,s.allowClick=!1;return}i.allowTouchCallbacks&&s.emit("touchMove",o),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=d,n.currentY=f;let p=n.currentX-n.startX,m=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(ke(p,2)+ke(m,2))<s.params.threshold)return;if(typeof i.isScrolling=="undefined"){let _;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:p*p+m*m>=25&&(_=Math.atan2(Math.abs(m),Math.abs(p))*180/Math.PI,i.isScrolling=s.isHorizontal()?_>r.touchAngle:90-_>r.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",o),typeof i.startMoving=="undefined"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&o.cancelable&&o.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&o.stopPropagation();let b=s.isHorizontal()?p:m,y=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;r.oneWayMovement&&(b=Math.abs(b)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),n.diff=b,b*=r.touchRatio,a&&(b=-b,y=-y);let M=s.touchesDirection;s.swipeDirection=b>0?"prev":"next",s.touchesDirection=y>0?"prev":"next";let E=s.params.loop&&!r.cssMode,h=s.touchesDirection==="next"&&s.allowSlideNext||s.touchesDirection==="prev"&&s.allowSlidePrev;if(!i.isMoved){if(E&&h&&s.loopFix({direction:s.swipeDirection}),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){let _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(_)}i.allowMomentumBounce=!1,r.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",o)}let u;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&M!==s.touchesDirection&&E&&h&&Math.abs(b)>=1){Object.assign(n,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}s.emit("sliderMove",o),i.isMoved=!0,i.currentTranslate=b+i.startTranslate;let g=!0,w=r.resistanceRatio;if(r.touchReleaseOnEdges&&(w=0),b>0?(E&&h&&!u&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>s.minTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+ke(-s.minTranslate()+i.startTranslate+b,w)))):b<0&&(E&&h&&!u&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(r.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<s.maxTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=s.maxTranslate()+1-ke(s.maxTranslate()-i.startTranslate-b,w)))),g&&(o.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(b)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function Dn(t){let e=this,s=e.touchEventsData,i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter(w=>w.identifier===s.touchId)[0],!r||r.identifier!==s.touchId)return}else{if(s.touchId!==null||i.pointerId!==s.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;s.pointerId=null,s.touchId=null;let{params:a,touches:l,rtlTranslate:o,slidesGrid:c,enabled:d}=e;if(!d||!a.simulateTouch&&i.pointerType==="mouse")return;if(s.allowTouchCallbacks&&e.emit("touchEnd",i),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&a.grabCursor&&e.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}a.grabCursor&&s.isMoved&&s.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let f=Oe(),p=f-s.touchStartTime;if(e.allowClick){let w=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(w&&w[0]||i.target,w),e.emit("tap click",i),p<300&&f-s.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(s.lastClickTime=Oe(),qe(()=>{e.destroyed||(e.allowClick=!0)}),!s.isTouched||!s.isMoved||!e.swipeDirection||l.diff===0&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let m;if(a.followFinger?m=o?e.translate:-e.translate:m=-s.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}let b=m>=-e.maxTranslate()&&!e.params.loop,y=0,M=e.slidesSizesGrid[0];for(let w=0;w<c.length;w+=w<a.slidesPerGroupSkip?1:a.slidesPerGroup){let _=w<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof c[w+_]!="undefined"?(b||m>=c[w]&&m<c[w+_])&&(y=w,M=c[w+_]-c[w]):(b||m>=c[w])&&(y=w,M=c[c.length-1]-c[c.length-2])}let E=null,h=null;a.rewind&&(e.isBeginning?h=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));let u=(m-c[y])/M,g=y<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(u>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?E:y+g):e.slideTo(y)),e.swipeDirection==="prev"&&(u>1-a.longSwipesRatio?e.slideTo(y+g):h!==null&&u<0&&Math.abs(u)>a.longSwipesRatio?e.slideTo(h):e.slideTo(y))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(y+g):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:y+g),e.swipeDirection==="prev"&&e.slideTo(h!==null?h:y))}}function _i(){let t=this,{params:e,el:s}=t;if(s&&s.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:n}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&n!==t.snapGrid&&t.checkOverflow()}function zn(t){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Rn(){let t=this,{wrapperEl:e,rtlTranslate:s,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r,n=t.maxTranslate()-t.minTranslate();n===0?r=0:r=(t.translate-t.minTranslate())/n,r!==t.progress&&t.updateProgress(s?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Bn(t){let e=this;qt(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Nn(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var $i=(t,e)=>{let s=he(),{params:i,el:r,wrapperEl:n,device:a}=t,l=!!i.nested,o=e==="on"?"addEventListener":"removeEventListener",c=e;s[o]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),r[o]("touchstart",t.onTouchStart,{passive:!1}),r[o]("pointerdown",t.onTouchStart,{passive:!1}),s[o]("touchmove",t.onTouchMove,{passive:!1,capture:l}),s[o]("pointermove",t.onTouchMove,{passive:!1,capture:l}),s[o]("touchend",t.onTouchEnd,{passive:!0}),s[o]("pointerup",t.onTouchEnd,{passive:!0}),s[o]("pointercancel",t.onTouchEnd,{passive:!0}),s[o]("touchcancel",t.onTouchEnd,{passive:!0}),s[o]("pointerout",t.onTouchEnd,{passive:!0}),s[o]("pointerleave",t.onTouchEnd,{passive:!0}),s[o]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[o]("click",t.onClick,!0),i.cssMode&&n[o]("scroll",t.onScroll),i.updateOnWindowResize?t[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",_i,!0):t[c]("observerUpdate",_i,!0),r[o]("load",t.onLoad,{capture:!0})};function Fn(){let t=this,{params:e}=t;t.onTouchStart=kn.bind(t),t.onTouchMove=On.bind(t),t.onTouchEnd=Dn.bind(t),t.onDocumentTouchStart=Nn.bind(t),e.cssMode&&(t.onScroll=Rn.bind(t)),t.onClick=zn.bind(t),t.onLoad=Bn.bind(t),$i(t,"on")}function Vn(){$i(this,"off")}var Yn={attachEvents:Fn,detachEvents:Vn},Pi=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Xn(){let t=this,{realIndex:e,initialized:s,params:i,el:r}=t,n=i.breakpoints;if(!n||n&&Object.keys(n).length===0)return;let a=t.getBreakpoint(n,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;let o=(a in n?n[a]:void 0)||t.originalParams,c=Pi(t,i),d=Pi(t,o),f=i.enabled;c&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(o.grid.fill&&o.grid.fill==="column"||!o.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof o[E]=="undefined")return;let h=i[E]&&i[E].enabled,u=o[E]&&o[E].enabled;h&&!u&&t[E].disable(),!h&&u&&t[E].enable()});let p=o.direction&&o.direction!==i.direction,m=i.loop&&(o.slidesPerView!==i.slidesPerView||p),b=i.loop;p&&s&&t.changeDirection(),_e(t.params,o);let y=t.params.enabled,M=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!y?t.disable():!f&&y&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",o),s&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!b&&M?(t.loopCreate(e),t.updateSlides()):b&&!M&&t.loopDestroy()),t.emit("breakpoint",o)}function Hn(t,e,s){if(e===void 0&&(e="window"),!t||e==="container"&&!s)return;let i=!1,r=oe(),n=e==="window"?r.innerHeight:s.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){let o=parseFloat(l.substr(1));return{value:n*o,point:l}}return{value:l,point:l}});a.sort((l,o)=>parseInt(l.value,10)-parseInt(o.value,10));for(let l=0;l<a.length;l+=1){let{point:o,value:c}=a[l];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=o):c<=s.clientWidth&&(i=o)}return i||"max"}var Wn={setBreakpoint:Xn,getBreakpoint:Hn};function Gn(t,e){let s=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&s.push(e+r)}):typeof i=="string"&&s.push(e+i)}),s}function qn(){let t=this,{classNames:e,params:s,rtl:i,el:r,device:n}=t,a=Gn(["initialized",s.direction,{"free-mode":t.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function jn(){let t=this,{el:e,classNames:s}=t;e.classList.remove(...s),t.emitContainerClasses()}var Un={addClasses:qn,removeClasses:jn};function Kn(){let t=this,{isLocked:e,params:s}=t,{slidesOffsetBefore:i}=s;if(i){let r=t.slides.length-1,n=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>n}else t.isLocked=t.snapGrid.length===1;s.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),s.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Qn={checkOverflow:Kn},Ai={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Zn(t,e){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],n=i[r];if(typeof n!="object"||n===null){_e(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in n)){_e(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),_e(e,i)}}var Ps={eventsEmitter:jr,update:an,translate:fn,transition:gn,slide:En,loop:Pn,grabCursor:In,events:Yn,breakpoints:Wn,checkOverflow:Qn,classes:Un},As={},Ke=class t{constructor(){let e,s;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?s=r[0]:[e,s]=r,s||(s={}),s=_e({},s),e&&!s.el&&(s.el=e);let a=he();if(s.el&&typeof s.el=="string"&&a.querySelectorAll(s.el).length>1){let d=[];return a.querySelectorAll(s.el).forEach(f=>{let p=_e({},s,{el:f});d.push(new t(p))}),d}let l=this;l.__swiper__=!0,l.support=Li(),l.device=Xr({userAgent:s.userAgent}),l.browser=Wr(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],s.modules&&Array.isArray(s.modules)&&l.modules.push(...s.modules);let o={};l.modules.forEach(d=>{d({params:s,swiper:l,extendParams:Zn(s,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});let c=_e({},Ai,o);return l.params=_e({},c,As,s),l.originalParams=_e({},l.params),l.passedParams=_e({},s),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/ke(2,23))*ke(2,23)},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:s,params:i}=this,r=me(s,`.${i.slideClass}, swiper-slide`),n=at(r[0]);return at(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:s,params:i}=e;e.slides=me(s,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,s){let i=this;e=Math.min(Math.max(e,0),1);let r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof s=="undefined"?0:s),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let s=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",s.join(" "))}getSlideClasses(e){let s=this;return s.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let s=[];e.slides.forEach(i=>{let r=e.getSlideClasses(i);s.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",s)}slidesPerViewDynamic(e,s){e===void 0&&(e="current"),s===void 0&&(s=!1);let i=this,{params:r,slides:n,slidesGrid:a,slidesSizesGrid:l,size:o,activeIndex:c}=i,d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=n[c]?n[c].swiperSlideSize:0,p;for(let m=c+1;m<n.length;m+=1)n[m]&&!p&&(f+=n[m].swiperSlideSize,d+=1,f>o&&(p=!0));for(let m=c-1;m>=0;m-=1)n[m]&&!p&&(f+=n[m].swiperSlideSize,d+=1,f>o&&(p=!0))}else if(e==="current")for(let f=c+1;f<n.length;f+=1)(s?a[f]+l[f]-a[c]<o:a[f]-a[c]<o)&&(d+=1);else for(let f=c-1;f>=0;f-=1)a[c]-a[f]<o&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:s,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&qt(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){let a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(a.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||r()}i.watchOverflow&&s!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,s){s===void 0&&(s=!0);let i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(n=>{e==="vertical"?n.style.width="":n.style.height=""}),i.emit("changeDirection"),s&&i.update()),i}changeLanguageDirection(e){let s=this;s.rtl&&e==="rtl"||!s.rtl&&e==="ltr"||(s.rtl=e==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(e){let s=this;if(s.mounted)return!0;let i=e||s.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=s,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(s.isElement=!0);let r=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`,a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):me(i,r())[0];return!a&&s.params.createElements&&(a=Re("div",s.params.wrapperClass),i.append(a),me(i,`.${s.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(s,{el:i,wrapperEl:a,slidesEl:s.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:s.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ue(i,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ue(i,"direction")==="rtl"),wrongRTL:Ue(a,"display")==="-webkit-box"}),!0}init(e){let s=this;if(s.initialized||s.mount(e)===!1)return s;s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents();let r=[...s.el.querySelectorAll('[loading="lazy"]')];return s.isElement&&r.push(...s.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(n=>{n.complete?qt(s,n):n.addEventListener("load",a=>{qt(s,a.target)})}),Ls(s),s.initialized=!0,Ls(s),s.emit("init"),s.emit("afterInit"),s}destroy(e,s){e===void 0&&(e=!0),s===void 0&&(s=!0);let i=this,{params:r,el:n,wrapperEl:a,slides:l}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),s&&(i.removeClasses(),n.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(o=>{o.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(o=>{i.off(o)}),e!==!1&&(i.el.swiper=null,Ti(i)),i.destroyed=!0),null}static extendDefaults(e){_e(As,e)}static get extendedDefaults(){return As}static get defaults(){return Ai}static installModule(e){t.prototype.__modules__||(t.prototype.__modules__=[]);let s=t.prototype.__modules__;typeof e=="function"&&s.indexOf(e)<0&&s.push(e)}static use(e){return Array.isArray(e)?(e.forEach(s=>t.installModule(s)),t):(t.installModule(e),t)}};Object.keys(Ps).forEach(t=>{Object.keys(Ps[t]).forEach(e=>{Ke.prototype[e]=Ps[t][e]})});Ke.use([Gr,qr]);function Is(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n=oe();s({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,l=Oe(),o,c=[];function d(u){let O=0,A=0,x=0,v=0;return"detail"in u&&(A=u.detail),"wheelDelta"in u&&(A=-u.wheelDelta/120),"wheelDeltaY"in u&&(A=-u.wheelDeltaY/120),"wheelDeltaX"in u&&(O=-u.wheelDeltaX/120),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(O=A,A=0),x=O*10,v=A*10,"deltaY"in u&&(v=u.deltaY),"deltaX"in u&&(x=u.deltaX),u.shiftKey&&!x&&(x=v,v=0),(x||v)&&u.deltaMode&&(u.deltaMode===1?(x*=40,v*=40):(x*=800,v*=800)),x&&!O&&(O=x<1?-1:1),v&&!A&&(A=v<1?-1:1),{spinX:O,spinY:A,pixelX:x,pixelY:v}}function f(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function m(u){return e.params.mousewheel.thresholdDelta&&u.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Oe()-l<e.params.mousewheel.thresholdTime?!1:u.delta>=6&&Oe()-l<60?!0:(u.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",u.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",u.raw)),l=new n.Date().getTime(),!1)}function b(u){let g=e.params.mousewheel;if(u.direction<0){if(e.isEnd&&!e.params.loop&&g.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&g.releaseOnEdges)return!0;return!1}function y(u){let g=u,w=!0;if(!e.enabled||u.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let _=e.params.mousewheel;e.params.cssMode&&g.preventDefault();let O=e.el;e.params.mousewheel.eventsTarget!=="container"&&(O=document.querySelector(e.params.mousewheel.eventsTarget));let A=O&&O.contains(g.target);if(!e.mouseEntered&&!A&&!_.releaseOnEdges)return!0;g.originalEvent&&(g=g.originalEvent);let x=0,v=e.rtlTranslate?-1:1,C=d(g);if(_.forceToAxis)if(e.isHorizontal())if(Math.abs(C.pixelX)>Math.abs(C.pixelY))x=-C.pixelX*v;else return!0;else if(Math.abs(C.pixelY)>Math.abs(C.pixelX))x=-C.pixelY;else return!0;else x=Math.abs(C.pixelX)>Math.abs(C.pixelY)?-C.pixelX*v:-C.pixelY;if(x===0)return!0;_.invert&&(x=-x);let S=e.getTranslate()+x*_.sensitivity;if(S>=e.minTranslate()&&(S=e.minTranslate()),S<=e.maxTranslate()&&(S=e.maxTranslate()),w=e.params.loop?!0:!(S===e.minTranslate()||S===e.maxTranslate()),w&&e.params.nested&&g.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let T={time:Oe(),delta:Math.abs(x),direction:Math.sign(x),raw:u};c.length>=2&&c.shift();let L=c.length?c[c.length-1]:void 0;if(c.push(T),L?(T.direction!==L.direction||T.delta>L.delta||T.time>L.time+150)&&m(T):m(T),b(T))return!0}else{let T={time:Oe(),delta:Math.abs(x),direction:Math.sign(x)},L=o&&T.time<o.time+500&&T.delta<=o.delta&&T.direction===o.direction;if(!L){o=void 0;let I=e.getTranslate()+x*_.sensitivity,z=e.isBeginning,V=e.isEnd;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),e.setTransition(0),e.setTranslate(I),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!z&&e.isBeginning||!V&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:T.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,c.length>=15&&c.shift();let k=c.length?c[c.length-1]:void 0,P=c[0];if(c.push(T),k&&(T.delta>k.delta||T.direction!==k.direction))c.splice(0);else if(c.length>=15&&T.time-P.time<500&&P.delta-T.delta>=1&&T.delta<=6){let D=x>0?.8:.2;o=T,c.splice(0),a=qe(()=>{e.slideToClosest(e.params.speed,!0,void 0,D)},0)}a||(a=qe(()=>{o=T,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(L||r("scroll",g),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),_.releaseOnEdges&&(I===e.minTranslate()||I===e.maxTranslate()))return!0}}return g.preventDefault?g.preventDefault():g.returnValue=!1,!1}function M(u){let g=e.el;e.params.mousewheel.eventsTarget!=="container"&&(g=document.querySelector(e.params.mousewheel.eventsTarget)),g[u]("mouseenter",f),g[u]("mouseleave",p),g[u]("wheel",y)}function E(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",y),!0):e.mousewheel.enabled?!1:(M("addEventListener"),e.mousewheel.enabled=!0,!0)}function h(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,y),!0):e.mousewheel.enabled?(M("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&h(),e.params.mousewheel.enabled&&E()}),i("destroy",()=>{e.params.cssMode&&E(),e.mousewheel.enabled&&h()}),Object.assign(e.mousewheel,{enable:E,disable:h})}function Ot(t,e,s,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!s[r]&&s.auto===!0){let n=me(t.el,`.${i[r]}`)[0];n||(n=Re("div",i[r]),n.className=i[r],t.el.append(n)),s[r]=n,e[r]=n}}),s}function jt(t){let{swiper:e,extendParams:s,on:i,emit:r}=t;s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let n=y=>(Array.isArray(y)?y:[y]).filter(M=>!!M);function a(y){let M;return y&&typeof y=="string"&&e.isElement&&(M=e.el.querySelector(y),M)?M:(y&&(typeof y=="string"&&(M=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&M.length>1&&e.el.querySelectorAll(y).length===1&&(M=e.el.querySelector(y))),y&&!M?y:M)}function l(y,M){let E=e.params.navigation;y=n(y),y.forEach(h=>{h&&(h.classList[M?"add":"remove"](...E.disabledClass.split(" ")),h.tagName==="BUTTON"&&(h.disabled=M),e.params.watchOverflow&&e.enabled&&h.classList[e.isLocked?"add":"remove"](E.lockClass))})}function o(){let{nextEl:y,prevEl:M}=e.navigation;if(e.params.loop){l(M,!1),l(y,!1);return}l(M,e.isBeginning&&!e.params.rewind),l(y,e.isEnd&&!e.params.rewind)}function c(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function d(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function f(){let y=e.params.navigation;if(e.params.navigation=Ot(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let M=a(y.nextEl),E=a(y.prevEl);Object.assign(e.navigation,{nextEl:M,prevEl:E}),M=n(M),E=n(E);let h=(u,g)=>{u&&u.addEventListener("click",g==="next"?d:c),!e.enabled&&u&&u.classList.add(...y.lockClass.split(" "))};M.forEach(u=>h(u,"next")),E.forEach(u=>h(u,"prev"))}function p(){let{nextEl:y,prevEl:M}=e.navigation;y=n(y),M=n(M);let E=(h,u)=>{h.removeEventListener("click",u==="next"?d:c),h.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(h=>E(h,"next")),M.forEach(h=>E(h,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?b():(f(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{nextEl:y,prevEl:M}=e.navigation;if(y=n(y),M=n(M),e.enabled){o();return}[...y,...M].filter(E=>!!E).forEach(E=>E.classList.add(e.params.navigation.lockClass))}),i("click",(y,M)=>{let{nextEl:E,prevEl:h}=e.navigation;E=n(E),h=n(h);let u=M.target;if(e.params.navigation.hideOnClick&&!h.includes(u)&&!E.includes(u)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===u||e.pagination.el.contains(u)))return;let g;E.length?g=E[0].classList.contains(e.params.navigation.hiddenClass):h.length&&(g=h[0].classList.contains(e.params.navigation.hiddenClass)),r(g===!0?"navigationShow":"navigationHide"),[...E,...h].filter(w=>!!w).forEach(w=>w.classList.toggle(e.params.navigation.hiddenClass))}});let m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),o()},b=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:m,disable:b,update:o,init:f,destroy:p})}function Je(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Ut(t){let{swiper:e,extendParams:s,on:i,emit:r}=t,n="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:h=>h,formatFractionTotal:h=>h,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0,o=h=>(Array.isArray(h)?h:[h]).filter(u=>!!u);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(h,u){let{bulletActiveClass:g}=e.params.pagination;h&&(h=h[`${u==="prev"?"previous":"next"}ElementSibling`],h&&(h.classList.add(`${g}-${u}`),h=h[`${u==="prev"?"previous":"next"}ElementSibling`],h&&h.classList.add(`${g}-${u}-${u}`)))}function f(h){let u=h.target.closest(Je(e.params.pagination.bulletClass));if(!u)return;h.preventDefault();let g=at(u)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===g)return;e.slideToLoop(g)}else e.slideTo(g)}function p(){let h=e.rtl,u=e.params.pagination;if(c())return;let g=e.pagination.el;g=o(g);let w,_,O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(_=e.previousRealIndex||0,w=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(w=e.snapIndex,_=e.previousSnapIndex):(_=e.previousIndex||0,w=e.activeIndex||0),u.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let x=e.pagination.bullets,v,C,S;if(u.dynamicBullets&&(a=kt(x[0],e.isHorizontal()?"width":"height",!0),g.forEach(T=>{T.style[e.isHorizontal()?"width":"height"]=`${a*(u.dynamicMainBullets+4)}px`}),u.dynamicMainBullets>1&&_!==void 0&&(l+=w-(_||0),l>u.dynamicMainBullets-1?l=u.dynamicMainBullets-1:l<0&&(l=0)),v=Math.max(w-l,0),C=v+(Math.min(x.length,u.dynamicMainBullets)-1),S=(C+v)/2),x.forEach(T=>{let L=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${u.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();T.classList.remove(...L)}),g.length>1)x.forEach(T=>{let L=at(T);L===w?T.classList.add(...u.bulletActiveClass.split(" ")):e.isElement&&T.setAttribute("part","bullet"),u.dynamicBullets&&(L>=v&&L<=C&&T.classList.add(...`${u.bulletActiveClass}-main`.split(" ")),L===v&&d(T,"prev"),L===C&&d(T,"next"))});else{let T=x[w];if(T&&T.classList.add(...u.bulletActiveClass.split(" ")),e.isElement&&x.forEach((L,I)=>{L.setAttribute("part",I===w?"bullet-active":"bullet")}),u.dynamicBullets){let L=x[v],I=x[C];for(let z=v;z<=C;z+=1)x[z]&&x[z].classList.add(...`${u.bulletActiveClass}-main`.split(" "));d(L,"prev"),d(I,"next")}}if(u.dynamicBullets){let T=Math.min(x.length,u.dynamicMainBullets+4),L=(a*T-a)/2-S*a,I=h?"right":"left";x.forEach(z=>{z.style[e.isHorizontal()?I:"top"]=`${L}px`})}}g.forEach((x,v)=>{if(u.type==="fraction"&&(x.querySelectorAll(Je(u.currentClass)).forEach(C=>{C.textContent=u.formatFractionCurrent(w+1)}),x.querySelectorAll(Je(u.totalClass)).forEach(C=>{C.textContent=u.formatFractionTotal(A)})),u.type==="progressbar"){let C;u.progressbarOpposite?C=e.isHorizontal()?"vertical":"horizontal":C=e.isHorizontal()?"horizontal":"vertical";let S=(w+1)/A,T=1,L=1;C==="horizontal"?T=S:L=S,x.querySelectorAll(Je(u.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${T}) scaleY(${L})`,I.style.transitionDuration=`${e.params.speed}ms`})}u.type==="custom"&&u.renderCustom?(x.innerHTML=u.renderCustom(e,w+1,A),v===0&&r("paginationRender",x)):(v===0&&r("paginationRender",x),r("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](u.lockClass)})}function m(){let h=e.params.pagination;if(c())return;let u=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,g=e.pagination.el;g=o(g);let w="";if(h.type==="bullets"){let _=e.params.loop?Math.ceil(u/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&_>u&&(_=u);for(let O=0;O<_;O+=1)h.renderBullet?w+=h.renderBullet.call(e,O,h.bulletClass):w+=`<${h.bulletElement} ${e.isElement?'part="bullet"':""} class="${h.bulletClass}"></${h.bulletElement}>`}h.type==="fraction"&&(h.renderFraction?w=h.renderFraction.call(e,h.currentClass,h.totalClass):w=`<span class="${h.currentClass}"></span> / <span class="${h.totalClass}"></span>`),h.type==="progressbar"&&(h.renderProgressbar?w=h.renderProgressbar.call(e,h.progressbarFillClass):w=`<span class="${h.progressbarFillClass}"></span>`),e.pagination.bullets=[],g.forEach(_=>{h.type!=="custom"&&(_.innerHTML=w||""),h.type==="bullets"&&e.pagination.bullets.push(..._.querySelectorAll(Je(h.bulletClass)))}),h.type!=="custom"&&r("paginationRender",g[0])}function b(){e.params.pagination=Ot(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let h=e.params.pagination;if(!h.el)return;let u;typeof h.el=="string"&&e.isElement&&(u=e.el.querySelector(h.el)),!u&&typeof h.el=="string"&&(u=[...document.querySelectorAll(h.el)]),u||(u=h.el),!(!u||u.length===0)&&(e.params.uniqueNavElements&&typeof h.el=="string"&&Array.isArray(u)&&u.length>1&&(u=[...e.el.querySelectorAll(h.el)],u.length>1&&(u=u.filter(g=>gt(g,".swiper")[0]===e.el)[0])),Array.isArray(u)&&u.length===1&&(u=u[0]),Object.assign(e.pagination,{el:u}),u=o(u),u.forEach(g=>{h.type==="bullets"&&h.clickable&&g.classList.add(...(h.clickableClass||"").split(" ")),g.classList.add(h.modifierClass+h.type),g.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.type==="bullets"&&h.dynamicBullets&&(g.classList.add(`${h.modifierClass}${h.type}-dynamic`),l=0,h.dynamicMainBullets<1&&(h.dynamicMainBullets=1)),h.type==="progressbar"&&h.progressbarOpposite&&g.classList.add(h.progressbarOppositeClass),h.clickable&&g.addEventListener("click",f),e.enabled||g.classList.add(h.lockClass)}))}function y(){let h=e.params.pagination;if(c())return;let u=e.pagination.el;u&&(u=o(u),u.forEach(g=>{g.classList.remove(h.hiddenClass),g.classList.remove(h.modifierClass+h.type),g.classList.remove(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.clickable&&(g.classList.remove(...(h.clickableClass||"").split(" ")),g.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(g=>g.classList.remove(...h.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let h=e.params.pagination,{el:u}=e.pagination;u=o(u),u.forEach(g=>{g.classList.remove(h.horizontalClass,h.verticalClass),g.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?E():(b(),m(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{m(),p()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:h}=e.pagination;h&&(h=o(h),h.forEach(u=>u.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(h,u)=>{let g=u.target,w=o(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&w&&w.length>0&&!g.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&g===e.navigation.nextEl||e.navigation.prevEl&&g===e.navigation.prevEl))return;let _=w[0].classList.contains(e.params.pagination.hiddenClass);r(_===!0?"paginationShow":"paginationHide"),w.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});let M=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=o(h),h.forEach(u=>u.classList.remove(e.params.pagination.paginationDisabledClass))),b(),m(),p()},E=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=o(h),h.forEach(u=>u.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:M,disable:E,render:m,update:p,init:b,destroy:y})}function Kt(t){let{swiper:e,extendParams:s,on:i,emit:r,params:n}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,o=n&&n.autoplay?n.autoplay.delay:3e3,c=n&&n.autoplay?n.autoplay.delay:3e3,d,f=new Date().getTime(),p,m,b,y,M,E,h;function u(k){!e||e.destroyed||!e.wrapperEl||k.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",u),!h&&v())}let g=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(c=d,p=!1);let k=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=k,r("autoplayTimeLeft",k,k/o),l=requestAnimationFrame(()=>{g()})},w=()=>{let k;return e.virtual&&e.params.virtual.enabled?k=e.slides.filter(D=>D.classList.contains("swiper-slide-active"))[0]:k=e.slides[e.activeIndex],k?parseInt(k.getAttribute("data-swiper-autoplay"),10):void 0},_=k=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),g();let P=typeof k=="undefined"?e.params.autoplay.delay:k;o=e.params.autoplay.delay,c=e.params.autoplay.delay;let D=w();!Number.isNaN(D)&&D>0&&typeof k=="undefined"&&(P=D,o=D,c=D),d=P;let B=e.params.speed,X=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(B,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,B,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(B,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,B,!0,!0),r("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return P>0?(clearTimeout(a),a=setTimeout(()=>{X()},P)):requestAnimationFrame(()=>{X()}),P},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,_(),r("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),r("autoplayStop")},x=(k,P)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),k||(E=!0);let D=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",u):v()};if(e.autoplay.paused=!0,P){M&&(d=e.params.autoplay.delay),M=!1,D();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),D())},v=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),E?(E=!1,_(d)):_(),e.autoplay.paused=!1,r("autoplayResume"))},C=()=>{if(e.destroyed||!e.autoplay.running)return;let k=he();k.visibilityState==="hidden"&&(E=!0,x(!0)),k.visibilityState==="visible"&&v()},S=k=>{k.pointerType==="mouse"&&(E=!0,h=!0,!(e.animating||e.autoplay.paused)&&x(!0))},T=k=>{k.pointerType==="mouse"&&(h=!1,e.autoplay.paused&&v())},L=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",S),e.el.addEventListener("pointerleave",T))},I=()=>{e.el.removeEventListener("pointerenter",S),e.el.removeEventListener("pointerleave",T)},z=()=>{he().addEventListener("visibilitychange",C)},V=()=>{he().removeEventListener("visibilitychange",C)};i("init",()=>{e.params.autoplay.enabled&&(L(),z(),O())}),i("destroy",()=>{I(),V(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(b||E)&&v()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():x(!0,!0)}),i("beforeTransitionStart",(k,P,D)=>{e.destroyed||!e.autoplay.running||(D||!e.params.autoplay.disableOnInteraction?x(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}m=!0,b=!1,E=!1,y=setTimeout(()=>{E=!0,b=!0,x(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(y),clearTimeout(a),e.params.autoplay.disableOnInteraction){b=!1,m=!1;return}b&&e.params.cssMode&&v(),b=!1,m=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(M=!0)}),Object.assign(e.autoplay,{start:O,stop:A,pause:x,resume:v})}function ot(t){let{effect:e,swiper:s,on:i,setTranslate:r,setTransition:n,overwriteParams:a,perspective:l,recreateShadows:o,getEffectParams:c}=t;i("beforeInit",()=>{if(s.params.effect!==e)return;s.classNames.push(`${s.params.containerModifierClass}${e}`),l&&l()&&s.classNames.push(`${s.params.containerModifierClass}3d`);let f=a?a():{};Object.assign(s.params,f),Object.assign(s.originalParams,f)}),i("setTranslate",()=>{s.params.effect===e&&r()}),i("setTransition",(f,p)=>{s.params.effect===e&&n(p)}),i("transitionEnd",()=>{if(s.params.effect===e&&o){if(!c||!c().slideShadows)return;s.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),o()}});let d;i("virtualUpdate",()=>{s.params.effect===e&&(s.slides.length||(d=!0),requestAnimationFrame(()=>{d&&s.slides&&s.slides.length&&(r(),d=!1)}))})}function vt(t,e){let s=je(e);return s!==e&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function Dt(t){let{swiper:e,duration:s,transformElements:i,allSlides:r}=t,{activeIndex:n}=e,a=l=>l.parentElement?l.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===l.parentNode)[0];if(e.params.virtualTranslate&&s!==0){let l=!1,o;r?o=i:o=i.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?a(c):c;return e.getSlideIndex(d)===n}),o.forEach(c=>{Gt(c,()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function $s(t){let{swiper:e,extendParams:s,on:i}=t;s({fadeEffect:{crossFade:!1}}),ot({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:a}=e,l=e.params.fadeEffect;for(let o=0;o<a.length;o+=1){let c=e.slides[o],f=-c.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let p=0;e.isHorizontal()||(p=f,f=0);let m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),b=vt(l,c);b.style.opacity=m,b.style.transform=`translate3d(${f}px, ${p}px, 0px)`}},setTransition:a=>{let l=e.slides.map(o=>je(o));l.forEach(o=>{o.style.transitionDuration=`${a}ms`}),Dt({swiper:e,duration:a,transformElements:l,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Oi(){$(".swiper-column-auto").each(function(t){let e=$(this),s={loop:e.hasClass("swiper-loop"),touchMove:e.hasClass("allow-touchMove")||!0,mouseWheel:e.hasClass("allow-mouseWheel")?{forceToAxis:!0}:!1,autoHeight:e.hasClass("auto-height"),hasVideo:e.hasClass("auto-detect-video"),progressbar:e.hasClass("progressbar"),center:e.hasClass("center"),time:e.attr("data-time")||3500,autoplay:e.hasClass("autoplay"),infinite:e.hasClass("swiper-infinite"),scrollbar:e.hasClass("swiper-scrollbar")},i={loop:!0,time:3500,grabCursor:!0,freeMode:!0,speed:2e3,slidesPerView:4,breakpoints:{768:{slidesPerView:4},1024:{slidesPerView:8}},autoplay:{delay:.5,disableOnInteraction:!1}};e.addClass(`swiper-column-auto-id-${t}`),new Ke(`.swiper-column-auto-id-${t} .swiper`,Ze(Me(Ze(Me(Me(Me({modules:[jt,Ut,Is,Kt],speed:500,observer:!0,observeParents:!0,spaceBetween:0,loop:s.loop},s.autoplay&&{autoplay:{delay:s.time}}),s.scrollbar&&{scrollbar:{el:`.swiper-column-auto-id-${t} .swiper-scrollbar-slide`,draggable:!0}}),s.center&&{centeredSlides:!0}),{slidesPerView:"auto",pagination:Me({el:`.swiper-column-auto-id-${t} .swiper-pagination`,clickable:!0},s.progressbar&&{type:"progressbar"})}),s.infinite&&Me({},i)),{mousewheel:s.mouseWheel,allowTouchMove:s.touchMove,navigation:{prevEl:`.swiper-column-auto-id-${t} .btn-prev`,nextEl:`.swiper-column-auto-id-${t} .btn-next`},watchSlidesProgress:!0,autoHeight:s.autoHeight,on:{init:function(){},slideChange:function(){}}}))}),Jn()}function Jn(){let t=document.querySelector(".home-1 .swiper");if(!t)return;let e=new Ke(t,{modules:[Ut,jt,$s,Kt],loop:!0,effect:"fade",slidesPerView:1,speed:700,pagination:{el:".home-1 .swiper-pagination",clickable:!0},navigation:{nextEl:".home-1 .btn-next",prevEl:".home-1 .btn-prev"}});function s(r){if(!r)return!1;let n=r.querySelector("video");return n?(e.autoplay.stop(),n.readyState<2?n.addEventListener("loadedmetadata",()=>n.play()):n.play(),n.onended=()=>e.slideNext(),!0):!1}document.querySelectorAll(".home-1 .play-icon").forEach(r=>{r.addEventListener("click",n=>{n.preventDefault();let l=r.closest(".swiper-slide").querySelector("video"),o=r.querySelector("i");l&&(l.paused?(l.play(),o.classList.remove("fa-play"),o.classList.add("fa-pause")):(l.pause(),o.classList.remove("fa-pause"),o.classList.add("fa-play")))})}),e.on("slideChangeTransitionEnd",()=>{e.slides.forEach((l,o)=>{let c=l.querySelector("video"),d=l.querySelector(".play-icon i");c&&o!==e.activeIndex&&(c.pause(),c.currentTime=0,c.onended=null,d&&(d.classList.remove("fa-pause"),d.classList.add("fa-play")))});let r=e.slides[e.activeIndex],n=r.querySelector(".play-icon i");s(r)?n&&(n.classList.remove("fa-play"),n.classList.add("fa-pause")):e.autoplay.start()}),e.slides[e.activeIndex]&&s(e.slides[e.activeIndex])}var We=typeof window!="undefined",Os=We?window:null,Ct=We?document:null,ne={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},H={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},ze={NONE:0,AUTO:1,FORCE:2},Se={replace:0,none:1,blend:2},Di=Symbol(),Gs=Symbol(),Ui=Symbol(),ds=Symbol(),Qc=Symbol(),ea=Symbol(),U=1e-11,Ki=1e12,fe=1e3,Bs=120,it="",Ft=new Map;Ft.set("x","translateX");Ft.set("y","translateY");Ft.set("z","translateZ");var qs=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Qi=qs.reduce((t,e)=>Ze(Me({},t),{[e]:e+"("}),{}),Pe=()=>{},ta=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,sa=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,ia=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,ra=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,na=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,zi=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,Zi=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,aa=/([a-z])([A-Z])/g,oa=/(\w+)(\([^)]+\)+)/g,la=/(\*=|\+=|-=)/,Ji={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:Bs,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:fe,delay:0,loopDelay:0,ease:"out(2)",composition:Se.replace,modifier:t=>t,onBegin:Pe,onBeforeUpdate:Pe,onUpdate:Pe,onLoop:Pe,onPause:Pe,onComplete:Pe,onRender:Pe},re={defaults:Ji,root:Ct,scope:null,precision:4,timeScale:1,tickThreshold:200},er={version:"4.0.1",engine:null};We&&(Os.AnimeJS||(Os.AnimeJS=[]),Os.AnimeJS.push(er));var ca=t=>t.replace(aa,"$1-$2").toLowerCase(),ct=(t,e)=>t.indexOf(e)===0,Bt=Date.now,dt=Array.isArray,Ds=t=>t&&t.constructor===Object,js=t=>typeof t=="number"&&!isNaN(t),us=t=>typeof t=="string",ns=t=>typeof t=="function",Y=t=>typeof t=="undefined",es=t=>Y(t)||t===null,tr=t=>We&&t instanceof SVGElement,sr=t=>ta.test(t),ir=t=>ct(t,"rgb"),rr=t=>ct(t,"hsl"),da=t=>sr(t)||ir(t)||rr(t),ts=t=>!re.defaults.hasOwnProperty(t),lt=t=>us(t)?parseFloat(t):t,bt=Math.pow,Rt=Math.sqrt,nr=Math.sin,ar=Math.cos,Mt=Math.abs,Ri=Math.exp,ua=Math.ceil,Nt=Math.floor,fa=Math.asin,pa=Math.max;var Vt=Math.PI,Ns=Math.round,te=(t,e,s)=>t<e?e:t>s?s:t,Bi={},Q=(t,e)=>{if(e<0)return t;if(!e)return Ns(t);let s=Bi[e];return s||(s=Bi[e]=ke(10,e)),Ns(t*s)/s},ha=(t,e)=>dt(e)?e.reduce((s,i)=>Mt(i-t)<Mt(s-t)?i:s):e?Ns(t/e)*e:t,st=(t,e,s)=>t+(e-t)*s,ss=t=>t===1/0?Ki:t===-1/0?-1e12:t,Tt=t=>t<U?U:t,we=t=>dt(t)?[...t]:t,ma=(t,e)=>{let s=Me({},t);for(let i in e){let r=t[i];s[i]=Y(r)?e[i]:r}return s},le=(t,e,s,i="_prev",r="_next")=>{let n=t._head,a=r;for(s&&(n=t._tail,a=i);n;){let l=n[a];e(n),n=l}},rt=(t,e,s="_prev",i="_next")=>{let r=e[s],n=e[i];r?r[i]=n:t._head=n,n?n[s]=r:t._tail=r,e[s]=null,e[i]=null},xt=(t,e,s,i="_prev",r="_next")=>{let n=t._tail;for(;n&&s&&s(n,e);)n=n[i];let a=n?n[r]:t._head;n?n[r]=e:t._head=e,a?a[i]=e:t._tail=e,e[i]=n,e[r]=a},as=class{constructor(e=0){this.deltaTime=0,this._currentTime=e,this._elapsedTime=e,this._startTime=e,this._lastTime=e,this._scheduledTime=0,this._frameDuration=Q(fe/Bs,0),this._fps=Bs,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(e){let s=this._frameDuration,i=+e,r=i<U?U:i,n=Q(fe/r,0);this._fps=r,this._frameDuration=n,this._scheduledTime+=n-s}get speed(){return this._speed}set speed(e){let s=+e;this._speed=s<U?U:s}requestTick(e){let s=this._scheduledTime,i=this._elapsedTime;if(this._elapsedTime+=e-i,i<s)return ze.NONE;let r=this._frameDuration,n=i-s;return this._scheduledTime+=n<r?r:n,ze.AUTO}computeDeltaTime(e){let s=e-this._lastTime;return this.deltaTime=s,this._lastTime=e,s}},is=(t,e,s,i,r)=>{let n=t.parent,a=t.duration,l=t.completed,o=t.iterationDuration,c=t.iterationCount,d=t._currentIteration,f=t._loopDelay,p=t._reversed,m=t._alternate,b=t._hasChildren,y=t._delay,M=t._currentTime,E=y+o,h=e-y,u=te(M,-y,a),g=te(h,-y,a),w=h-M,_=g>0,O=g>=a,A=a<=U,x=r===ze.FORCE,v=0,C=h,S=0;if(c>1){let V=~~(g/(o+(O?0:f)));t._currentIteration=te(V,0,c),O&&t._currentIteration--,v=t._currentIteration%2,C=g%(o+f)||0}let T=p^(m&&v),L=t._ease,I=O?T?0:a:T?o-C:C;L&&(I=o*L(I/o)||0);let z=(n?n.backwards:h<M)?!T:!!T;if(t._currentTime=h,t._iterationTime=I,t.backwards=z,_&&!t.began?(t.began=!0,!s&&!(n&&(z||!n.began))&&t.onBegin(t)):h<=0&&(t.began=!1),!s&&!b&&_&&t._currentIteration!==d&&t.onLoop(t),x||r===ze.AUTO&&(e>=y&&e<=E||e<=y&&u>y||e>=E&&u!==a)||I>=E&&u!==a||I<=y&&u>0||e<=u&&u===a&&l||O&&!l&&A){if(_&&(t.computeDeltaTime(u),s||t.onBeforeUpdate(t)),!b){let V=x||(z?w*-1:w)>=re.tickThreshold,k=t._offset+(n?n._offset:0)+y+I,P=t._head,D,B,X,Z,J=0;for(;P;){let q=P._composition,j=P._currentTime,K=P._changeDuration,xe=P._absoluteStartTime+P._changeDuration,de=P._nextRep,ae=P._prevRep,W=q!==Se.none;if((V||(j!==K||k<=xe+(de?de._delay:0))&&(j!==0||k>=P._absoluteStartTime))&&(!W||!P._isOverridden&&(!P._isOverlapped||k<=xe)&&(!de||de._isOverridden||k<=de._absoluteStartTime)&&(!ae||ae._isOverridden||k>=ae._absoluteStartTime+ae._changeDuration+P._delay))){let N=P._currentTime=te(I-P._startTime,0,K),G=P._ease(N/P._updateDuration),ie=P._modifier,Te=P._valueType,be=P._tweenType,Ee=be===ne.OBJECT,ut=Te===H.NUMBER,Ve=ut&&Ee||G===0||G===1?-1:re.precision,Ce,ft;if(ut)Ce=ft=ie(Q(st(P._fromNumber,P._toNumber,G),Ve));else if(Te===H.UNIT)ft=ie(Q(st(P._fromNumber,P._toNumber,G),Ve)),Ce=`${ft}${P._unit}`;else if(Te===H.COLOR){let ue=P._fromNumbers,Ye=P._toNumbers,Xe=Q(te(ie(st(ue[0],Ye[0],G)),0,255),0),Ge=Q(te(ie(st(ue[1],Ye[1],G)),0,255),0),Xt=Q(te(ie(st(ue[2],Ye[2],G)),0,255),0),pt=te(ie(Q(st(ue[3],Ye[3],G),Ve)),0,1);if(Ce=`rgba(${Xe},${Ge},${Xt},${pt})`,W){let nt=P._numbers;nt[0]=Xe,nt[1]=Ge,nt[2]=Xt,nt[3]=pt}}else if(Te===H.COMPLEX){Ce=P._strings[0];for(let ue=0,Ye=P._toNumbers.length;ue<Ye;ue++){let Xe=ie(Q(st(P._fromNumbers[ue],P._toNumbers[ue],G),Ve)),Ge=P._strings[ue+1];Ce+=`${Ge?Xe+Ge:Xe}`,W&&(P._numbers[ue]=Xe)}}if(W&&(P._number=ft),!i&&q!==Se.blend){let ue=P.property;D=P.target,Ee?D[ue]=Ce:be===ne.ATTRIBUTE?D.setAttribute(ue,Ce):(B=D.style,be===ne.TRANSFORM?(D!==X&&(X=D,Z=D[ds]),Z[ue]=Ce,J=1):be===ne.CSS?B[ue]=Ce:be===ne.CSS_VAR&&B.setProperty(ue,Ce)),_&&(S=1)}else P._value=Ce}if(J&&P._renderTransforms){let N=it;for(let G in Z)N+=`${Qi[G]}${Z[G]}) `;B.transform=N,J=0}P=P._next}!s&&S&&t.onRender(t)}!s&&_&&t.onUpdate(t)}return n&&A?!s&&(n.began&&!z&&h>=a&&!l||z&&h<=U&&l)&&(t.onComplete(t),t.completed=!z):_&&O?c===1/0?t._startTime+=t.duration:t._currentIteration>=c-1&&(t.paused=!0,!l&&!b&&(t.completed=!0,!s&&!(n&&(z||!n.began))&&(t.onComplete(t),t._resolve(t)))):t.completed=!1,S},wt=(t,e,s,i,r)=>{let n=t._currentIteration;if(is(t,e,s,i,r),t._hasChildren){let a=t,l=a.backwards,o=i?e:a._iterationTime,c=Bt(),d=0,f=!0;if(!i&&a._currentIteration!==n){let p=a.iterationDuration;le(a,m=>{if(!l)!m.completed&&!m.backwards&&m._currentTime<m.iterationDuration&&is(m,p,s,1,ze.FORCE),m.began=!1,m.completed=!1;else{let b=m.duration,y=m._offset+m._delay,M=y+b;!s&&b<=U&&(!y||M===p)&&m.onComplete(m)}}),s||a.onLoop(a)}le(a,p=>{let m=Q((o-p._offset)*p._speed,12),b=p._fps<a._fps?p.requestTick(c):r;d+=is(p,m,s,i,b),!p.completed&&f&&(f=!1)},l),!s&&d&&a.onRender(a),f&&a._currentTime>=a.duration&&(a.paused=!0,a.completed||(a.completed=!0,s||(a.onComplete(a),a._resolve(a))))}},Et={animation:null,update:Pe},ga=t=>{let e=Et.animation;return e||(e={duration:U,computeDeltaTime:Pe,_offset:0,_delay:0,_head:null,_tail:null},Et.animation=e,Et.update=()=>{t.forEach(s=>{for(let i in s){let r=s[i],n=r._head;if(n){let a=n._valueType,l=a===H.COMPLEX||a===H.COLOR?we(n._fromNumbers):null,o=n._fromNumber,c=r._tail;for(;c&&c!==n;){if(l)for(let d=0,f=c._numbers.length;d<f;d++)l[d]+=c._numbers[d];else o+=c._number;c=c._prevAdd}n._toNumber=o,n._toNumbers=l}}}),is(e,1,1,0,ze.FORCE)}),e},or=We?requestAnimationFrame:setImmediate,va=We?cancelAnimationFrame:clearImmediate,Fs=class extends as{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=Ji,this.paused=!!(We&&Ct.hidden),this.reqId=null}update(){let e=this._currentTime=Bt();if(this.requestTick(e)){this.computeDeltaTime(e);let s=this._speed,i=this._fps,r=this._head;for(;r;){let n=r._next;r.paused?(rt(this,r),this._hasChildren=!!this._tail,r._running=!1,r.completed&&!r._cancelled&&r.cancel()):wt(r,(e-r._startTime)*r._speed*s,0,0,r._fps<i?r.requestTick(e):ze.AUTO),r=n}Et.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&!this.paused&&(this.reqId=or(lr)),this}pause(){return this.paused=!0,ya()}resume(){if(this.paused)return this.paused=!1,le(this,e=>e.resetTime()),this.wake()}get speed(){return this._speed*(re.timeScale===1?1:fe)}set speed(e){this._speed=e*re.timeScale,le(this,s=>s.speed=s._speed)}get timeUnit(){return re.timeScale===1?"ms":"s"}set timeUnit(e){let i=e==="s",r=i?.001:1;if(re.timeScale!==r){re.timeScale=r,re.tickThreshold=200*r;let n=i?.001:fe;this.defaults.duration*=n,this._speed*=n}}get precision(){return re.precision}set precision(e){re.precision=e}},pe=(()=>{let t=new Fs(Bt());return We&&(er.engine=t,Ct.addEventListener("visibilitychange",()=>{t.pauseOnDocumentHidden&&(Ct.hidden?t.pause():t.resume())})),t})(),lr=()=>{pe._head?(pe.reqId=or(lr),pe.update()):pe.reqId=0},ya=()=>(va(pe.reqId),pe.reqId=0,pe),ba=(t,e,s)=>{let i=t.style.transform,r;if(i){let n=t[ds],a;for(;a=oa.exec(i);){let l=a[1],o=a[2].slice(1,-1);n[l]=o,l===e&&(r=o,s&&(s[e]=o))}}return i&&!Y(r)?r:ct(e,"scale")?"1":ct(e,"rotate")||ct(e,"skew")?"0deg":"0px"};function Ni(t){let e=us(t)?re.root.querySelectorAll(t):t;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function cr(t){if(es(t))return[];if(dt(t)){let s=t.flat(1/0),i=[];for(let r=0,n=s.length;r<n;r++){let a=s[r];if(!es(a)){let l=Ni(a);if(l)for(let o=0,c=l.length;o<c;o++){let d=l[o];if(!es(d)){let f=!1;for(let p=0,m=i.length;p<m;p++)if(i[p]===d){f=!0;break}f||i.push(d)}}else{let o=!1;for(let c=0,d=i.length;c<d;c++)if(i[c]===a){o=!0;break}o||i.push(a)}}}return i}if(!We)return[t];let e=Ni(t);return e?Array.from(e):[t]}function Us(t){let e=cr(t),s=e.length;if(s)for(let i=0;i<s;i++){let r=e[i];if(!r[Di]){r[Di]=!0;let n=tr(r);(r.nodeType||n)&&(r[Gs]=!0,r[Ui]=n,r[ds]={})}}return e}var wa=["opacity","rotate","overflow","color"],Sa=(t,e)=>{if(wa.includes(e))return!1;if(t.getAttribute(e)||e in t){if(e==="scale"){let s=t.parentNode;return s&&s.tagName==="filter"}return!0}};var xa=t=>{let e=sa.exec(t)||ia.exec(t),s=Y(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],s]},Ta=t=>{let e=t.length,s=e===4||e===5;return[+("0x"+t[1]+t[s?1:2]),+("0x"+t[s?2:3]+t[s?2:4]),+("0x"+t[s?3:5]+t[s?3:6]),e===5||e===9?+(+("0x"+t[s?4:7]+t[s?4:8])/255).toFixed(3):1]},zs=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t),Ea=t=>{let e=ra.exec(t)||na.exec(t),s=+e[1]/360,i=+e[2]/100,r=+e[3]/100,n=Y(e[4])?1:+e[4],a,l,o;if(i===0)a=l=o=r;else{let c=r<.5?r*(1+i):r+i-r*i,d=2*r-c;a=Q(zs(d,c,s+1/3)*255,0),l=Q(zs(d,c,s)*255,0),o=Q(zs(d,c,s-1/3)*255,0)}return[a,l,o,n]},Ca=t=>ir(t)?xa(t):sr(t)?Ta(t):rr(t)?Ea(t):[0,0,0,1],se=(t,e)=>Y(t)?e:t,et=(t,e,s,i,r)=>{if(ns(t)){let n=()=>{let a=t(e,s,i);return isNaN(+a)?a||0:+a};return r&&(r.func=n),n()}else return t},Ks=(t,e)=>t[Gs]?t[Ui]&&Sa(t,e)?ne.ATTRIBUTE:qs.includes(e)||Ft.get(e)?ne.TRANSFORM:ct(e,"--")?ne.CSS_VAR:e in t.style?ne.CSS:e in t?ne.OBJECT:ne.ATTRIBUTE:ne.OBJECT,Fi=(t,e,s)=>{let i=t.style[e];i&&s&&(s[e]=i);let r=i||getComputedStyle(t[ea]||t).getPropertyValue(e);return r==="auto"?"0":r},St=(t,e,s,i)=>{let r=Y(s)?Ks(t,e):s;return r===ne.OBJECT?t[e]||0:r===ne.ATTRIBUTE?t.getAttribute(e):r===ne.TRANSFORM?ba(t,e,i):r===ne.CSS_VAR?Fi(t,e,i).trimStart():Fi(t,e,i)},Vs=(t,e,s)=>s==="-"?t-e:s==="+"?t+e:t*e,Qs=()=>({t:H.NUMBER,n:0,u:null,o:null,d:null,s:null}),Ne=(t,e)=>{if(e.t=H.NUMBER,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;let s=+t;if(isNaN(s)){let i=t;i[1]==="="&&(e.o=i[0],i=i.slice(2));let r=i.includes(" ")?!1:Zi.exec(i);if(r)return e.t=H.UNIT,e.n=+r[1],e.u=r[2],e;if(e.o)return e.n=+i,e;if(da(i))return e.t=H.COLOR,e.d=Ca(i),e;{let n=i.match(zi);return e.t=H.COMPLEX,e.d=n?n.map(Number):[],e.s=i.split(zi)||[],e}}else return e.n=s,e},Vi=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=we(t._toNumbers),e.s=we(t._strings),e),De=Qs(),os={_rep:new WeakMap,_add:new Map},Zs=(t,e,s="_rep")=>{let i=os[s],r=i.get(t);return r||(r={},i.set(t,r)),r[e]?r[e]:r[e]={_head:null,_tail:null}},Ma=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,rs=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=U,t._currentTime=U},dr=(t,e)=>{let s=t._composition;if(s===Se.replace){let i=t._absoluteStartTime;xt(e,t,Ma,"_prevRep","_nextRep");let r=t._prevRep;if(r){let n=r.parent,a=r._absoluteStartTime+r._changeDuration;if(t.parent.id!==n.id&&n.iterationCount>1&&a+(n.duration-n.iterationDuration)>i){rs(r);let c=r._prevRep;for(;c&&c.parent.id===n.id;)rs(c),c=c._prevRep}let l=i-t._delay;if(a>l){let c=r._startTime,d=a-(c+r._updateDuration);r._changeDuration=l-d-c,r._currentTime=r._changeDuration,r._isOverlapped=1,r._changeDuration<U&&rs(r)}let o=!0;if(le(n,c=>{c._isOverlapped||(o=!1)}),o){let c=n.parent;if(c){let d=!0;le(c,f=>{f!==n&&le(f,p=>{p._isOverlapped||(d=!1)})}),d&&c.cancel()}else n.cancel()}}}else if(s===Se.blend){let i=Zs(t.target,t.property,"_add"),r=ga(os._add),n=i._head;n||(n=Me({},t),n._composition=Se.replace,n._updateDuration=U,n._startTime=0,n._numbers=we(t._fromNumbers),n._number=0,n._next=null,n._prev=null,xt(i,n),xt(r,n));let a=t._toNumber;if(t._fromNumber=n._fromNumber-a,t._toNumber=0,t._numbers=we(t._fromNumbers),t._number=0,n._fromNumber=a,t._toNumbers){let l=we(t._toNumbers);l&&l.forEach((o,c)=>{t._fromNumbers[c]=n._fromNumbers[c]-o,t._toNumbers[c]=0}),n._fromNumbers=l}xt(i,t,null,"_prevAdd","_nextAdd")}return t},ur=t=>{let e=t._composition;if(e!==Se.none){let s=t.target,i=t.property,a=os._rep.get(s)[i];if(rt(a,t,"_prevRep","_nextRep"),e===Se.blend){let l=os._add,o=l.get(s);if(!o)return;let c=o[i],d=Et.animation;rt(c,t,"_prevAdd","_nextAdd");let f=c._head;if(f&&f===c._tail){rt(c,f,"_prevAdd","_nextAdd"),rt(d,f);let p=!0;for(let m in o)if(o[m]._head){p=!1;break}p&&l.delete(s)}}}return t},Yi=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),Ys=t=>(t._cancelled&&(t._hasChildren?le(t,Ys):le(t,e=>{e._composition!==Se.none&&dr(e,Zs(e.target,e.property))}),t._cancelled=0),t),_a=0,ls=class extends as{constructor(e={},s=null,i=0){super(0);let{id:r,delay:n,duration:a,reversed:l,alternate:o,loop:c,loopDelay:d,autoplay:f,frameRate:p,playbackRate:m,onComplete:b,onLoop:y,onPause:M,onBegin:E,onBeforeUpdate:h,onUpdate:u}=e;re.scope&&re.scope.revertibles.push(this);let g=s?0:pe._elapsedTime,w=s?s.defaults:re.defaults,_=ns(n)||Y(n)?w.delay:+n,O=ns(a)||Y(a)?1/0:+a,A=se(c,w.loop),x=se(d,w.loopDelay),v=A===!0||A===1/0||A<0?1/0:A+1,C=0;if(s)C=i;else{let S=Bt();pe.paused&&(pe.requestTick(S),S=pe._elapsedTime),C=S-pe._startTime}this.id=Y(r)?++_a:r,this.parent=s,this.duration=ss((O+x)*v-x)||U,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=E||w.onBegin,this.onBeforeUpdate=h||w.onBeforeUpdate,this.onUpdate=u||w.onUpdate,this.onLoop=y||w.onLoop,this.onPause=M||w.onPause,this.onComplete=b||w.onComplete,this.iterationDuration=O,this.iterationCount=v,this._autoplay=s?!1:se(f,w.autoplay),this._offset=C,this._delay=_,this._loopDelay=x,this._iterationTime=0,this._currentIteration=0,this._resolve=Pe,this._running=!1,this._reversed=+se(l,w.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=se(o,w.alternate),this._prev=null,this._next=null,this._elapsedTime=g,this._startTime=g,this._lastTime=g,this._fps=se(p,w.frameRate),this._speed=se(m,w.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(e){e?this.cancel():this.reset(1).play()}get currentTime(){return te(Q(this._currentTime,re.precision),-this._delay,this.duration)}set currentTime(e){let s=this.paused;this.pause().seek(+e),s||this.resume()}get iterationCurrentTime(){return Q(this._iterationTime,re.precision)}set iterationCurrentTime(e){this.currentTime=this.iterationDuration*this._currentIteration+e}get progress(){return te(Q(this._currentTime/this.duration,5),0,1)}set progress(e){this.currentTime=this.duration*e}get iterationProgress(){return te(Q(this._iterationTime/this.iterationDuration,5),0,1)}set iterationProgress(e){let s=this.iterationDuration;this.currentTime=s*this._currentIteration+s*e}get currentIteration(){return this._currentIteration}set currentIteration(e){this.currentTime=this.iterationDuration*te(+e,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(e){e?this.reverse():this.play()}get speed(){return super.speed}set speed(e){super.speed=e,this.resetTime()}reset(e=0){return Ys(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,wt(this,0,1,e,ze.FORCE),Yi(this),this._hasChildren&&le(this,Yi),this}init(e=0){this.fps=this._fps,this.speed=this._speed,!e&&this._hasChildren&&wt(this,this.duration,1,e,ze.FORCE),this.reset(e);let s=this._autoplay;return s===!0?this.resume():s&&!Y(s.linked)&&s.link(this),this}resetTime(){let e=1/(this._speed*pe._speed);return this._startTime=Bt()-(this._currentTime+this._delay)*e,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=U&&!this._hasChildren?wt(this,U,0,0,ze.FORCE):(this._running||(xt(pe,this),pe._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,pe.wake()),this):this}restart(){return this.reset(0).resume()}seek(e,s=0,i=0){Ys(this),this.completed=!1;let r=this.paused;return this.paused=!0,wt(this,e+this._delay,~~s,~~i,ze.AUTO),r?this:this.resume()}alternate(){let e=this._reversed,s=this.iterationCount,i=this.iterationDuration,r=s===1/0?Nt(Ki/i):s;return this._reversed=+(this._alternate&&!(r%2)?e:!e),s===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(i*r-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?le(this,e=>e.cancel(),!0):le(this,ur),this._cancelled=1,this.pause()}stretch(e){let s=this.duration;if(s===Tt(e))return this;let i=e/s,r=e<=U;return this.duration=r?U:Tt(ss(Q(s*i,12))),this.iterationDuration=r?U:Tt(ss(Q(this.iterationDuration*i,12))),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){wt(this,0,1,0,ze.AUTO);let e=this._autoplay;return e&&e.linked&&e.linked===this&&e.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(e=Pe){let s=this.then,i=()=>{this.then=null,e(this),this.then=s,this._resolve=Pe};return new Promise(r=>(this._resolve=()=>r(i()),this.completed&&this._resolve(),this))}};var _t=t=>t,fr=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Pa=(t,e,s)=>{let i=0,r=1,n,a,l=0;do a=i+(r-i)/2,n=fr(a,e,s)-t,n>0?r=a:i=a;while(Mt(n)>1e-7&&++l<100);return a},Aa=(t=.5,e=0,s=.5,i=1)=>t===e&&s===i?_t:r=>r===0||r===1?r:fr(Pa(r,t,s),e,i),La=(t=10,e)=>{let s=e?ua:Nt;return i=>s(te(i,0,1)*t)*(1/t)},pr=(...t)=>{let e=t.length;if(!e)return _t;let s=e-1,i=t[0],r=t[s],n=[0],a=[lt(i)];for(let l=1;l<s;l++){let o=t[l],c=us(o)?o.trim().split(" "):[o],d=c[0],f=c[1];n.push(Y(f)?l/s:lt(f)/100),a.push(lt(d))}return a.push(lt(r)),n.push(1),function(o){for(let c=1,d=n.length;c<d;c++){let f=n[c];if(o<=f){let p=n[c-1],m=a[c-1];return m+(a[c]-m)*(o-p)/(f-p)}}return a[a.length-1]}},Ia=(t=10,e=1)=>{let s=[0],i=t-1;for(let r=1;r<i;r++){let n=s[r-1],a=r/i,l=(r+1)/i,o=a+(l-a)*Math.random(),c=a*(1-e)+o*e;s.push(te(c,n,1))}return s.push(1),pr(...s)},$a=Vt/2,Xi=Vt*2,zt=(t=1.68)=>e=>bt(e,+t),Hi={[it]:zt,Quad:zt(2),Cubic:zt(3),Quart:zt(4),Quint:zt(5),Sine:t=>1-ar(t*$a),Circ:t=>1-Rt(1-t*t),Expo:t=>t?bt(2,10*t-10):0,Bounce:t=>{let e,s=4;for(;t<((e=bt(2,--s))-1)/11;);return 1/bt(4,3-s)-7.5625*bt((e*3-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{let s=te(+t,1,10),i=te(+e,U,2),r=i/Xi*fa(1/s),n=Xi/i;return a=>a===0||a===1?a:-s*bt(2,-10*(1-a))*nr((1-a-r)*n)}},Xs={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(e*2)/2:1-t(e*-2+2)/2,outIn:t=>e=>e<.5?(1-t(1-e*2))/2:(t(e*2-1)+1)/2},ka=(t,e,s)=>{if(s[t])return s[t];if(t.indexOf("(")<=-1){let r=Xs[t]||t.includes("Back")||t.includes("Elastic")?e[t]():e[t];return r?s[t]=r:_t}else{let i=t.slice(0,-1).split("("),r=e[i[0]];return r?s[t]=r(...i[1].split(",")):_t}},Oa=(()=>{let t={linear:pr,irregular:Ia,steps:La,cubicBezier:Aa};for(let e in Xs)for(let s in Hi){let i=Hi[s],r=Xs[e];t[e+s]=s===it||s==="Back"||s==="Elastic"?(n,a)=>r(i(n,a)):r(i)}return t})(),Da={linear:_t},Hs=t=>ns(t)?t:us(t)?ka(t,Oa,Da):_t,Wi={},Js=(t,e,s)=>{if(s===ne.TRANSFORM){let i=Ft.get(t);return i||t}else if(s===ne.CSS||s===ne.ATTRIBUTE&&tr(e)&&t in e.style){let i=Wi[t];if(i)return i;{let r=t&&ca(t);return Wi[t]=r,r}}else return t},Rs={deg:1,rad:180/Vt,turn:360},Gi={},hr=(t,e,s,i=!1)=>{let r=e.u,n=e.n;if(e.t===H.UNIT&&r===s)return e;let a=n+r+s,l=Gi[a];if(!Y(l)&&!i)e.n=l;else{let o;if(r in Rs)o=n*Rs[r]/Rs[s];else{let d=t.cloneNode(),f=t.parentNode,p=f&&f!==Ct?f:Ct.body;p.appendChild(d);let m=d.style;m.width=100+r;let b=d.offsetWidth||100;m.width=100+s;let y=d.offsetWidth||100,M=b/y;p.removeChild(d),o=M*n}e.n=o,Gi[a]=o}return e.t,H.UNIT,e.u=s,e},ei=t=>{if(t._hasChildren)le(t,ei,!0);else{let e=t;e.pause(),le(e,s=>{let i=s.property,r=s.target;if(r[Gs]){let n=r.style,a=e._inlineStyles[i];if(s._tweenType===ne.TRANSFORM){let l=r[ds];if(Y(a)||a===it?delete l[i]:l[i]=a,s._renderTransforms)if(!Object.keys(l).length)n.removeProperty("transform");else{let o=it;for(let c in l)o+=Qi[c]+l[c]+") ";n.transform=o}}else Y(a)||a===it?n.removeProperty(i):n[i]=a;e._tail===s&&e.targets.forEach(l=>{l.getAttribute&&l.getAttribute("style")===it&&l.removeAttribute("style")})}})}return t},R=Qs(),F=Qs(),Qt={func:null},Zt=[null],yt=[null,null],Jt={to:null},za=0,tt,He,Ra=(t,e)=>{let s={};if(dt(t)){let i=[].concat(...t.map(r=>Object.keys(r))).filter(ts);for(let r=0,n=i.length;r<n;r++){let a=i[r],l=t.map(o=>{let c={};for(let d in o){let f=o[d];ts(d)?d===a&&(c.to=f):c[d]=f}return c});s[a]=l}}else{let i=se(e.duration,re.defaults.duration);Object.keys(t).map(n=>({o:parseFloat(n)/100,p:t[n]})).sort((n,a)=>n.o-a.o).forEach(n=>{let a=n.o,l=n.p;for(let o in l)if(ts(o)){let c=s[o];c||(c=s[o]=[]);let d=a*i,f=c.length,p=c[f-1],m={to:l[o]},b=0;for(let y=0;y<f;y++)b+=c[y].duration;f===1&&(m.from=p.to),l.ease&&(m.ease=l.ease),m.duration=d-(f?b:0),c.push(m)}return n});for(let n in s){let a=s[n],l;for(let o=0,c=a.length;o<c;o++){let d=a[o],f=d.ease;d.ease=l||void 0,l=f}a[0].duration||a.shift()}}return s},cs=class extends ls{constructor(e,s,i,r,n=!1,a=0,l=0){super(s,i,r);let o=Us(e),c=o.length,d=s.keyframes,f=d?ma(Ra(d,s),s):s,{delay:p,duration:m,ease:b,playbackEase:y,modifier:M,composition:E,onRender:h}=f,u=i?i.defaults:re.defaults,g=se(y,u.playbackEase),w=g?Hs(g):null,_=!Y(b)&&!Y(b.ease),O=_?b.ease:se(b,w?"linear":u.ease),A=_?b.duration:se(m,u.duration),x=se(p,u.delay),v=M||u.modifier,C=Y(E)&&c>=fe?Se.none:Y(E)?u.composition:E,S={},T=this._offset+(i?i._offset:0),L=NaN,I=NaN,z=0,V=0;for(let k=0;k<c;k++){let P=o[k],D=a||k,B=l||c,X=NaN,Z=NaN;for(let J in f)if(ts(J)){let q=Ks(P,J),j=Js(J,P,q),K=f[J],xe=dt(K);if(n&&!xe&&(yt[0]=K,yt[1]=K,K=yt),xe){let ie=K.length,Te=!Ds(K[0]);ie===2&&Te?(Jt.to=K,Zt[0]=Jt,tt=Zt):ie>2&&Te?(tt=[],K.forEach((be,Ee)=>{Ee?Ee===1?(yt[1]=be,tt.push(yt)):tt.push(be):yt[0]=be})):tt=K}else Zt[0]=K,tt=Zt;let de=null,ae=null,W=NaN,N=0,G=0;for(let ie=tt.length;G<ie;G++){let Te=tt[G];Ds(Te)?He=Te:(Jt.to=Te,He=Jt),Qt.func=null;let be=et(He.to,P,D,B,Qt),Ee;Ds(be)&&!Y(be.to)?(He=be,Ee=be.to):Ee=be;let ut=et(He.from,P,D,B),Ve=He.ease,Ce=!Y(Ve)&&!Y(Ve.ease),ft=Ce?Ve.ease:Ve||O,ue=Ce?Ve.duration:et(se(He.duration,ie>1?et(A,P,D,B)/ie:A),P,D,B),Ye=et(se(He.delay,G?0:x),P,D,B),Xe=et(se(He.composition,C),P,D,B),Ge=js(Xe)?Xe:Se[Xe],Xt=He.modifier||v,pt=!Y(ut),nt=!Y(Ee),Ht=dt(Ee),Ar=Ht||pt&&nt,hs=ae?N+Ye:Ye,ms=T+hs;!V&&(pt||Ht)&&(V=1);let $e=ae;if(Ge!==Se.none){de||(de=Zs(P,j));let ee=de._head;for(;ee&&!ee._isOverridden&&ee._absoluteStartTime<=ms;)if($e=ee,ee=ee._nextRep,ee&&ee._absoluteStartTime>=ms)for(;ee;)rs(ee),ee=ee._nextRep}if(Ar?(Ne(Ht?et(Ee[0],P,D,B):ut,R),Ne(Ht?et(Ee[1],P,D,B,Qt):Ee,F),R.t===H.NUMBER&&($e?$e._valueType===H.UNIT&&(R.t=H.UNIT,R.u=$e._unit):(Ne(St(P,j,q,S),De),De.t===H.UNIT&&(R.t=H.UNIT,R.u=De.u)))):(nt?Ne(Ee,F):ae?Vi(ae,F):Ne(i&&$e&&$e.parent.parent===i?$e._value:St(P,j,q,S),F),pt?Ne(ut,R):ae?Vi(ae,R):Ne(i&&$e&&$e.parent.parent===i?$e._value:St(P,j,q,S),R)),R.o&&(R.n=Vs($e?$e._toNumber:Ne(St(P,j,q,S),De).n,R.n,R.o)),F.o&&(F.n=Vs(R.n,F.n,F.o)),R.t!==F.t){if(R.t===H.COMPLEX||F.t===H.COMPLEX){let ee=R.t===H.COMPLEX?R:F,ve=R.t===H.COMPLEX?F:R;ve.t=H.COMPLEX,ve.s=we(ee.s),ve.d=ee.d.map(()=>ve.n)}else if(R.t===H.UNIT||F.t===H.UNIT){let ee=R.t===H.UNIT?R:F,ve=R.t===H.UNIT?F:R;ve.t=H.UNIT,ve.u=ee.u}else if(R.t===H.COLOR||F.t===H.COLOR){let ee=R.t===H.COLOR?R:F,ve=R.t===H.COLOR?F:R;ve.t=H.COLOR,ve.s=ee.s,ve.d=[0,0,0,1]}}if(R.u!==F.u){let ee=F.u?R:F;ee=hr(P,ee,F.u?F.u:R.u,!1)}if(F.d&&R.d&&F.d.length!==R.d.length){let ee=R.d.length>F.d.length?R:F,ve=ee===R?F:R;ve.d=ee.d.map((ro,ai)=>Y(ve.d[ai])?0:ve.d[ai]),ve.s=we(ee.s)}let gs=Q(+ue||U,12),Wt={parent:this,id:za++,property:j,target:P,_value:null,_func:Qt.func,_ease:Hs(ft),_fromNumbers:we(R.d),_toNumbers:we(F.d),_strings:we(F.s),_fromNumber:R.n,_toNumber:F.n,_numbers:we(R.d),_number:R.n,_unit:F.u,_modifier:Xt,_currentTime:0,_startTime:hs,_delay:+Ye,_updateDuration:gs,_changeDuration:gs,_absoluteStartTime:ms,_tweenType:q,_valueType:F.t,_composition:Ge,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};Ge!==Se.none&&dr(Wt,de),isNaN(W)&&(W=Wt._startTime),N=Q(hs+gs,12),ae=Wt,z++,xt(this,Wt)}(isNaN(I)||W<I)&&(I=W),(isNaN(L)||N>L)&&(L=N),q===ne.TRANSFORM&&(X=z-G,Z=z)}if(!isNaN(X)){let J=0;le(this,q=>{J>=X&&J<Z&&(q._renderTransforms=1,q._composition===Se.blend&&le(Et.animation,j=>{j.id===q.id&&(j._renderTransforms=1)})),J++})}}c||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),I?(le(this,k=>{k._startTime-k._delay||(k._delay-=I),k._startTime-=I}),L-=I):I=0,L||(L=U,this.iterationCount=0),this.targets=o,this.duration=L===U?U:ss((L+this._loopDelay)*this.iterationCount-this._loopDelay)||U,this.onRender=h||u.onRender,this._ease=w,this._delay=I,this.iterationDuration=L,this._inlineStyles=S,!this._autoplay&&V&&this.onRender(this)}stretch(e){let s=this.duration;if(s===Tt(e))return this;let i=e/s;return le(this,r=>{r._updateDuration=Tt(Q(r._updateDuration*i,12)),r._changeDuration=Tt(Q(r._changeDuration*i,12)),r._currentTime*=i,r._startTime*=i,r._absoluteStartTime*=i}),super.stretch(e)}refresh(){return le(this,e=>{let s=St(e.target,e.property,e._tweenType);Ne(s,De),e._fromNumbers=we(De.d),e._fromNumber=De.n,e._func&&(Ne(e._func(),F),e._toNumbers=we(F.d),e._strings=we(F.s),e._toNumber=F.n)}),this}revert(){return super.revert(),ei(this)}then(e){return super.then(e)}},ce=(t,e)=>new cs(t,e,null,0,!1).init();var mr=["x","y","z"],Zc=["perspective","width","height","margin","padding","top","right","bottom","left","borderWidth","fontSize","borderRadius",...mr],Jc=[...mr,...qs.filter(t=>["X","Y","Z"].some(e=>t.endsWith(e)))],ed=We&&(Y(CSS)||!Object.hasOwnProperty.call(CSS,"registerProperty"));var qi={_head:null,_tail:null},Ba=(t,e,s)=>{let i=qi._head;for(;i;){let r=i._next,n=i.$el===t,a=!e||i.property===e,l=!s||i.parent===s;if(n&&a&&l){let o=i.animation;try{o.commitStyles()}catch(d){}o.cancel(),rt(qi,i);let c=i.parent;c&&(c._completed++,c.animations.length===c._completed&&(c.completed=!0,c.muteCallbacks||(c.paused=!0,c.onComplete(c),c._resolve(c))))}i=r}};var Na=(t=Pe)=>new ls({duration:1*re.timeScale,onComplete:t},null,0).resume();function Fa(t,e,s){let i=Us(t);if(!i.length)return;let[r]=i,n=Ks(r,e),a=Js(e,r,n),l=St(r,a);if(Y(s))return l;if(Ne(l,De),De.t===H.NUMBER||De.t===H.UNIT){if(s===!1)return De.n;{let o=hr(r,De,s,!1);return`${Q(o.n,re.precision)}${o.u}`}}}var Va=(t,e)=>{if(!Y(e))return e.duration=U,e.composition=se(e.composition,Se.none),new cs(t,e,null,0,!0).resume()},ji=(t,e,s)=>{let i=!1;return le(e,r=>{let n=r.target;if(t.includes(n)){let a=r.property,l=r._tweenType,o=Js(s,n,l);(!o||o&&o===a)&&(r.parent._tail===r&&r._tweenType===ne.TRANSFORM&&r._prev&&r._prev._tweenType===ne.TRANSFORM&&(r._prev._renderTransforms=1),rt(e,r),ur(r),i=!0)}},!0),i},gr=(t,e,s)=>{let i=cr(t),r=e||pe,n=e&&e.controlAnimation&&e;for(let l=0,o=i.length;l<o;l++){let c=i[l];Ba(c,s,n)}let a;if(r._hasChildren){let l=0;le(r,o=>{if(!o._hasChildren)if(a=ji(i,o,s),a&&!o._head)o.cancel(),rt(r,o);else{let d=o._offset+o._delay+o.duration;d>l&&(l=d)}o._head?gr(t,o,s):o._hasChildren=!1},!0),Y(r.iterationDuration)||(r.iterationDuration=l)}else a=ji(i,r,s);return a&&!r._head&&(r._hasChildren=!1,r.cancel&&r.cancel()),i},ti=(t,e,s)=>{let i=ke(10,s||0);return Nt((Math.random()*(e-t+1/i)+t)*i)/i},Ya=t=>t[ti(0,t.length-1)],Xa=t=>{let e=t.length,s,i;for(;e;)i=ti(0,--e),s=t[e],t[e]=t[i],t[i]=s;return t},Ha=(t,e)=>(+t).toFixed(e),Wa=(t,e,s)=>`${t}`.padStart(e,s),Ga=(t,e,s)=>`${t}`.padEnd(e,s),qa=(t,e,s)=>((t-e)%(s-e)+(s-e))%(s-e)+e,ja=(t,e,s,i,r)=>i+(t-e)/(s-e)*(r-i),Ua=t=>t*Vt/180,Ka=t=>t*180/Vt,Qa=(t,e,s,i)=>{let r=fe/re.defaults.frameRate;if(i!==!1){let a=i||pe._hasChildren&&pe;a&&a.deltaTime&&(r=a.deltaTime)}let n=1-Math.exp(-s*r*.1);return s?s===1?e:(1-n)*t+n*e:t},Za=(t,e=0)=>(...s)=>e?i=>t(...s,i):i=>t(i,...s),vr=t=>(...e)=>{let s=t(...e);return new Proxy(Pe,{apply:(i,r,[n])=>s(n),get:(i,r)=>vr((...n)=>{let a=Ae[r](...n);return l=>a(s(l))})})},Be=(t,e=0)=>(...s)=>(s.length<t.length?vr(Za(t,e)):t)(...s),Ae={$:Us,get:Fa,set:Va,remove:gr,cleanInlineStyles:ei,random:ti,randomPick:Ya,shuffle:Xa,lerp:Qa,sync:Na,clamp:Be(te),round:Be(Q),snap:Be(ha),wrap:Be(qa),interpolate:Be(st,1),mapRange:Be(ja),roundPad:Be(Ha),padStart:Be(Wa),padEnd:Be(Ga),degToRad:Be(Ua),radToDeg:Be(Ka)},Ja=(t,e)=>{if(ct(e,"<")){let s=e[1]==="<",i=t._tail,r=i?i._offset+i._delay:0;return s?r:r+i.duration}},eo=(t,e)=>{let s=t.iterationDuration;if(s===U&&(s=0),Y(e))return s;if(js(+e))return+e;let i=e,r=t?t.labels:null,n=!es(r),a=Ja(t,i),l=!Y(a),o=la.exec(i);if(o){let c=o[0],d=i.split(c),f=n&&d[0]?r[d[0]]:s,p=l?a:n?f:s,m=+d[1];return Vs(p,m,c[0])}else return l?a:n?Y(r[i])?s:r[i]:s};var Ws=class{constructor(e={}){this.timeStep=.02,this.restThreshold=5e-4,this.restDuration=200,this.maxDuration=6e4,this.maxRestSteps=this.restDuration/this.timeStep/fe,this.maxIterations=this.maxDuration/this.timeStep/fe,this.m=te(se(e.mass,1),0,fe),this.s=te(se(e.stiffness,100),1,fe),this.d=te(se(e.damping,10),.1,fe),this.v=te(se(e.velocity,0),-1e3,fe),this.w0=0,this.zeta=0,this.wd=0,this.b=0,this.solverDuration=0,this.duration=0,this.compute(),this.ease=s=>s===0||s===1?s:this.solve(s*this.solverDuration)}solve(e){let{zeta:s,w0:i,wd:r,b:n}=this,a=e;return s<1?a=Ri(-a*s*i)*(1*ar(r*a)+n*nr(r*a)):a=(1+n*a)*Ri(-a*i),1-a}compute(){let{maxRestSteps:e,maxIterations:s,restThreshold:i,timeStep:r,m:n,d:a,s:l,v:o}=this,c=this.w0=te(Rt(l/n),U,fe),d=this.zeta=a/(2*Rt(l*n)),f=this.wd=d<1?c*Rt(1-d*d):0;this.b=d<1?(d*c+-o)/f:-o+c;let p=0,m=0,b=0;for(;m<e&&b<s;)Mt(1-this.solve(p))<i?m++:m=0,this.solverDuration=p,p+=r,b++;this.duration=Q(this.solverDuration*fe,0)*re.timeScale}get mass(){return this.m}set mass(e){this.m=te(se(e,1),0,fe),this.compute()}get stiffness(){return this.s}set stiffness(e){this.s=te(se(e,100),1,fe),this.compute()}get damping(){return this.d}set damping(e){this.d=te(se(e,10),.1,fe),this.compute()}get velocity(){return this.v}set velocity(e){this.v=te(se(e,0),-1e3,fe),this.compute()}},Le=t=>new Ws(t);var ye=(t,e={})=>{let s=[],i=0,r=e.from,n=e.reversed,a=e.ease,l=!Y(a),c=l&&!Y(a.ease)?a.ease:l?Hs(a):null,d=e.grid,f=e.axis,p=Y(r)||r===0||r==="first",m=r==="center",b=r==="last",y=dt(t),M=lt(y?t[0]:t),E=y?lt(t[1]):0,h=Zi.exec((y?t[1]:t)+it),u=e.start||0+(y?M:0),g=p?0:js(r)?r:0;return(w,_,O,A)=>{if(m&&(g=(O-1)/2),b&&(g=O-1),!s.length){for(let S=0;S<O;S++){if(!d)s.push(Mt(g-S));else{let T=m?(d[0]-1)/2:g%d[0],L=m?(d[1]-1)/2:Nt(g/d[0]),I=S%d[0],z=Nt(S/d[0]),V=T-I,k=L-z,P=Rt(V*V+k*k);f==="x"&&(P=-V),f==="y"&&(P=-k),s.push(P)}i=pa(...s)}c&&(s=s.map(S=>c(S/i)*i)),n&&(s=s.map(S=>f?S<0?S*-1:-S:Mt(i-S)))}let x=y?(E-M)/i:M,C=(A?eo(A,Y(e.start)?A.iterationDuration:u):u)+(x*Q(s[_],2)||0);return e.modifier&&(C=e.modifier(C)),h&&(C=`${C}${h[2]}`),C}};function Qe(t){return t/1920*100+"rem"}var Yt,Pt,ii,to=()=>ii||Ie.register(window.gsap),yr=typeof Intl!="undefined"?new Intl.Segmenter:0,fs=t=>typeof t=="string"?fs(document.querySelectorAll(t)):"length"in t?Array.from(t):[t],br=t=>fs(t).filter(e=>e instanceof HTMLElement),ri=[],si=function(){},so=/\s+/g,wr=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),Sr={left:0,top:0,width:0,height:0},xr=(t,e)=>{if(e){let s=new Set(t.join("").match(e)||ri),i=t.length,r,n,a,l;if(s.size)for(;--i>-1;){n=t[i];for(a of s)if(a.startsWith(n)&&a.length>n.length){for(r=0,l=n;a.startsWith(l+=t[i+ ++r])&&l.length<a.length;);if(r&&l.length===a.length){t[i]=a,t.splice(i+1,r);break}}}}return t},Tr=t=>window.getComputedStyle(t).display==="inline"&&(t.style.display="inline-block"),At=(t,e,s)=>e.insertBefore(typeof t=="string"?document.createTextNode(t):t,s),ni=(t,e,s)=>{let i=e[t+"sClass"]||"",{tag:r="div",aria:n="auto",propIndex:a=!1}=e,l=t==="line"?"block":"inline-block",o=i.indexOf("++")>-1,c=d=>{let f=document.createElement(r),p=s.length+1;return i&&(f.className=i+(o?" "+i+p:"")),a&&f.style.setProperty("--"+t,p+""),n!=="none"&&f.setAttribute("aria-hidden","true"),r!=="span"&&(f.style.position="relative",f.style.display=l),f.textContent=d,s.push(f),f};return o&&(i=i.replace("++","")),c.collection=s,c},io=(t,e,s,i)=>{let r=ni("line",s,i),n=window.getComputedStyle(t).textAlign||"left";return(a,l)=>{let o=r("");for(o.style.textAlign=n,t.insertBefore(o,e[a]);a<l;a++)o.appendChild(e[a]);o.normalize()}},Er=(t,e,s,i,r,n,a,l,o,c)=>{var d;let f=Array.from(t.childNodes),p=0,{wordDelimiter:m,reduceWhiteSpace:b=!0,prepareText:y}=e,M=t.getBoundingClientRect(),E=M,h=!b&&window.getComputedStyle(t).whiteSpace.substring(0,3)==="pre",u=0,g=s.collection,w,_,O,A,x,v,C,S,T,L,I,z,V,k,P,D,B,X;for(typeof m=="object"?(O=m.delimiter||m,_=m.replaceWith||""):_=m===""?"":m||" ",w=_!==" ";p<f.length;p++)if(A=f[p],A.nodeType===3){for(P=A.textContent||"",b?P=P.replace(so," "):h&&(P=P.replace(/\n/g,_+`
`)),y&&(P=y(P,t)),A.textContent=P,x=_||O?P.split(O||_):P.match(l)||ri,B=x[x.length-1],S=w?B.slice(-1)===" ":!B,B||x.pop(),E=M,C=w?x[0].charAt(0)===" ":!x[0],C&&At(" ",t,A),x[0]||x.shift(),xr(x,o),n&&c||(A.textContent=""),T=1;T<=x.length;T++)if(D=x[T-1],!b&&h&&D.charAt(0)===`
`&&((d=A.previousSibling)==null||d.remove(),At(document.createElement("br"),t,A),D=D.slice(1)),!b&&D==="")At(_,t,A);else if(D===" ")t.insertBefore(document.createTextNode(" "),A);else{if(w&&D.charAt(0)===" "&&At(" ",t,A),u&&T===1&&!C&&g.indexOf(u.parentNode)>-1?(v=g[g.length-1],v.appendChild(document.createTextNode(i?"":D))):(v=s(i?"":D),At(v,t,A),u&&T===1&&!C&&v.insertBefore(u,v.firstChild)),i)for(I=yr?xr([...yr.segment(D)].map(Z=>Z.segment),o):D.match(l)||ri,X=0;X<I.length;X++)v.appendChild(I[X]===" "?document.createTextNode(" "):i(I[X]));if(n&&c){if(P=A.textContent=P.substring(D.length+1,P.length),L=v.getBoundingClientRect(),L.top>E.top&&L.left<=E.left){for(z=t.cloneNode(),V=t.childNodes[0];V&&V!==v;)k=V,V=V.nextSibling,z.appendChild(k);t.parentNode.insertBefore(z,t),r&&Tr(z)}E=L}(T<x.length||S)&&At(T>=x.length?" ":w&&D.slice(-1)===" "?" "+_:_,t,A)}t.removeChild(A),u=0}else A.nodeType===1&&(a&&a.indexOf(A)>-1?(g.indexOf(A.previousSibling)>-1&&g[g.length-1].appendChild(A),u=A):(Er(A,e,s,i,r,n,a,l,o,!0),u=0),r&&Tr(A))},Cr=class Mr{constructor(e,s){this.isSplit=!1,to(),this.elements=br(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=s,this._split=()=>this.isSplit&&this.split(this.vars);let i=[],r,n=()=>{let a=i.length,l;for(;a--;){l=i[a];let o=l.element.offsetWidth;if(o!==l.width){l.width=o,this._split();return}}};this._data={orig:i,obs:typeof ResizeObserver!="undefined"&&new ResizeObserver(()=>{clearTimeout(r),r=setTimeout(n,200)})},si(this),this.split(s)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let{type:s="chars,words,lines",aria:i="auto",deepSlice:r=!0,smartWrap:n,onSplit:a,autoSplit:l=!1,specialChars:o,mask:c}=this.vars,d=s.indexOf("lines")>-1,f=s.indexOf("chars")>-1,p=s.indexOf("words")>-1,m=f&&!p&&!d,b=o&&("push"in o?new RegExp("(?:"+o.join("|")+")","gu"):o),y=b?new RegExp(b.source+"|"+wr.source,"gu"):wr,M=!!e.ignore&&br(e.ignore),{orig:E,animTime:h,obs:u}=this._data,g;return(f||p||d)&&(this.elements.forEach((w,_)=>{E[_]={element:w,html:w.innerHTML,ariaL:w.getAttribute("aria-label"),ariaH:w.getAttribute("aria-hidden")},i==="auto"?w.setAttribute("aria-label",(w.textContent||"").trim()):i==="hidden"&&w.setAttribute("aria-hidden","true");let O=[],A=[],x=[],v=f?ni("char",e,O):null,C=ni("word",e,A),S,T,L,I;if(Er(w,e,C,v,m,r&&(d||m),M,y,b,!1),d){let z=fs(w.childNodes),V=io(w,z,e,x),k,P=[],D=0,B=z.map(Z=>Z.nodeType===1?Z.getBoundingClientRect():Sr),X=Sr;for(S=0;S<z.length;S++)k=z[S],k.nodeType===1&&(k.nodeName==="BR"?(P.push(k),V(D,S+1),D=S+1,X=B[D]):(S&&B[S].top>X.top&&B[S].left<=X.left&&(V(D,S),D=S),X=B[S]));D<S&&V(D,S),P.forEach(Z=>{var J;return(J=Z.parentNode)==null?void 0:J.removeChild(Z)})}if(!p){for(S=0;S<A.length;S++)if(T=A[S],f||!T.nextSibling||T.nextSibling.nodeType!==3)if(n&&!d){for(L=document.createElement("span"),L.style.whiteSpace="nowrap";T.firstChild;)L.appendChild(T.firstChild);T.replaceWith(L)}else T.replaceWith(...T.childNodes);else I=T.nextSibling,I&&I.nodeType===3&&(I.textContent=(T.textContent||"")+(I.textContent||""),T.remove());A.length=0,w.normalize()}this.lines.push(...x),this.words.push(...A),this.chars.push(...O)}),c&&this[c]&&this.masks.push(...this[c].map(w=>{let _=w.cloneNode();return w.replaceWith(_),_.appendChild(w),w.className&&(_.className=w.className.replace(/(\b\w+\b)/g,"$1-mask")),_.style.overflow="clip",_}))),this.isSplit=!0,Pt&&(l?Pt.addEventListener("loadingdone",this._split):Pt.status==="loading"&&console.warn("SplitText called before fonts loaded")),(g=a&&a(this))&&g.totalTime&&(this._data.anim=h?g.totalTime(h):g),d&&l&&this.elements.forEach((w,_)=>{E[_].width=w.offsetWidth,u&&u.observe(w)}),this}revert(){var e,s;let{orig:i,anim:r,obs:n}=this._data;return n&&n.disconnect(),i.forEach(({element:a,html:l,ariaL:o,ariaH:c})=>{a.innerHTML=l,o?a.setAttribute("aria-label",o):a.removeAttribute("aria-label"),c?a.setAttribute("aria-hidden",c):a.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=i.length=this.masks.length=0,this.isSplit=!1,Pt==null||Pt.removeEventListener("loadingdone",this._split),r&&(this._data.animTime=r.totalTime(),r.revert()),(s=(e=this.vars).onRevert)==null||s.call(e,this),this}static create(e,s){return new Mr(e,s)}static register(e){Yt=Yt||e||window.gsap,Yt&&(fs=Yt.utils.toArray,si=Yt.core.context||si),!ii&&window.innerWidth>0&&(Pt=document.fonts,ii=!0)}};Cr.version="3.13.0";var Ie=Cr;var Fe=Ae.$("section[class*='home-']"),ge={home_2:()=>{let e=new IntersectionObserver((s,i)=>{s.forEach(r=>{r.intersectionRatio>.5&&(r.target.querySelectorAll(".item").forEach((a,l)=>{ce(a,{opacity:1,x:[Qe(40),0],duration:1e3,ease:"outQuart",delay:l*200})}),i.unobserve(r.target))})},{threshold:.5});Ae.$(".home-2").forEach(s=>{s.querySelectorAll(".item").forEach(i=>{Ae.set(i,{opacity:0})}),e.observe(s)})},home_4:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{let r=i.target.querySelector(".description");Ae.set(r,{opacity:0,y:"50%",duration:800,ease:"outCirc"});let n=Ae.$(i.target.querySelectorAll(".bpd-1"));n.forEach(a=>{Ae.set(a,{scale:0,translateY:Qe(40),ease:"easeInOutSine",duration:300})}),i.intersectionRatio>.5&&(ce(r,{opacity:1,y:0,delay:100}),ce(n,{scale:1,translateY:0,delay:ye(50)}),s.unobserve(i.target))})},{threshold:.5});Ae.$(".home-4").forEach(e=>{t.observe(e)})},home_3:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.intersectionRatio>.6){let r=i.target,n=Ie.create(r,{type:"chars,words"});n.chars.forEach(a=>{a.classList.add("char")}),n.words.forEach(a=>{a.classList.add("word")}),ce(n.chars,{scale:[.8,1],ease:Le({stiffness:100}),delay:ye(50,{from:"last"})}),ce(n.words,{x:["100%",0],opacity:[0,1],ease:Le({stiffness:80}),delay:ye(100,{from:"last"})}),r.style.opacity=1,s.unobserve(i.target)}})},{threshold:.6});Ae.$(".home-3").forEach(e=>{let s=e.querySelector(".bottom-title");s&&(s.style.opacity=0,t.observe(s))})},home_items_animation:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach((i,r)=>{i.intersectionRatio>.5&&(ce(i.target.querySelectorAll(".item"),{opacity:[0,1],y:[Qe(40),0],ease:Le({stiffness:150}),delay:ye(100),duration:600}),s.unobserve(i.target))})},{threshold:.5});Ae.$(".home-item-animation").forEach(e=>{Ae.set(e.querySelectorAll(".item"),{opacity:0,y:Qe(40)}),t.observe(e)})},homeBlockTitles:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target,n=window.getComputedStyle(r).textAlign,a="first";n==="center"&&(a="center"),n==="right"&&(a="last");let l=Ie.create(r,{type:"chars,words"});i.target.closest(".block-title").style.opacity=1;let o=l.chars;ce(o,{opacity:[0,1],y:[Qe(20),0],duration:600,ease:Le({stiffness:150}),delay:ye(25,{from:a})}),s.unobserve(r)}})},{threshold:.2});Fe.forEach(e=>{let s=e.querySelector(".block-title");s&&(s.style.opacity=0,t.observe(s))})},homeTitle:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.intersectionRatio>.5){let r=i.target,n=r.getAttribute("animate-title")||"fade-up",a=window.getComputedStyle(r).textAlign,l="first";a==="center"&&(l="center"),a==="right"&&(l="last");let o=Ie.create(r,{type:"words"});r.style.overflow="hidden",n==="fade-up"&&ce(o.words,{opacity:[0,1],y:["100%",0],duration:600,ease:Le({stiffness:150}),delay:ye(25,{from:l})}),n==="slide-up"&&ce(o.words,{opacity:[0,1],x:["100%",0],duration:600,ease:Le({stiffness:150}),delay:ye(25,{from:l})}),s.unobserve(r)}})},{threshold:.5});Fe.forEach(e=>{let s=e.querySelectorAll("[animate-title]");s&&s.forEach(i=>{t.observe(i)})})},homeDescription:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target,n="first",a=Ie.create(r,{type:"words,lines"});r.style.opacity=1;let l=a.words;a.lines.forEach(c=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden"}),ce(l,{opacity:[0,1],translateY:[Qe(20),0],duration:500,delay:ye(15,{from:n})}),s.unobserve(r)}})},{threshold:.2});Fe.forEach(e=>{let s=e.querySelector(".description");s&&(s.style.opacity=0,t.observe(s))})},homeButtons:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;ce(r,{opacity:[0,1],y:[45,0],duration:500}),s.unobserve(r)}})},{threshold:.2});Fe.forEach(e=>{let s=e.querySelectorAll(".btn"),i=[];s.forEach(r=>{let n=document.createElement("div");n.classList.add("button-wrapper"),r.parentNode.insertBefore(n,r),n.appendChild(r),n.style.opacity=0,n.style.y=Qe(45),i.push(n)}),i.length!==0&&i.forEach(r=>{t.observe(r)})})},primaryNav:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{i.isIntersecting&&(ce(i.target.querySelectorAll("li"),{opacity:1,x:0,duration:600,delay:ye(100),ease:Le({stiffness:150,damping:10})}),s.unobserve(i.target))})},{threshold:.2});Ae.$(".primary-nav").forEach(e=>{Ae.set(e.querySelectorAll("li"),{opacity:0,x:Qe(20)}),t.observe(e)})},homeTypewriter:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars;a.forEach(l=>{l.style.opacity=0,l.style.willChange="opacity"}),ce(a,{opacity:[0,1],duration:50,delay:ye(80,{from:"first"}),ease:"linear"}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-typewriter").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeBlurFocus:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars,l=window.getComputedStyle(r).textAlign,o="first";l==="center"&&(o="center"),l==="right"&&(o="last"),a.forEach(c=>{c.style.filter="blur(10px)",c.style.opacity=0,c.style.willChange="filter, opacity"}),ce(a,{filter:["blur(10px)","blur(0px)"],opacity:[0,1],duration:1e3,ease:Le({stiffness:100,damping:15}),delay:ye(40,{from:o})}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-blur").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeScaleReveal:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars,l=window.getComputedStyle(r).textAlign,o="first";l==="center"&&(o="center"),l==="right"&&(o="last"),a.forEach(c=>{c.style.opacity=0,c.style.transform="scale(0) rotate(180deg)",c.style.willChange="transform, opacity"}),ce(a,{opacity:[0,1],scale:[0,1],rotate:[180,0],duration:600,ease:Le({stiffness:200,damping:12}),delay:ye(50,{from:o})}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-scale").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeWaveText:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars;a.forEach((l,o)=>{l.style.opacity=0,l.style.transform="translateY(30px)",l.style.willChange="transform, opacity"}),ce(a,{opacity:[0,1],y:[30,0],duration:500,ease:Le({stiffness:80,damping:10}),delay:(l,o)=>o*30+Math.sin(o*.5)*10}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-wave").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeRotateReveal:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"words"}).words,l=window.getComputedStyle(r).textAlign,o="first";l==="center"&&(o="center"),l==="right"&&(o="last"),r.style.overflow="hidden",a.forEach(c=>{c.style.opacity=0,c.style.transform="rotateX(90deg)",c.style.transformOrigin="center bottom",c.style.willChange="transform, opacity"}),ce(a,{opacity:[0,1],rotateX:[90,0],duration:700,ease:Le({stiffness:120,damping:12}),delay:ye(80,{from:o})}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-rotate").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeGlitchText:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars,l=window.getComputedStyle(r).textAlign,o="first";l==="center"&&(o="center"),l==="right"&&(o="last"),a.forEach(c=>{c.style.opacity=0,c.style.transform="translateX(0)",c.style.willChange="transform, opacity"}),ce(a,{opacity:[0,1,1],x:[0,()=>Math.random()*10-5,()=>Math.random()*10-5,0],duration:1e3,ease:"easeOutQuad",delay:ye(60,{from:o})}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-glitch").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},homeFadeInOut:()=>{let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){let r=i.target;if(r.dataset.animated==="true"){s.unobserve(r);return}r.dataset.animated="true";let a=Ie.create(r,{type:"chars"}).chars,l=window.getComputedStyle(r).textAlign,o="first";l==="center"&&(o="center"),l==="right"&&(o="last"),a.forEach(c=>{c.style.opacity=0,c.style.transform="translateY(20px) scale(0.8)",c.style.willChange="transform, opacity"}),ce(a,{opacity:[0,1],y:[20,0],scale:[.8,1],duration:900,ease:Le({stiffness:150,damping:15}),delay:ye(35,{from:o})}),s.unobserve(r)}})},{threshold:.3});Fe.forEach(e=>{e.querySelectorAll(".animate-fade-in-out").forEach(i=>{i.dataset.animated!=="true"&&t.observe(i)})})},init:()=>{$("body.home").length!==0&&($(window).width()<1200||(ge.home_2(),ge.home_3(),ge.home_4(),ge.home_items_animation(),ge.homeButtons(),document.fonts.ready.then(t=>{ge.homeBlockTitles(),ge.homeTitle(),ge.homeDescription(),ge.homeTypewriter(),ge.homeBlurFocus(),ge.homeScaleReveal(),ge.homeWaveText(),ge.homeRotateReveal(),ge.homeGlitchText(),ge.homeFadeInOut()})))}};$(document).ready(function(){hi(),vi(),yi(),Oi(),gi(),ge.init(),mi(),ht.init(),setTimeout(()=>{ps.default.init({offset:80,once:!0,disable:function(){return window.innerWidth<1200}})},100),setTimeout(()=>{ps.default.refresh()},1e3)});ps.default.init({offset:100});var Pr=(0,_r.default)();Pr.observe();window.lozad=Pr;})();
/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)

animejs/lib/anime.esm.js:
  (**
   * anime.js - ESM
   * @version v4.0.1
   * @author Julian Garnier
   * @license MIT
   * @copyright (c) 2025 Julian Garnier
   * @see https://animejs.com
   *)

gsap/SplitText.js:
  (*!
   * SplitText 3.13.0
   * https://gsap.com
   *
   * @license Copyright 2025, GreenSock. All rights reserved. Subject to the terms at https://gsap.com/standard-license.
   * @author: Jack Doyle
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2Fvcy9kaXN0L2Fvcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbG96YWQvZGlzdC9sb3phZC5taW4uanMiLCAiLi4vLi4vc3JjL2pzL21haW4uanMiLCAiLi4vLi4vc3JjL2pzL2hlbHBlci5qcyIsICIuLi8uLi9wbHVnaW5zL0NvbXBvbmVudHNVaS9IZWFkZXJTZWFyY2gvSGVhZGVyU2VhcmNoLmpzIiwgIi4uLy4uL3NyYy9qcy9oZWFkZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3V0aWxzLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9zd2lwZXItY29yZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21vdXNld2hlZWwubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvbmF2aWdhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3BhZ2luYXRpb24ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9hdXRvcGxheS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LWluaXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWZhZGUubWpzIiwgIi4uLy4uL3NyYy9qcy9zd2lwZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzbS5qcyIsICIuLi8uLi9zcmMvanMvdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dzYXAvU3BsaXRUZXh0LmpzIiwgIi4uLy4uL3NyYy9qcy9ob21lUGFnZS5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5BT1M9dCgpOmUuQU9TPXQoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgaT1uW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gZVtvXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyx0KSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQucD1cImRpc3QvXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBvIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJihlW29dPW5bb10pfXJldHVybiBlfSxyPW4oMSksYT0obyhyKSxuKDYpKSx1PW8oYSksYz1uKDcpLHM9byhjKSxmPW4oOCksZD1vKGYpLGw9big5KSxwPW8obCksbT1uKDEwKSxiPW8obSksdj1uKDExKSx5PW8odiksZz1uKDE0KSxoPW8oZyksdz1bXSxrPSExLHg9e29mZnNldDoxMjAsZGVsYXk6MCxlYXNpbmc6XCJlYXNlXCIsZHVyYXRpb246NDAwLGRpc2FibGU6ITEsb25jZTohMSxzdGFydEV2ZW50OlwiRE9NQ29udGVudExvYWRlZFwiLHRocm90dGxlRGVsYXk6OTksZGVib3VuY2VEZWxheTo1MCxkaXNhYmxlTXV0YXRpb25PYnNlcnZlcjohMX0saj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYoZSYmKGs9ITApLGspcmV0dXJuIHc9KDAseS5kZWZhdWx0KSh3LHgpLCgwLGIuZGVmYXVsdCkodyx4Lm9uY2UpLHd9LE89ZnVuY3Rpb24oKXt3PSgwLGguZGVmYXVsdCkoKSxqKCl9LE09ZnVuY3Rpb24oKXt3LmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3NcIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWVhc2luZ1wiKSxlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3MtZHVyYXRpb25cIiksZS5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtYW9zLWRlbGF5XCIpfSl9LFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0hMHx8XCJtb2JpbGVcIj09PWUmJnAuZGVmYXVsdC5tb2JpbGUoKXx8XCJwaG9uZVwiPT09ZSYmcC5kZWZhdWx0LnBob25lKCl8fFwidGFibGV0XCI9PT1lJiZwLmRlZmF1bHQudGFibGV0KCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoKT09PSEwfSxfPWZ1bmN0aW9uKGUpe3g9aSh4LGUpLHc9KDAsaC5kZWZhdWx0KSgpO3ZhciB0PWRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9iO3JldHVybiBTKHguZGlzYWJsZSl8fHQ/TSgpOih4LmRpc2FibGVNdXRhdGlvbk9ic2VydmVyfHxkLmRlZmF1bHQuaXNTdXBwb3J0ZWQoKXx8KGNvbnNvbGUuaW5mbygnXFxuICAgICAgYW9zOiBNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLFxcbiAgICAgIGNvZGUgbXV0YXRpb25zIG9ic2VydmluZyBoYXMgYmVlbiBkaXNhYmxlZC5cXG4gICAgICBZb3UgbWF5IGhhdmUgdG8gY2FsbCBcInJlZnJlc2hIYXJkKClcIiBieSB5b3Vyc2VsZi5cXG4gICAgJykseC5kaXNhYmxlTXV0YXRpb25PYnNlcnZlcj0hMCksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtZWFzaW5nXCIseC5lYXNpbmcpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnNldEF0dHJpYnV0ZShcImRhdGEtYW9zLWR1cmF0aW9uXCIseC5kdXJhdGlvbiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtZGVsYXlcIix4LmRlbGF5KSxcIkRPTUNvbnRlbnRMb2FkZWRcIj09PXguc3RhcnRFdmVudCYmW1wiY29tcGxldGVcIixcImludGVyYWN0aXZlXCJdLmluZGV4T2YoZG9jdW1lbnQucmVhZHlTdGF0ZSk+LTE/aighMCk6XCJsb2FkXCI9PT14LnN0YXJ0RXZlbnQ/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoeC5zdGFydEV2ZW50LGZ1bmN0aW9uKCl7aighMCl9KTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHguc3RhcnRFdmVudCxmdW5jdGlvbigpe2ooITApfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwoMCxzLmRlZmF1bHQpKGoseC5kZWJvdW5jZURlbGF5LCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCgwLHMuZGVmYXVsdCkoaix4LmRlYm91bmNlRGVsYXksITApKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCgwLHUuZGVmYXVsdCkoZnVuY3Rpb24oKXsoMCxiLmRlZmF1bHQpKHcseC5vbmNlKX0seC50aHJvdHRsZURlbGF5KSkseC5kaXNhYmxlTXV0YXRpb25PYnNlcnZlcnx8ZC5kZWZhdWx0LnJlYWR5KFwiW2RhdGEtYW9zXVwiLE8pLHcpfTtlLmV4cG9ydHM9e2luaXQ6XyxyZWZyZXNoOmoscmVmcmVzaEhhcmQ6T319LGZ1bmN0aW9uKGUsdCl7fSwsLCwsZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7ZnVuY3Rpb24gbyh0KXt2YXIgbj1iLG89djtyZXR1cm4gYj12PXZvaWQgMCxrPXQsZz1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gcihlKXtyZXR1cm4gaz1lLGg9c2V0VGltZW91dChmLHQpLE0/byhlKTpnfWZ1bmN0aW9uIGEoZSl7dmFyIG49ZS13LG89ZS1rLGk9dC1uO3JldHVybiBTP2ooaSx5LW8pOml9ZnVuY3Rpb24gYyhlKXt2YXIgbj1lLXcsbz1lLWs7cmV0dXJuIHZvaWQgMD09PXd8fG4+PXR8fG48MHx8UyYmbz49eX1mdW5jdGlvbiBmKCl7dmFyIGU9TygpO3JldHVybiBjKGUpP2QoZSk6dm9pZChoPXNldFRpbWVvdXQoZixhKGUpKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gaD12b2lkIDAsXyYmYj9vKGUpOihiPXY9dm9pZCAwLGcpfWZ1bmN0aW9uIGwoKXt2b2lkIDAhPT1oJiZjbGVhclRpbWVvdXQoaCksaz0wLGI9dz12PWg9dm9pZCAwfWZ1bmN0aW9uIHAoKXtyZXR1cm4gdm9pZCAwPT09aD9nOmQoTygpKX1mdW5jdGlvbiBtKCl7dmFyIGU9TygpLG49YyhlKTtpZihiPWFyZ3VtZW50cyx2PXRoaXMsdz1lLG4pe2lmKHZvaWQgMD09PWgpcmV0dXJuIHIodyk7aWYoUylyZXR1cm4gaD1zZXRUaW1lb3V0KGYsdCksbyh3KX1yZXR1cm4gdm9pZCAwPT09aCYmKGg9c2V0VGltZW91dChmLHQpKSxnfXZhciBiLHYseSxnLGgsdyxrPTAsTT0hMSxTPSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKHMpO3JldHVybiB0PXUodCl8fDAsaShuKSYmKE09ISFuLmxlYWRpbmcsUz1cIm1heFdhaXRcImluIG4seT1TP3godShuLm1heFdhaXQpfHwwLHQpOnksXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxtLmNhbmNlbD1sLG0uZmx1c2g9cCxtfWZ1bmN0aW9uIG8oZSx0LG8pe3ZhciByPSEwLGE9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKHMpO3JldHVybiBpKG8pJiYocj1cImxlYWRpbmdcImluIG8/ISFvLmxlYWRpbmc6cixhPVwidHJhaWxpbmdcImluIG8/ISFvLnRyYWlsaW5nOmEpLG4oZSx0LHtsZWFkaW5nOnIsbWF4V2FpdDp0LHRyYWlsaW5nOmF9KX1mdW5jdGlvbiBpKGUpe3ZhciB0PVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YyhlKTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpjKGUpKX1mdW5jdGlvbiBhKGUpe3JldHVyblwic3ltYm9sXCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmMoZSkpfHxyKGUpJiZrLmNhbGwoZSk9PWR9ZnVuY3Rpb24gdShlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihhKGUpKXJldHVybiBmO2lmKGkoZSkpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9aSh0KT90K1wiXCI6dH1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShsLFwiXCIpO3ZhciBuPW0udGVzdChlKTtyZXR1cm4gbnx8Yi50ZXN0KGUpP3YoZS5zbGljZSgyKSxuPzI6OCk6cC50ZXN0KGUpP2Y6K2V9dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0scz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixmPU5hTixkPVwiW29iamVjdCBTeW1ib2xdXCIsbD0vXlxccyt8XFxzKyQvZyxwPS9eWy0rXTB4WzAtOWEtZl0rJC9pLG09L14wYlswMV0rJC9pLGI9L14wb1swLTddKyQvaSx2PXBhcnNlSW50LHk9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6Yyh0KSkmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LGc9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP1widW5kZWZpbmVkXCI6YyhzZWxmKSkmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGg9eXx8Z3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHc9T2JqZWN0LnByb3RvdHlwZSxrPXcudG9TdHJpbmcseD1NYXRoLm1heCxqPU1hdGgubWluLE89ZnVuY3Rpb24oKXtyZXR1cm4gaC5EYXRlLm5vdygpfTtlLmV4cG9ydHM9b30pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7ZnVuY3Rpb24gaSh0KXt2YXIgbj1iLG89djtyZXR1cm4gYj12PXZvaWQgMCxPPXQsZz1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gcihlKXtyZXR1cm4gTz1lLGg9c2V0VGltZW91dChmLHQpLE0/aShlKTpnfWZ1bmN0aW9uIHUoZSl7dmFyIG49ZS13LG89ZS1PLGk9dC1uO3JldHVybiBTP3goaSx5LW8pOml9ZnVuY3Rpb24gcyhlKXt2YXIgbj1lLXcsbz1lLU87cmV0dXJuIHZvaWQgMD09PXd8fG4+PXR8fG48MHx8UyYmbz49eX1mdW5jdGlvbiBmKCl7dmFyIGU9aigpO3JldHVybiBzKGUpP2QoZSk6dm9pZChoPXNldFRpbWVvdXQoZix1KGUpKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gaD12b2lkIDAsXyYmYj9pKGUpOihiPXY9dm9pZCAwLGcpfWZ1bmN0aW9uIGwoKXt2b2lkIDAhPT1oJiZjbGVhclRpbWVvdXQoaCksTz0wLGI9dz12PWg9dm9pZCAwfWZ1bmN0aW9uIHAoKXtyZXR1cm4gdm9pZCAwPT09aD9nOmQoaigpKX1mdW5jdGlvbiBtKCl7dmFyIGU9aigpLG49cyhlKTtpZihiPWFyZ3VtZW50cyx2PXRoaXMsdz1lLG4pe2lmKHZvaWQgMD09PWgpcmV0dXJuIHIodyk7aWYoUylyZXR1cm4gaD1zZXRUaW1lb3V0KGYsdCksaSh3KX1yZXR1cm4gdm9pZCAwPT09aCYmKGg9c2V0VGltZW91dChmLHQpKSxnfXZhciBiLHYseSxnLGgsdyxPPTAsTT0hMSxTPSExLF89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKGMpO3JldHVybiB0PWEodCl8fDAsbyhuKSYmKE09ISFuLmxlYWRpbmcsUz1cIm1heFdhaXRcImluIG4seT1TP2soYShuLm1heFdhaXQpfHwwLHQpOnksXz1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpfKSxtLmNhbmNlbD1sLG0uZmx1c2g9cCxtfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjp1KGUpO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOnUoZSkpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuXCJzeW1ib2xcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6dShlKSl8fGkoZSkmJncuY2FsbChlKT09Zn1mdW5jdGlvbiBhKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKHIoZSkpcmV0dXJuIHM7aWYobyhlKSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1vKHQpP3QrXCJcIjp0fWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiAwPT09ZT9lOitlO2U9ZS5yZXBsYWNlKGQsXCJcIik7dmFyIG49cC50ZXN0KGUpO3JldHVybiBufHxtLnRlc3QoZSk/YihlLnNsaWNlKDIpLG4/Mjo4KTpsLnRlc3QoZSk/czorZX12YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxjPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLHM9TmFOLGY9XCJbb2JqZWN0IFN5bWJvbF1cIixkPS9eXFxzK3xcXHMrJC9nLGw9L15bLStdMHhbMC05YS1mXSskL2kscD0vXjBiWzAxXSskL2ksbT0vXjBvWzAtN10rJC9pLGI9cGFyc2VJbnQsdj1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjp1KHQpKSYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQseT1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/XCJ1bmRlZmluZWRcIjp1KHNlbGYpKSYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsZz12fHx5fHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksaD1PYmplY3QucHJvdG90eXBlLHc9aC50b1N0cmluZyxrPU1hdGgubWF4LHg9TWF0aC5taW4saj1mdW5jdGlvbigpe3JldHVybiBnLkRhdGUubm93KCl9O2UuZXhwb3J0cz1ufSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9dm9pZCAwLG89dm9pZCAwLGk9dm9pZCAwO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKXtpZihvPWVbdF0sby5kYXRhc2V0JiZvLmRhdGFzZXQuYW9zKXJldHVybiEwO2lmKGk9by5jaGlsZHJlbiYmbihvLmNoaWxkcmVuKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBvKCl7cmV0dXJuIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXJ9ZnVuY3Rpb24gaSgpe3JldHVybiEhbygpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj13aW5kb3cuZG9jdW1lbnQsaT1vKCkscj1uZXcgaShhKTt1PXQsci5vYnNlcnZlKG4uZG9jdW1lbnRFbGVtZW50LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMCxyZW1vdmVkTm9kZXM6ITB9KX1mdW5jdGlvbiBhKGUpe2UmJmUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmFkZGVkTm9kZXMpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5yZW1vdmVkTm9kZXMpLGk9dC5jb25jYXQobyk7aWYobihpKSlyZXR1cm4gdSgpfSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9ZnVuY3Rpb24oKXt9O3QuZGVmYXVsdD17aXNTdXBwb3J0ZWQ6aSxyZWFkeTpyfX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYXx8XCJcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHI9LyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLGE9LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2ksdT0vKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2ksYz0vMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKX1yZXR1cm4gaShlLFt7a2V5OlwicGhvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW8oKTtyZXR1cm4hKCFyLnRlc3QoZSkmJiFhLnRlc3QoZS5zdWJzdHIoMCw0KSkpfX0se2tleTpcIm1vYmlsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bygpO3JldHVybiEoIXUudGVzdChlKSYmIWMudGVzdChlLnN1YnN0cigwLDQpKSl9fSx7a2V5OlwidGFibGV0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2JpbGUoKSYmIXRoaXMucGhvbmUoKX19XSksZX0oKTt0LmRlZmF1bHQ9bmV3IHN9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUubm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1vbmNlXCIpO3Q+ZS5wb3NpdGlvbj9lLm5vZGUuY2xhc3NMaXN0LmFkZChcImFvcy1hbmltYXRlXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBvJiYoXCJmYWxzZVwiPT09b3x8IW4mJlwidHJ1ZVwiIT09bykmJmUubm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwiYW9zLWFuaW1hdGVcIil9LG89ZnVuY3Rpb24oZSx0KXt2YXIgbz13aW5kb3cucGFnZVlPZmZzZXQsaT13aW5kb3cuaW5uZXJIZWlnaHQ7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUscil7bihlLGkrbyx0KX0pfTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMTIpLHI9byhpKSxhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLG4pe2Uubm9kZS5jbGFzc0xpc3QuYWRkKFwiYW9zLWluaXRcIiksZS5wb3NpdGlvbj0oMCxyLmRlZmF1bHQpKGUubm9kZSx0Lm9mZnNldCl9KSxlfTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMTMpLHI9byhpKSxhPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPTAsaT13aW5kb3cuaW5uZXJIZWlnaHQsYT17b2Zmc2V0OmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3Mtb2Zmc2V0XCIpLGFuY2hvcjplLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLWFuY2hvclwiKSxhbmNob3JQbGFjZW1lbnQ6ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1hbmNob3ItcGxhY2VtZW50XCIpfTtzd2l0Y2goYS5vZmZzZXQmJiFpc05hTihhLm9mZnNldCkmJihvPXBhcnNlSW50KGEub2Zmc2V0KSksYS5hbmNob3ImJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYS5hbmNob3IpJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEuYW5jaG9yKVswXSksbj0oMCxyLmRlZmF1bHQpKGUpLnRvcCxhLmFuY2hvclBsYWNlbWVudCl7Y2FzZVwidG9wLWJvdHRvbVwiOmJyZWFrO2Nhc2VcImNlbnRlci1ib3R0b21cIjpuKz1lLm9mZnNldEhlaWdodC8yO2JyZWFrO2Nhc2VcImJvdHRvbS1ib3R0b21cIjpuKz1lLm9mZnNldEhlaWdodDticmVhaztjYXNlXCJ0b3AtY2VudGVyXCI6bis9aS8yO2JyZWFrO2Nhc2VcImJvdHRvbS1jZW50ZXJcIjpuKz1pLzIrZS5vZmZzZXRIZWlnaHQ7YnJlYWs7Y2FzZVwiY2VudGVyLWNlbnRlclwiOm4rPWkvMitlLm9mZnNldEhlaWdodC8yO2JyZWFrO2Nhc2VcInRvcC10b3BcIjpuKz1pO2JyZWFrO2Nhc2VcImJvdHRvbS10b3BcIjpuKz1lLm9mZnNldEhlaWdodCtpO2JyZWFrO2Nhc2VcImNlbnRlci10b3BcIjpuKz1lLm9mZnNldEhlaWdodC8yK2l9cmV0dXJuIGEuYW5jaG9yUGxhY2VtZW50fHxhLm9mZnNldHx8aXNOYU4odCl8fChvPXQpLG4rb307dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wO2UmJiFpc05hTihlLm9mZnNldExlZnQpJiYhaXNOYU4oZS5vZmZzZXRUb3ApOyl0Kz1lLm9mZnNldExlZnQtKFwiQk9EWVwiIT1lLnRhZ05hbWU/ZS5zY3JvbGxMZWZ0OjApLG4rPWUub2Zmc2V0VG9wLShcIkJPRFlcIiE9ZS50YWdOYW1lP2Uuc2Nyb2xsVG9wOjApLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDpuLGxlZnQ6dH19O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1hb3NdXCIpLEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLGZ1bmN0aW9uKGUpe3JldHVybntub2RlOmV9fSl9O3QuZGVmYXVsdD1ufV0pfSk7IiwgIi8qISBsb3phZC5qcyAtIHYxLjE2LjAgLSAyMDIwLTA5LTA2XG4qIGh0dHBzOi8vZ2l0aHViLmNvbS9BcG9vcnZTYXhlbmEvbG96YWQuanNcbiogQ29weXJpZ2h0IChjKSAyMDIwIEFwb29ydiBTYXhlbmE7IExpY2Vuc2VkIE1JVCAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6dC5sb3phZD1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtcbi8qKlxuICAgKiBEZXRlY3QgSUUgYnJvd3NlclxuICAgKiBAY29uc3Qge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL3ZhciBnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGY9e3Jvb3RNYXJnaW46XCIwcHhcIix0aHJlc2hvbGQ6MCxsb2FkOmZ1bmN0aW9uKHQpe2lmKFwicGljdHVyZVwiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZT10LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikscj0hMTtudWxsPT09ZSYmKGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxyPSEwKSxnJiZ0LmdldEF0dHJpYnV0ZShcImRhdGEtaWVzcmNcIikmJihlLnNyYz10LmdldEF0dHJpYnV0ZShcImRhdGEtaWVzcmNcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hbHRcIikmJihlLmFsdD10LmdldEF0dHJpYnV0ZShcImRhdGEtYWx0XCIpKSxyJiZ0LmFwcGVuZChlKX1pZihcInZpZGVvXCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiF0LmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpJiZ0LmNoaWxkcmVuKXtmb3IodmFyIGE9dC5jaGlsZHJlbixvPXZvaWQgMCxpPTA7aTw9YS5sZW5ndGgtMTtpKyspKG89YVtpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSkmJihhW2ldLnNyYz1vKTt0LmxvYWQoKX10LmdldEF0dHJpYnV0ZShcImRhdGEtcG9zdGVyXCIpJiYodC5wb3N0ZXI9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc3RlclwiKSksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSYmKHQuc3JjPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNzZXRcIikmJnQuc2V0QXR0cmlidXRlKFwic3Jjc2V0XCIsdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY3NldFwiKSk7dmFyIG49XCIsXCI7aWYodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtZGVsaW1pdGVyXCIpJiYobj10LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1kZWxpbWl0ZXJcIikpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWltYWdlXCIpKXQuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKCdcIit0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZVwiKS5zcGxpdChuKS5qb2luKFwiJyksdXJsKCdcIikrXCInKVwiO2Vsc2UgaWYodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtaW1hZ2Utc2V0XCIpKXt2YXIgZD10LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZS1zZXRcIikuc3BsaXQobiksdT1kWzBdLnN1YnN0cigwLGRbMF0uaW5kZXhPZihcIiBcIikpfHxkWzBdOy8vIFN1YnN0cmluZyBiZWZvcmUgLi4uIDF4XG51PS0xPT09dS5pbmRleE9mKFwidXJsKFwiKT9cInVybChcIit1K1wiKVwiOnUsMT09PWQubGVuZ3RoP3Quc3R5bGUuYmFja2dyb3VuZEltYWdlPXU6dC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCh0LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKStcImJhY2tncm91bmQtaW1hZ2U6IFwiK3UrXCI7IGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtaW1hZ2Utc2V0KFwiK2QrXCIpOyBiYWNrZ3JvdW5kLWltYWdlOiBpbWFnZS1zZXQoXCIrZCtcIilcIil9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZS1jbGFzc1wiKSYmdC5jbGFzc0xpc3QudG9nZ2xlKHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGUtY2xhc3NcIikpfSxsb2FkZWQ6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBBKHQpe3Quc2V0QXR0cmlidXRlKFwiZGF0YS1sb2FkZWRcIiwhMCl9dmFyIG09ZnVuY3Rpb24odCl7cmV0dXJuXCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImRhdGEtbG9hZGVkXCIpfSx2PWZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpkb2N1bWVudDtyZXR1cm4gdCBpbnN0YW5jZW9mIEVsZW1lbnQ/W3RdOnQgaW5zdGFuY2VvZiBOb2RlTGlzdD90OmUucXVlcnlTZWxlY3RvckFsbCh0KX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsYSxvPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIi5sb3phZFwiLHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGU9T2JqZWN0LmFzc2lnbih7fSxmLHQpLGk9ZS5yb290LG49ZS5yb290TWFyZ2luLGQ9ZS50aHJlc2hvbGQsdT1lLmxvYWQsZz1lLmxvYWRlZCxzPXZvaWQgMDtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXImJihzPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigocj11LGE9ZyxmdW5jdGlvbih0LGUpe3QuZm9yRWFjaChmdW5jdGlvbih0KXsoMDx0LmludGVyc2VjdGlvblJhdGlvfHx0LmlzSW50ZXJzZWN0aW5nKSYmKGUudW5vYnNlcnZlKHQudGFyZ2V0KSxtKHQudGFyZ2V0KXx8KHIodC50YXJnZXQpLEEodC50YXJnZXQpLGEodC50YXJnZXQpKSl9KX0pLHtyb290Omkscm9vdE1hcmdpbjpuLHRocmVzaG9sZDpkfSkpO2Zvcih2YXIgYyxsPXYobyxpKSxiPTA7YjxsLmxlbmd0aDtiKyspKGM9bFtiXSkuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kXCIpJiYoYy5zdHlsZS5iYWNrZ3JvdW5kPWMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kXCIpKTtyZXR1cm57b2JzZXJ2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD12KG8saSksZT0wO2U8dC5sZW5ndGg7ZSsrKW0odFtlXSl8fChzP3Mub2JzZXJ2ZSh0W2VdKToodSh0W2VdKSxBKHRbZV0pLGcodFtlXSkpKX0sdHJpZ2dlckxvYWQ6ZnVuY3Rpb24odCl7bSh0KXx8KHUodCksQSh0KSxnKHQpKX0sb2JzZXJ2ZXI6c319fSk7XG4iLCAiaW1wb3J0IEFPUyBmcm9tIFwiYW9zXCI7XG5pbXBvcnQgbG96YWQgZnJvbSBcImxvemFkXCI7XG5pbXBvcnQge1xuXHRzZXRCYWNrZ3JvdW5kRWxlbWVudCxcblx0ZGV0ZWN0Q2xvc2VFbGVtZW50LFxuXHRidXR0b25Ub1RvcCxcblx0Y2xpY2tTY3JvbGxUb0Rpdixcblx0YXBwZW5kQ2FwdGNoYUFTUCxcblx0bWVudVNweSxcblx0VG9nZ2xlSXRlbSxcblx0c3RpY2tFbGVtZW50VG9FZGdlLFxufSBmcm9tIFwiLi9oZWxwZXJcIjtcbmltcG9ydCB7IGhlYWRlciB9IGZyb20gXCIuL2hlYWRlclwiO1xuaW1wb3J0IHsgc3dpcGVySW5pdCB9IGZyb20gXCIuL3N3aXBlclwiO1xuaW1wb3J0IHsgaG9tZVBhZ2UgfSBmcm9tIFwiLi9ob21lUGFnZVwiO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXHRzZXRCYWNrZ3JvdW5kRWxlbWVudCgpO1xuXHRzdGlja0VsZW1lbnRUb0VkZ2UoKTtcblx0bWVudVNweSgpO1xuXHRzd2lwZXJJbml0KCk7XG5cdFRvZ2dsZUl0ZW0oKTtcblx0aG9tZVBhZ2UuaW5pdCgpO1xuXHRidXR0b25Ub1RvcCgpO1xuXHRoZWFkZXIuaW5pdCgpO1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRBT1MuaW5pdCh7XG5cdFx0XHRvZmZzZXQ6IDgwLFxuXHRcdFx0b25jZTogdHJ1ZSxcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgMTIwMDtcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH0sIDEwMCk7XG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdEFPUy5yZWZyZXNoKCk7XG5cdH0sIDEwMDApO1xufSk7XG5cbi8vIG1lbnUgNCBjXHUxRUE1cFxuLy8gZnVuY3Rpb24gaGFuZGxlTWVudSgpIHtcbi8vIFx0Ly8gMVx1RkUwRlx1MjBFMyBUb2dnbGUgbWVudSBjaFx1MDBFRG5oXG4vLyBcdCQoXCIuY2F0ZWdvcnktcHJvZHVjdC1oZWFkaW5nIC53cmFwLXRpdGxlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuLy8gXHRcdGNvbnN0ICRoZWFkaW5nID0gJCh0aGlzKTtcbi8vIFx0XHRjb25zdCAkbWVudSA9ICRoZWFkaW5nLm5leHQoXCIubWVudS1saXN0XCIpO1xuLy8gXHRcdC8vIFRvZ2dsZSBjbGFzcyBhY3RpdmVcbi8vIFx0XHQkaGVhZGluZy50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcblxuLy8gXHRcdCRtZW51LnNsaWRlVG9nZ2xlKDMwMCk7XG4vLyBcdH0pO1xuXG4vLyBcdC8vIDJcdUZFMEZcdTIwRTMgVlx1MUVEQmkgbVx1MUVEN2kgbGkudGVybS1pdGVtIFx1MjE5MiB3cmFwIHZcdTAwRTAgdGhcdTAwRUFtIGljb24tYXJyb3dcbi8vIFx0JChcIi5jYXRlZ29yeS1wcm9kdWN0LWhlYWRpbmcgLm1lbnUtbGlzdCBsaS50ZXJtLWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4vLyBcdFx0Y29uc3QgJGxpID0gJCh0aGlzKTtcbi8vIFx0XHRjb25zdCAkbGluayA9ICRsaS5jaGlsZHJlbihcImFcIik7XG5cbi8vIFx0XHQvLyBjaFx1MUVDOSB3cmFwIDEgbFx1MUVBN24gblx1MUVCRnUgY2hcdTAxQjBhIGNcdTAwRjNcbi8vIFx0XHRpZiAoISRsaW5rLnBhcmVudCgpLmhhc0NsYXNzKFwibWVudS1pdGVtXCIpKSB7XG4vLyBcdFx0XHQkbGlua1xuLy8gXHRcdFx0XHQud3JhcCgnPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiPjwvZGl2PicpXG4vLyBcdFx0XHRcdC5wYXJlbnQoKVxuLy8gXHRcdFx0XHQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaWNvbi1hcnJvd1wiPjxpIGNsYXNzPVwiZmEtbGlnaHQgZmEtYW5nbGUtZG93blwiPjwvaT48L2Rpdj4nKTtcbi8vIFx0XHR9XG4vLyBcdH0pO1xuXG4vLyBcdC8vIDNcdUZFMEZcdTIwRTMgQ2xpY2sgaWNvbi1hcnJvdyBcdTIxOTIgdG9nZ2xlIHN1Yi1tZW51XG4vLyBcdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuaWNvbi1hcnJvd1wiLCBmdW5jdGlvbiAoZSkge1xuLy8gXHRcdGUucHJldmVudERlZmF1bHQoKTtcbi8vIFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4vLyBcdFx0Y29uc3QgJGljb24gPSAkKHRoaXMpO1xuLy8gXHRcdGNvbnN0ICRsaSA9ICRpY29uLmNsb3Nlc3QoXCJsaS50ZXJtLWl0ZW1cIik7XG4vLyBcdFx0Y29uc3QgJHN1Ym1lbnUgPSAkbGkuY2hpbGRyZW4oXCIuc3ViLW1lbnVcIik7XG5cbi8vIFx0XHQkc3VibWVudS5zbGlkZVRvZ2dsZSgzMDApO1xuLy8gXHRcdCRpY29uLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpOyAvLyBjXHUwMEYzIHRoXHUxRUMzIHhvYXkgaWNvbiBiXHUxRUIxbmcgQ1NTIG5cdTFFQkZ1IG11XHUxRUQxblxuLy8gXHR9KTtcbi8vIH1cblxuLy8gdG9nZ2xlIHNsaWRlIHZcdTFFREJpIFx1MUVBM25oIHRcdTAxQjBcdTAxQTFuZyBcdTFFRTluZ1xuLy8gZnVuY3Rpb24gaGFuZGxlQ2xpY2tDb250ZW50VG9JbWcoKSB7XG4vLyBcdCQoXCIuc2VjdGlvbi1hYm91dC00IC5pbWdcIikuaGlkZSgpO1xuLy8gXHQkKFwiLnNlY3Rpb24tYWJvdXQtNCAuaW1nW2RhdGEtaWQ9JzEnXVwiKS5zaG93KCk7XG5cbi8vIFx0Ly8gS2hpIGJcdTFFQTVtIHZcdTAwRTBvIGl0ZW0tdG9nZ2xlXG4vLyBcdCQoXCIuc2VjdGlvbi1hYm91dC00IC5pdGVtLXRvZ2dsZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRjb25zdCBpZCA9ICQodGhpcykuZGF0YShcImlkXCIpO1xuXG4vLyBcdFx0JChcIi5zZWN0aW9uLWFib3V0LTQgLmltZ1wiKS5oaWRlKCk7XG4vLyBcdFx0JChgLnNlY3Rpb24tYWJvdXQtNCAuaW1nW2RhdGEtaWQ9XCIke2lkfVwiXWApLmZhZGVJbigpO1xuLy8gXHR9KTtcbi8vIH1cblxuLy8gZnVuY3Rpb24gZ2V0SGVpZ2h0Q2hpbGQoKSB7XG4vLyBcdCQoXCIuaXRlbS12YXItaGVpZ2h0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuLy8gXHRcdGNvbnN0IGhlaWdodCA9ICQodGhpcykub3V0ZXJIZWlnaHQoKTtcbi8vIFx0XHQkKHRoaXMpXG4vLyBcdFx0XHQuY2xvc2VzdChcIi53cmFwLWl0ZW0taGVpZ2h0XCIpXG4vLyBcdFx0XHQuY3NzKFwiLS1oZWlnaHQtZWxlXCIsIGhlaWdodCArIFwicHhcIik7XG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiB3YXRjaE9ic2VydmVJbnB1dEZpbGUoKSB7XG4vLyBcdCQoJ2lucHV0W25hbWU9XCJmaWxlLWN2XCJdJykub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuLy8gXHRcdGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xuLy8gXHRcdGlmIChmaWxlKSB7XG4vLyBcdFx0XHRjb25zdCBmaWxlTmFtZSA9IGZpbGUubmFtZTtcbi8vIFx0XHRcdGNvbnN0IGZpbGVOYW1lRGlzcGxheSA9ICQoXCI8c3Bhbj5cIiwge1xuLy8gXHRcdFx0XHRjbGFzczogXCJmaWxlLW5hbWUgdGV4dC1zbSB0ZXh0LWJvZHktdGV4dC02NiBtdC0xIGJsb2NrXCIsXG4vLyBcdFx0XHRcdHRleHQ6IFwiRmlsZSBDVjogXCIgKyBmaWxlTmFtZSxcbi8vIFx0XHRcdH0pO1xuXG4vLyBcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuZm9ybS1pbnB1dC1maWxlXCIpLmZpbmQoXCIuZmlsZS1uYW1lXCIpLnJlbW92ZSgpO1xuXG4vLyBcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuZm9ybS1pbnB1dC1maWxlXCIpLmFwcGVuZChmaWxlTmFtZURpc3BsYXkpO1xuLy8gXHRcdH1cbi8vIFx0fSk7XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGluaXRIb21lM0hvdmVyKCkge1xuLy8gXHRjb25zdCAkaG9tZTMgPSAkKFwiLmhvbWUtM1wiKTtcbi8vIFx0aWYgKCEkaG9tZTMubGVuZ3RoKSByZXR1cm47XG5cbi8vIFx0Y29uc3QgJGxlZnRJdGVtcyA9ICRob21lMy5maW5kKFwiLmNvbC1sZWZ0IC5pbWdcIik7XG4vLyBcdGNvbnN0ICRyaWdodEltYWdlcyA9ICRob21lMy5maW5kKFwiLmNvbC1yaWdodCAud3JhcC1pdGVtLXRvZ2dsZS1pbWdcIik7XG5cbi8vIFx0Ly8gXHUxRUE4biB0XHUxRUE1dCBjXHUxRUEzIFx1MUVBM25oXG4vLyBcdCRsZWZ0SXRlbXMuaGlkZSgpO1xuLy8gXHQvLyBDaFx1MUVDOSBoaVx1MUVDN24gXHUxRUEzbmggXHUwMTExXHUxRUE3dSB0aVx1MDBFQW5cbi8vIFx0JGxlZnRJdGVtcy5maXJzdCgpLnNob3coKTtcbi8vIFx0JHJpZ2h0SW1hZ2VzLmZpcnN0KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cbi8vIFx0Ly8gSFx1MDBFMG0geFx1MUVFRCBsXHUwMEZEIHRoYXkgXHUwMTExXHUxRUQ1aSBcdTFFQTNuaFxuLy8gXHRmdW5jdGlvbiBoYW5kbGVJdGVtQ2hhbmdlKCRpdGVtKSB7XG4vLyBcdFx0Y29uc3QgaW5kZXggPSAkaXRlbS5pbmRleCgpO1xuXG4vLyBcdFx0Ly8gWFx1MDBGM2EgYWN0aXZlIGNcdTFFRTdhIHRcdTFFQTV0IGNcdTFFQTMgaXRlbXNcbi8vIFx0XHQkcmlnaHRJbWFnZXMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cbi8vIFx0XHQvLyBUaFx1MDBFQW0gYWN0aXZlIGNobyBpdGVtIGhpXHUxRUM3biB0XHUxRUExaVxuLy8gXHRcdCRpdGVtLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4vLyBcdFx0Ly8gXHUxRUE4biB0XHUxRUE1dCBjXHUxRUEzIFx1MUVBM25oXG4vLyBcdFx0JGxlZnRJdGVtcy5oaWRlKCk7XG5cbi8vIFx0XHQvLyBIaVx1MUVDM24gdGhcdTFFQ0IgXHUxRUEzbmggdFx1MDFCMFx1MDFBMW5nIFx1MUVFOW5nIGJcdTAwRUFuIHRyXHUwMEUxaVxuLy8gXHRcdCRsZWZ0SXRlbXMuZXEoaW5kZXgpLmZhZGVJbigzMDApO1xuLy8gXHR9XG5cbi8vIFx0Ly8gS2lcdTFFQzNtIHRyYSBrXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjIG1cdTAwRTBuIGhcdTAwRUNuaCB2XHUwMEUwIGdcdTAwRTFuIGV2ZW50IHBoXHUwMEY5IGhcdTFFRTNwXG4vLyBcdGZ1bmN0aW9uIHNldHVwRXZlbnRzKCkge1xuLy8gXHRcdC8vIFhcdTAwRjNhIHRcdTFFQTV0IGNcdTFFQTMgZXZlbnQgbGlzdGVuZXJzIGNcdTAxNjlcbi8vIFx0XHQkcmlnaHRJbWFnZXMub2ZmKFwibW91c2VlbnRlciBjbGlja1wiKTtcblxuLy8gXHRcdC8vIGlQYWQgUHJvIGJyZWFrcG9pbnQ6IDEwMjRweFxuLy8gXHRcdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHtcbi8vIFx0XHRcdC8vIERcdTAxQjBcdTFFREJpIGlQYWQgUHJvOiBzXHUxRUVEIGRcdTFFRTVuZyBjbGlja1xuLy8gXHRcdFx0JHJpZ2h0SW1hZ2VzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuLy8gXHRcdFx0XHRoYW5kbGVJdGVtQ2hhbmdlKCQodGhpcykpO1xuLy8gXHRcdFx0fSk7XG4vLyBcdFx0fSBlbHNlIHtcbi8vIFx0XHRcdC8vIFRcdTFFRUIgaVBhZCBQcm8gdHJcdTFFREYgbFx1MDBFQW46IHNcdTFFRUQgZFx1MUVFNW5nIGhvdmVyXG4vLyBcdFx0XHQkcmlnaHRJbWFnZXMub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRcdFx0aGFuZGxlSXRlbUNoYW5nZSgkKHRoaXMpKTtcbi8vIFx0XHRcdH0pO1xuLy8gXHRcdH1cbi8vIFx0fVxuXG4vLyBcdC8vIEtoXHUxRURGaSB0XHUxRUExbyBldmVudHNcbi8vIFx0c2V0dXBFdmVudHMoKTtcblxuLy8gXHQvLyBDXHUxRUFEcCBuaFx1MUVBRHQgZXZlbnRzIGtoaSByZXNpemUgbVx1MDBFMG4gaFx1MDBFQ25oXG4vLyBcdGxldCByZXNpemVUaW1lcjtcbi8vIFx0JCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuLy8gXHRcdHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4vLyBcdFx0XHRzZXR1cEV2ZW50cygpO1xuLy8gXHRcdH0sIDI1MCk7XG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiByZW1vdmVyQWxsQWN0aXZlRmllbGRPcCgpIHtcbi8vIFx0Y29uc3QgZmllbGRPcEl0ZW0gPSAkKFwiLnNlY3Rpb24tZmllbGQtb3AgLmZpZWxkLW9wIC5zd2lwZXItZmllbGQtb3AgLmZpZWxkLW9wLWl0ZW1cIik7XG4vLyBcdGNvbnN0IHNlY3Rpb25GaWVsZE9wID0gJChcIi5zZWN0aW9uLWZpZWxkLW9wXCIpO1xuXG4vLyBcdGZpZWxkT3BJdGVtLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoKSB7XG4vLyBcdFx0Y29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuLy8gXHRcdGNvbnN0ICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KFwiLnNlY3Rpb24tZmllbGQtb3BcIik7XG5cbi8vIFx0XHQvLyBSZW1vdmUgYWN0aXZlIHRcdTFFRUIgdFx1MUVBNXQgY1x1MUVBMyBpdGVtc1xuLy8gXHRcdCRwYXJlbnQuZmluZChcIi5maWVsZC1vcC1pdGVtXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuLy8gXHRcdCR0aGlzLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4vLyBcdFx0Ly8gTlx1MUVCRnUgbFx1MDBFMCBzZXJ2aWNlLWRldGFpbC00IHRoXHUwMEVDIHNsaWRlciBuaFx1MUVBM3kgXHUwMTExXHUxRUJGbiBzbGlkZSB0XHUwMUIwXHUwMUExbmcgXHUxRUU5bmdcbi8vIFx0XHRpZiAoJHBhcmVudC5oYXNDbGFzcyhcInNlcnZpY2UtZGV0YWlsLTRcIikpIHtcbi8vIFx0XHRcdGNvbnN0IHN3aXBlckVsID0gJHRoaXMuY2xvc2VzdChcIi5zd2lwZXItZmllbGQtb3BcIilbMF07XG4vLyBcdFx0XHRpZiAoc3dpcGVyRWw/LnN3aXBlcikge1xuLy8gXHRcdFx0XHRjb25zdCBzd2lwZXIgPSBzd2lwZXJFbC5zd2lwZXI7XG4vLyBcdFx0XHRcdGNvbnN0IGluZGV4ID0gJHRoaXMuaW5kZXgoKTtcbi8vIFx0XHRcdFx0c3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuXG4vLyBcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuLy8gXHRcdFx0XHRcdHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbi8vIFx0XHRcdFx0XHRzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuLy8gXHRcdFx0XHR9LCAwKTtcbi8vIFx0XHRcdH1cbi8vIFx0XHR9XG4vLyBcdH0pO1xuXG4vLyBcdC8vIE5cdTFFQkZ1IGtoXHUwMEY0bmcgcGhcdTFFQTNpIHNlcnZpY2UtZGV0YWlsLTQ6IGFjdGl2ZSBpdGVtIFx1MDExMVx1MUVBN3UgdGlcdTAwRUFuIG1cdTFFQjdjIFx1MDExMVx1MUVDQm5oXG4vLyBcdGlmICghc2VjdGlvbkZpZWxkT3AuaGFzQ2xhc3MoXCJzZXJ2aWNlLWRldGFpbC00XCIpKSB7XG4vLyBcdFx0ZmllbGRPcEl0ZW0uZmlyc3QoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbi8vIFx0fVxuLy8gfVxuXG4vKj09PT09PT09PT09PT09PT09PT09IEFvcyBJbml0ID09PT09PT09PT09PT09PT09PT09Ki9cbkFPUy5pbml0KHtcblx0b2Zmc2V0OiAxMDAsXG59KTtcbi8qPT09PT09PT09PT09PT09PT09PT0gTGF6eWxvYWQgSlMgPT09PT09PT09PT09PT09PT09PT0qL1xuY29uc3Qgb2JzZXJ2ZXIgPSBsb3phZCgpOyAvLyBsYXp5IGxvYWRzIGVsZW1lbnRzIHdpdGggZGVmYXVsdCBzZWxlY3RvciBhcyAnLmxvemFkJ1xub2JzZXJ2ZXIub2JzZXJ2ZSgpO1xud2luZG93LmxvemFkID0gb2JzZXJ2ZXI7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHNldEJhY2tncm91bmRFbGVtZW50KCkge1xuXHQkKFwiW3NldEJhY2tncm91bmRdXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdHZhciBiYWNrZ3JvdW5kID0gJCh0aGlzKS5hdHRyKFwic2V0QmFja2dyb3VuZFwiKTtcblx0XHQkKHRoaXMpLmNzcyh7XG5cdFx0XHRcImJhY2tncm91bmQtaW1hZ2VcIjogXCJ1cmwoXCIgKyBiYWNrZ3JvdW5kICsgXCIpXCIsXG5cdFx0XHRcImJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXG5cdFx0XHRcImJhY2tncm91bmQtcG9zaXRpb25cIjogXCJjZW50ZXIgY2VudGVyXCIsXG5cdFx0fSk7XG5cdH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tlckRhdGUoKSB7XG5cdCQoXCIuaW5wdXQtZGF0ZVwiKS5kYXRlcmFuZ2VwaWNrZXIoe1xuXHRcdHNpbmdsZURhdGVQaWNrZXI6IHRydWUsIC8vIENoXHUxRUM5IGNoXHUxRUNEbiAxIG5nXHUwMEUweVxuXHRcdHNob3dEcm9wZG93bnM6IHRydWUsIC8vIERyb3Bkb3duIGNoXHUxRUNEbiBuXHUwMTAzbS90aFx1MDBFMW5nXG5cdFx0YXV0b1VwZGF0ZUlucHV0OiBmYWxzZSwgLy8gS2hcdTAwRjRuZyB0XHUxRUYxIGdoaSBpbnB1dCwgeFx1MUVFRCBsXHUwMEZEIG1hbnVhbFxuXHRcdGxvY2FsZToge1xuXHRcdFx0Zm9ybWF0OiBcIkREL01NL1lZWVlcIixcblx0XHRcdGNhbmNlbExhYmVsOiBcIlhcdTAwRjNhXCIsXG5cdFx0XHRhcHBseUxhYmVsOiBcIkNoXHUxRUNEblwiLFxuXHRcdH0sXG5cdH0pO1xuXG5cdC8vIEtoaSBjaFx1MUVDRG4gbmdcdTAwRTB5LCB1cGRhdGUgdmFsdWUgaW5wdXRcblx0JChcIi5pbnB1dC1kYXRlXCIpLm9uKFwiYXBwbHkuZGF0ZXJhbmdlcGlja2VyXCIsIGZ1bmN0aW9uIChldiwgcGlja2VyKSB7XG5cdFx0JCh0aGlzKS52YWwocGlja2VyLnN0YXJ0RGF0ZS5mb3JtYXQoXCJERC9NTS9ZWVlZXCIpKTtcblx0fSk7XG5cblx0Ly8gS2hpIGNhbmNlbCwgeFx1MDBGM2EgdmFsdWVcblx0JChcIi5pbnB1dC1kYXRlXCIpLm9uKFwiY2FuY2VsLmRhdGVyYW5nZXBpY2tlclwiLCBmdW5jdGlvbiAoZXYsIHBpY2tlcikge1xuXHRcdCQodGhpcykudmFsKFwiXCIpO1xuXHR9KTtcblxuXHQkKGZ1bmN0aW9uICgpIHtcblx0XHQkKFwiI2RhdGVyYW5nZVwiKS5kYXRlcmFuZ2VwaWNrZXIoe1xuXHRcdFx0bG9jYWxlOiB7XG5cdFx0XHRcdGZvcm1hdDogXCJERC9NTS9ZWVlZXCIsXG5cdFx0XHR9LFxuXHRcdFx0c3RhcnREYXRlOiBtb21lbnQoKS5zdGFydE9mKFwibW9udGhcIiksXG5cdFx0XHRlbmREYXRlOiBtb21lbnQoKS5lbmRPZihcIm1vbnRoXCIpLFxuXHRcdH0pO1xuXHR9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDbG9zZUVsZW1lbnQoZWxlLCBlbGUyLCBmdW5jUmVtb3ZlKSB7XG5cdC8vIGNsb3NlXG5cdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRjb25zb2xlLmxvZygpO1xuXHRcdGlmICghJChlLnRhcmdldCkuY2xvc2VzdChlbGUpLmxlbmd0aCAmJiAhJChlLnRhcmdldCkuaGFzQ2xhc3MoZWxlMikpIHtcblx0XHRcdGZ1bmNSZW1vdmUoKTtcblx0XHR9XG5cdH0pO1xuXHQvLyBlc2Ncblx0JChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcblx0XHRcdGZ1bmNSZW1vdmUoKTtcblx0XHR9XG5cdH0pO1xuXHQvLyBvdmVybGF5LWJsdXJcbn1cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25Ub1RvcCgpIHtcblx0bGV0IHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0JChkb2N1bWVudCkub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuXHRcdGxldCBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdFx0bGV0IGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG5cdFx0aWYgKHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCA+IGRvY3VtZW50SGVpZ2h0IC0gd2luZG93SGVpZ2h0KSB7XG5cdFx0XHQkKFwiLmJ1dHRvbi10by10b3BcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoXCIuYnV0dG9uLXRvLXRvcFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHR9XG5cdH0pO1xuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmJ1dHRvbi10by10b3BcIiwgZnVuY3Rpb24gKCkge1xuXHRcdCQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSk7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlSXRlbSgpIHtcblx0Y29uc3Qgbm9kZVBhcmVudCA9ICQoXCIud3JhcC1pdGVtLXRvZ2dsZVwiKTtcblx0Y29uc3Qgbm9kZUl0ZW0gPSBub2RlUGFyZW50LmZpbmQoXCIuaXRlbS10b2dnbGVcIik7XG5cdGNvbnN0IG5vZGVUaXRsZSA9IG5vZGVJdGVtLmZpbmQoXCIudGl0bGVcIik7XG5cblx0Ly8gTVx1MUVCN2MgXHUwMTExXHUxRUNCbmggYWN0aXZlIGl0ZW0gXHUwMTExXHUxRUE3dSB0aVx1MDBFQW5cblx0aWYgKG5vZGVUaXRsZS5sZW5ndGggPiAwKSB7XG5cdFx0Y29uc3QgZmlyc3RUaXRsZSA9IG5vZGVUaXRsZS5maXJzdCgpO1xuXHRcdGNvbnN0IGZpcnN0Q29udGVudCA9IGZpcnN0VGl0bGUubmV4dCgpO1xuXHRcdGZpcnN0VGl0bGUuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0Zmlyc3RDb250ZW50LnNob3coKTtcblx0fVxuXG5cdG5vZGVUaXRsZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHQkKHRoaXMpXG5cdFx0XHQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIilcblx0XHRcdC5uZXh0KClcblx0XHRcdC5zbGlkZVRvZ2dsZSgpXG5cdFx0XHQuY2xvc2VzdChcIi5pdGVtLXRvZ2dsZVwiKVxuXHRcdFx0LnNpYmxpbmdzKClcblx0XHRcdC5maW5kKFwiLnRpdGxlXCIpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcblx0XHRcdC5uZXh0KClcblx0XHRcdC5zbGlkZVVwKCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW1cbiAqIEBwYXJhbSB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW19IGxpc3ROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmdW5jRXhwYW5kQ29udGVudChsaXN0Tm9kZSkge1xuXHRjb25zdCB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW0sIGdhcCA9IDAgfSA9IGxpc3ROb2RlO1xuXHRpZiAoISQocGFyZW50KS5sZW5ndGgpIHJldHVybjtcblx0bGV0IGl0ZW1IZWlnaHQgPSAkKGl0ZW0pLm91dGVySGVpZ2h0KCk7XG5cdGxldCBnYXBDYWxjdWxhdGUgPSBnYXBcblx0XHQ/IE51bWJlcigkKHBhcmVudCkuZmluZChjaGlsZHJlbikuY3NzKFwiY29sdW1uLWdhcFwiKS5zbGljZSgwLCAtMikpICogZ2FwXG5cdFx0OiAwO1xuXHRsZXQgaW5pdEhlaWdodCA9IGl0ZW1IZWlnaHQgKiBpbml0SXRlbSArIGdhcENhbGN1bGF0ZTtcblx0bGV0IG9yaWdpbmFsSGVpZ2h0ID0gJChwYXJlbnQpLmZpbmQoY2hpbGRyZW4pLm91dGVySGVpZ2h0KCk7XG5cdGlmIChvcmlnaW5hbEhlaWdodCA8IGluaXRIZWlnaHQpIHtcblx0XHQkKGJ1dHRvbikucmVtb3ZlKCk7XG5cdH0gZWxzZSB7XG5cdFx0JChwYXJlbnQpLmNzcyhcImhlaWdodFwiLCBpbml0SGVpZ2h0KTtcblx0fVxuXHQkKGJ1dHRvbikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJleHBhbmRcIikpIHtcblx0XHRcdCQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgaW5pdEhlaWdodCk7XG5cdFx0XHQkKHRoaXMpLmZpbmQoXCJzcGFuXCIpLnRleHQoXCJYZW0gdGhcdTAwRUFtXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIG9yaWdpbmFsSGVpZ2h0KTtcblx0XHRcdC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Ly8gXHQkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcblx0XHRcdC8vIH0sIDEwMDApO1xuXHRcdFx0JCh0aGlzKS5maW5kKFwic3BhblwiKS50ZXh0KFwiUlx1MDBGQXQgZ1x1MUVDRG5cIik7XG5cdFx0fVxuXHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoXCJleHBhbmRcIik7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTY3JvbGxUb0Rpdihub2RlRWxlLCBoZWlnaHRTcGFjaW5nID0gKCkgPT4ge30pIHtcblx0JChub2RlRWxlKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGxldCBoZWlnaHQgPSAwO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRpZiAoaGVpZ2h0U3BhY2luZykge1xuXHRcdFx0aGVpZ2h0ID0gaGVpZ2h0U3BhY2luZygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoZWlnaHQgPSAwO1xuXHRcdH1cblx0XHRpZiAodGhpcy5oYXNoICE9PSBcIlwiKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIGhhc2ggPSB0aGlzLmhhc2g7XG5cdFx0XHQkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiAkKGhhc2gpLm9mZnNldCgpLnRvcCAtIGhlaWdodCxcblx0XHRcdFx0fSxcblx0XHRcdFx0ODAwXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDYXB0Y2hhQVNQKCkge1xuXHRpZiAoISQoXCIjY3RsMDBfbWFpbkNvbnRlbnRfY3RsMDFfcG5sRm9ybVdpemFyZFwiKS5sZW5ndGgpIHJldHVybjtcblx0Ly8gU2VsZWN0IHRoZSBkaXYgZWxlbWVudCB5b3Ugd2FudCB0byBvYnNlcnZlXG5cdGNvbnN0IG15RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdGwwMF9tYWluQ29udGVudF9jdGwwMV9wbmxGb3JtV2l6YXJkXCIpO1xuXHQvLyBDcmVhdGUgYSBuZXcgTXV0YXRpb25PYnNlcnZlciBvYmplY3Rcblx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7XG5cdFx0bXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIlJ1blwiKTtcblx0XHRcdGFwcGVuZENhcHRjaGEoKTtcblx0XHR9KTtcblx0fSk7XG5cdC8vIENvbmZpZ3VyZSB0aGUgb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIHRvIHRoZSBcImNsYXNzXCIgYXR0cmlidXRlXG5cdGNvbnN0IGNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH07XG5cdC8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IGRpdiBlbGVtZW50XG5cdG9ic2VydmVyLm9ic2VydmUobXlEaXYsIGNvbmZpZyk7XG5cdGZ1bmN0aW9uIGFwcGVuZENhcHRjaGEoKSB7XG5cdFx0JChcIi5mb3JtLWdyb3VwLmZybS1jYXB0Y2hhXCIpLmFwcGVuZFRvKFwiLndyYXAtZm9ybS1zdWJtaXRcIik7XG5cdFx0JChcIi5mb3JtLWdyb3VwLmZybS1idG53cmFwXCIpLmFwcGVuZFRvKFwiLndyYXAtZm9ybS1zdWJtaXRcIik7XG5cdH1cblx0YXBwZW5kQ2FwdGNoYSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTdmdJbWFnZXMoKSB7XG5cdCQoXCIuaW1nLXN2Z1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRjb25zdCAkaW1nID0gJCh0aGlzKTtcblx0XHRjb25zdCBpbWdVUkwgPSAkaW1nLmF0dHIoXCJzcmNcIik7XG5cdFx0Y29uc3QgaW1nQ2xhc3MgPSAkaW1nLmF0dHIoXCJjbGFzc1wiKTtcblx0XHRjb25zdCBpbWdXaWR0aCA9ICRpbWcuYXR0cihcIndpZHRoXCIpO1xuXHRcdGNvbnN0IGltZ0hlaWdodCA9ICRpbWcuYXR0cihcImhlaWdodFwiKTtcblxuXHRcdCQuYWpheCh7XG5cdFx0XHR1cmw6IGltZ1VSTCxcblx0XHRcdGRhdGFUeXBlOiBcInRleHRcIixcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdmdDb250ZW50KSB7XG5cdFx0XHRcdC8vIENyZWF0ZSBhIG5ldyBkaXYgdG8gaG9sZCB0aGUgU1ZHIGNvbnRlbnRcblx0XHRcdFx0Y29uc3QgJHN2Z0RpdiA9ICQoXCI8ZGl2PlwiKS5odG1sKHN2Z0NvbnRlbnQpO1xuXHRcdFx0XHRjb25zdCAkc3ZnID0gJHN2Z0Rpdi5maW5kKFwic3ZnXCIpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IG9yaWdpbmFsIGltYWdlIGF0dHJpYnV0ZXMgdG8gU1ZHXG5cdFx0XHRcdGlmIChpbWdDbGFzcykge1xuXHRcdFx0XHRcdCRzdmcuYWRkQ2xhc3MoaW1nQ2xhc3MpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVwbGFjZSB0aGUgaW1hZ2Ugd2l0aCB0aGUgU1ZHXG5cdFx0XHRcdCRpbWcucmVwbGFjZVdpdGgoJHN2Zyk7XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgU1ZHOlwiLCBlcnJvcik7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbmRpY2F0b3JTbGlkZSgpIHtcblx0aWYgKCQoXCIuaW5kaWNhdG9yLXN3aXBlXCIpLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZW50cmllcykge1xuXHRcdFx0ZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuXHRcdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuXHRcdFx0XHRcdH0sIDMwMDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0dmFyIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcblx0XHR2YXIgYW5pbWF0aW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmluZGljYXRvci1zd2lwZVwiKTtcblx0XHRhbmltYXRpb25JdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKGl0ZW0pO1xuXHRcdH0pO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFVwSW5pdCgpIHtcblx0Y29uc3QgY291bnRVcEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb3VudHVwXCIpO1xuXG5cdGNvdW50VXBFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG5cdFx0Y29uc3QgdGFyZ2V0TnVtYmVyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW51bWJlclwiKTtcblx0XHRjb25zdCBzdWZmaXggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc3VmZml4XCIpIHx8IFwiXCI7XG5cdFx0Y29uc3QgY291bnRWYWx1ZUVsID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvdW50LXZhbHVlXCIpO1xuXG5cdFx0aWYgKCFjb3VudFZhbHVlRWwpIHJldHVybjtcblxuXHRcdGNvbnN0IGNvdW50VXAgPSBuZXcgQ291bnRVcChjb3VudFZhbHVlRWwsIHRhcmdldE51bWJlciwge1xuXHRcdFx0ZHVyYXRpb246IDQsXG5cdFx0XHRzZXBhcmF0b3I6IFwiLlwiLFxuXHRcdFx0ZGVjaW1hbDogXCIsXCIsXG5cdFx0XHRzdWZmaXg6IHN1ZmZpeCxcblx0XHRcdGVuYWJsZVNjcm9sbFNweTogdHJ1ZSxcblx0XHR9KTtcblxuXHRcdGlmICghY291bnRVcC5lcnJvcikge1xuXHRcdFx0Y291bnRVcC5zdGFydCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGNvdW50VXAuZXJyb3IpO1xuXHRcdH1cblx0fSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RpY2tFbGVtZW50VG9FZGdlKCkge1xuXHR2YXIgdGFyZ2V0ID0gJChcIltzdGljay10by1lZGdlXVwiKTtcblx0dGFyZ2V0LmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcblx0XHRjb25zdCBlZGdlUG9zaXRpb24gPSAkdGhpcy5hdHRyKFwiZWRnZS1wbGFjZW1lbnRcIikgPyBcImlubmVyXCIgOiBcInNjcmVlblwiO1xuXHRcdGNvbnN0IHBvc2l0aW9uID0gJHRoaXMuYXR0cihcInN0aWNrLXRvLWVkZ2VcIik7XG5cdFx0Y29uc3QgdW5zdGljayA9ICR0aGlzLmF0dHIoXCJ1bnN0aWNrLW1pblwiKSB8fCAxMjAwO1xuXHRcdGxldCBvZmZzZXQgPSAoJCh3aW5kb3cpLndpZHRoKCkgLSAkKFwiLmRlZmF1bHQtY29udGFpbmVyLWpzXCIpLndpZHRoKCkpIC8gMjtcblx0XHRpZiAoZWRnZVBvc2l0aW9uID09PSBcImlubmVyXCIpIHtcblx0XHRcdGlmICgkdGhpcy5jbG9zZXN0KFwiLmNvbnRhaW5lclwiKSAmJiAkdGhpcy5jbG9zZXN0KFwiLmNvbnRhaW5lclwiKS5jbG9zZXN0KFwiLmNvbnRhaW5lci1mbHVpZFwiKSkge1xuXHRcdFx0XHRjb25zdCBuZXdPZmZzZXQgPSBNYXRoLmFicyhcblx0XHRcdFx0XHQkKFwiLndpZGUtY29udGFpbmVyLWpzXCIpLm9mZnNldCgpLmxlZnQgLSAkKFwiLmRlZmF1bHQtY29udGFpbmVyLWpzXCIpLm9mZnNldCgpLmxlZnRcblx0XHRcdFx0KTtcblx0XHRcdFx0b2Zmc2V0ID0gbmV3T2Zmc2V0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocG9zaXRpb24gPT09IFwibGVmdFwiKSB7XG5cdFx0XHQkdGhpcy5jc3Moe1xuXHRcdFx0XHRcIm1hcmdpbi1sZWZ0XCI6IGAtJHtvZmZzZXR9cHhgLFxuXHRcdFx0XHRcIi0tbWxcIjogYCR7TWF0aC5hYnMob2Zmc2V0KX1gLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHQkdGhpcy5jc3Moe1xuXHRcdFx0XHRcIm1hcmdpbi1yaWdodFwiOiBgLSR7b2Zmc2V0fXB4YCxcblx0XHRcdFx0XCItLW1yXCI6IGAke01hdGguYWJzKG9mZnNldCl9YCxcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCB1bnN0aWNrKSB7XG5cdFx0XHQkdGhpcy5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG5cdFx0XHQkdGhpcy5jc3Moe1xuXHRcdFx0XHRcIi0tbWxcIjogXCIwXCIsXG5cdFx0XHRcdFwiLS1tclwiOiBcIjBcIixcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVudVNweSgpIHtcblx0dmFyIGVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWVudS1zcHlcIik7XG5cdGxldCBkZWJvdW5jZVRpbWVyO1xuXHRsZXQgaXNBY3RpdmUgPSBmYWxzZTtcblxuXHR2YXIgbXMgPSBuZXcgTWVudVNweShlbG0sIHtcblx0XHRhY3RpdmVDbGFzczogXCJhY3RpdmVcIixcblx0XHR0aHJlc2hvbGQ6IDMwMCxcblx0XHRjYWxsYmFjazogZnVuY3Rpb24gKGN1cnJlbnRJdGVtKSB7XG5cdFx0XHRjb25zdCBub2RlUGFyZW50ID0gJChcIi5zZWN0aW9uLXNjcm9sbFRvLWFjdGl2ZVwiKTtcblx0XHRcdGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVyKTtcblx0XHRcdGlzQWN0aXZlID0gdHJ1ZTtcblx0XHRcdGRlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JChub2RlUGFyZW50KS5zY3JvbGxUbyhcImxpLmFjdGl2ZVwiLCA4MDApO1xuXHRcdFx0XHRpc0FjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0fSwgMTAwMCk7XG5cdFx0fSxcblx0fSk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGhlYWRlclNlYXJjaCAoKSB7XG5cdGZ1bmN0aW9uIGNsb3NlU2VhcmNoICgpIHtcblx0XHQkKFwiLmhlYWRlci1zZWFyY2gtZm9ybVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHQkKFwiLmhlYWRlci1zZWFyY2hcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlXCIpO1xuXHR9XG5cdCQoXCIuaGVhZGVyLXNlYXJjaFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHQkKFwiLmhlYWRlci1zZWFyY2gtZm9ybVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImRpc2FibGVcIik7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHQkKFwiLmhlYWRlci1zZWFyY2gtZm9ybSAuc2VhcmNoaW5wdXRcIikuZm9jdXMoKTtcblx0XHR9LCA0MDApO1xuXHR9KTtcblx0JChcIi5oZWFkZXItc2VhcmNoLWZvcm0gLmNsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdGNsb3NlU2VhcmNoKCk7XG5cdH0pO1xuXHQkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuXHRcdFx0Y2xvc2VTZWFyY2goKTtcblx0XHR9XG5cdH0pO1xuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCQoXCIuaGVhZGVyLXNlYXJjaC1mb3JtXCIpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKSB7XG5cdFx0XHRpZiAoISQoZS50YXJnZXQpLmNsb3Nlc3QoXCIucHJvZHVjdHNlYXJjaGJveFwiKS5sZW5ndGggJiYgISQoZS50YXJnZXQpLmlzKCcuaGVhZGVyLXNlYXJjaCcpICYmICEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuaGVhZGVyLXNlYXJjaCcpLmxlbmd0aCkge1xuXHRcdFx0XHRjbG9zZVNlYXJjaCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG4iLCAiaW1wb3J0IHsgaGVhZGVyU2VhcmNoIH0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvQ29tcG9uZW50c1VpL0hlYWRlclNlYXJjaC9IZWFkZXJTZWFyY2hcIjtcbmltcG9ydCB7IGRldGVjdENsb3NlRWxlbWVudCB9IGZyb20gXCIuL2hlbHBlclwiO1xuLyo9PT09PT09PT09PT09PT09PT09PSBIZWFkZXIgPT09PT09PT09PT09PT09PT09PT0qL1xuLyoqXG4gKiBAcGFyYW0gaGVhZGVyXG4gKi9cbmNvbnN0IHZ3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG5leHBvcnQgY29uc3QgaGVhZGVyID0ge1xuXHRzY3JvbGxBY3RpdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblx0XHRsZXQgaGVpZ2h0ID0gJChcImhlYWRlclwiKS5oZWlnaHQoKTtcblxuXHRcdGlmICh3aWR0aCA8PSAxMTk5Ljk4KSB7XG5cdFx0XHQkKFwiaGVhZGVyXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdH0gZWxzZSBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gaGVpZ2h0KSB7XG5cdFx0XHQkKFwiaGVhZGVyXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKFwiaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdH1cblx0fSxcblx0bW9iaWxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0JChcIi5oZWFkZXItYmFyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0JCh0aGlzKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdCQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiaXNPcGVuTWVudVwiKTtcblx0XHRcdCQoXCIuaGVhZGVyLW92ZXJsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQoXCIuaGVhZGVyLWJhclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJpc09wZW5NZW51XCIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTE5OS45OHB4KVwiKS5tYXRjaGVzKSB7XG5cdFx0XHQkKFwiLmhlYWRlci1tZW51IC5oZWFkZXItbmF2IGxpW2NsYXNzKj0naGFzLWNoaWxkcmVuJ10+YVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JCh0aGlzKVxuXHRcdFx0XHRcdC53cmFwKCc8ZGl2IGNsYXNzPVwibWVudS1pdGVtXCI+PC9kaXY+Jylcblx0XHRcdFx0XHQucGFyZW50KClcblx0XHRcdFx0XHQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaWNvbi1hcnJvd1wiPjwvZGl2PicpO1xuXHRcdFx0fSk7XG5cdFx0XHQkKFwiLmhlYWRlci1tZW51IC5oZWFkZXItbmF2IGxpW2NsYXNzKj0naGFzLWNoaWxkcmVuJ10gLmljb24tYXJyb3dcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdChcImxpXCIpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCJsaVwiKS5maW5kKFwidWxcIikuc2xpZGVUb2dnbGUoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBjbGljayByYSBuZ29cdTAwRTBpIHRoXHUwMEVDIFx1MDExMVx1MDBGM25nIGNhcnQsIGNcdTAwRjMgYlx1MDBFMW4gaFx1MDBFMG5nIHRoXHUwMEVDIG1cdTFFREZcblx0XHQvLyAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0Ly8gXHQvLyBraVx1MUVDM20gdHJhIG5cdTFFQkZ1IGNsaWNrIGtoXHUwMEY0bmcgblx1MUVCMW0gdHJvbmcgaGVhZGVyLWNhcnQgdlx1MDBFMCBraFx1MDBGNG5nIG5cdTFFQjFtIHRyb25nIG1pbmktY2FydC13cmFwcGVyXG5cdFx0Ly8gXHRpZiAoXG5cdFx0Ly8gXHRcdCEkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmhlYWRlci1jYXJ0LCAubWluaS1jYXJ0LXdyYXBwZXJcIikubGVuZ3RoICYmXG5cdFx0Ly8gXHRcdCQoXCJib2R5XCIpLmhhc0NsYXNzKFwic2hvdy1jYXJ0XCIpXG5cdFx0Ly8gXHQpIHtcblx0XHQvLyBcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzaG93LWNhcnRcIik7XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfSk7XG5cdH0sXG5cdGluaXRWYXJpYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0ICRoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpO1xuXHRcdGlmICghJGhlYWRlcikgcmV0dXJuO1xuXG5cdFx0Ly8gSFx1MDBFMG0gY1x1MUVBRHAgbmhcdTFFQUR0IGNoaVx1MUVDMXUgY2FvIGhlYWRlclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUhlYWRlckhlaWdodCgpIHtcblx0XHRcdGNvbnN0IGhlaWdodCA9ICRoZWFkZXIub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1oZWFkZXItaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuXHRcdH1cblxuXHRcdC8vIENcdTFFQURwIG5oXHUxRUFEdCBiYW4gXHUwMTExXHUxRUE3dVxuXHRcdHVwZGF0ZUhlYWRlckhlaWdodCgpO1xuXG5cdFx0Ly8gVGhlbyBkXHUwMEY1aSBtXHUxRUNEaSB0aGF5IFx1MDExMVx1MUVENWkgY2hpXHUxRUMxdSBjYW8gY1x1MUVFN2EgaGVhZGVyXG5cdFx0Y29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlSGVhZGVySGVpZ2h0KTtcblx0XHRyby5vYnNlcnZlKCRoZWFkZXIpO1xuXG5cdFx0Ly8gUGhcdTAwRjJuZyB0clx1MDFCMFx1MUVERG5nIGhcdTFFRTNwIFx1MUVBM25oIGhvXHUxRUI3YyBmb250IGNoXHUwMUIwYSBsb2FkIHhvbmdcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuXHRcdFx0c2V0VGltZW91dCh1cGRhdGVIZWFkZXJIZWlnaHQsIDEwMCk7XG5cdFx0fSk7XG5cdH0sXG5cdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRoZWFkZXJTZWFyY2goKTtcblx0XHRoZWFkZXIuc2Nyb2xsQWN0aXZlKCk7XG5cdFx0aGVhZGVyLm1vYmlsZSgpO1xuXHRcdGhlYWRlci5pbml0VmFyaWFibGUoKTtcblx0fSxcbn07XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuXHRcInNjcm9sbFwiLFxuXHRmdW5jdGlvbiAoZSkge1xuXHRcdGhlYWRlci5zY3JvbGxBY3RpdmUoKTtcblx0fSxcblx0dHJ1ZVxuKTtcbiIsICIvKipcbiAqIFNTUiBXaW5kb3cgNC4wLjJcbiAqIEJldHRlciBoYW5kbGluZyBmb3Igd2luZG93IG9iamVjdCBpbiBTU1IgZW52aXJvbm1lbnRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2xpbWl0czR3ZWIvc3NyLXdpbmRvd1xuICpcbiAqIENvcHlyaWdodCAyMDIxLCBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICpcbiAqIFJlbGVhc2VkIG9uOiBEZWNlbWJlciAxMywgMjAyMVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzcmMpIHtcbiAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7XG4gICAgdGFyZ2V0ID0ge307XG4gIH1cbiAgaWYgKHNyYyA9PT0gdm9pZCAwKSB7XG4gICAgc3JjID0ge307XG4gIH1cbiAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHRhcmdldFtrZXldID0gc3JjW2tleV07ZWxzZSBpZiAoaXNPYmplY3Qoc3JjW2tleV0pICYmIGlzT2JqZWN0KHRhcmdldFtrZXldKSAmJiBPYmplY3Qua2V5cyhzcmNba2V5XSkubGVuZ3RoID4gMCkge1xuICAgICAgZXh0ZW5kKHRhcmdldFtrZXldLCBzcmNba2V5XSk7XG4gICAgfVxuICB9KTtcbn1cbmNvbnN0IHNzckRvY3VtZW50ID0ge1xuICBib2R5OiB7fSxcbiAgYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gIGFjdGl2ZUVsZW1lbnQ6IHtcbiAgICBibHVyKCkge30sXG4gICAgbm9kZU5hbWU6ICcnXG4gIH0sXG4gIHF1ZXJ5U2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHF1ZXJ5U2VsZWN0b3JBbGwoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9LFxuICBnZXRFbGVtZW50QnlJZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgY3JlYXRlRXZlbnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluaXRFdmVudCgpIHt9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICBzdHlsZToge30sXG4gICAgICBzZXRBdHRyaWJ1dGUoKSB7fSxcbiAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudE5TKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcbiAgaW1wb3J0Tm9kZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgbG9jYXRpb246IHtcbiAgICBoYXNoOiAnJyxcbiAgICBob3N0OiAnJyxcbiAgICBob3N0bmFtZTogJycsXG4gICAgaHJlZjogJycsXG4gICAgb3JpZ2luOiAnJyxcbiAgICBwYXRobmFtZTogJycsXG4gICAgcHJvdG9jb2w6ICcnLFxuICAgIHNlYXJjaDogJydcbiAgfVxufTtcbmZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICBjb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB7fTtcbiAgZXh0ZW5kKGRvYywgc3NyRG9jdW1lbnQpO1xuICByZXR1cm4gZG9jO1xufVxuY29uc3Qgc3NyV2luZG93ID0ge1xuICBkb2N1bWVudDogc3NyRG9jdW1lbnQsXG4gIG5hdmlnYXRvcjoge1xuICAgIHVzZXJBZ2VudDogJydcbiAgfSxcbiAgbG9jYXRpb246IHtcbiAgICBoYXNoOiAnJyxcbiAgICBob3N0OiAnJyxcbiAgICBob3N0bmFtZTogJycsXG4gICAgaHJlZjogJycsXG4gICAgb3JpZ2luOiAnJyxcbiAgICBwYXRobmFtZTogJycsXG4gICAgcHJvdG9jb2w6ICcnLFxuICAgIHNlYXJjaDogJydcbiAgfSxcbiAgaGlzdG9yeToge1xuICAgIHJlcGxhY2VTdGF0ZSgpIHt9LFxuICAgIHB1c2hTdGF0ZSgpIHt9LFxuICAgIGdvKCkge30sXG4gICAgYmFjaygpIHt9XG4gIH0sXG4gIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICByZW1vdmVFdmVudExpc3RlbmVyKCkge30sXG4gIGdldENvbXB1dGVkU3R5bGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFByb3BlcnR5VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBJbWFnZSgpIHt9LFxuICBEYXRlKCkge30sXG4gIHNjcmVlbjoge30sXG4gIHNldFRpbWVvdXQoKSB7fSxcbiAgY2xlYXJUaW1lb3V0KCkge30sXG4gIG1hdGNoTWVkaWEoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgfSxcbiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpIHtcbiAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChpZCk7XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRXaW5kb3coKSB7XG4gIGNvbnN0IHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4gIGV4dGVuZCh3aW4sIHNzcldpbmRvdyk7XG4gIHJldHVybiB3aW47XG59XG5cbmV4cG9ydCB7IGdldFdpbmRvdyBhcyBhLCBnZXREb2N1bWVudCBhcyBnIH07XG4iLCAiaW1wb3J0IHsgYSBhcyBnZXRXaW5kb3csIGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5cbmZ1bmN0aW9uIGNsYXNzZXNUb1Rva2VucyhjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gJyc7XG4gIH1cbiAgcmV0dXJuIGNsYXNzZXMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKGMgPT4gISFjLnRyaW0oKSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb3BzKG9iaikge1xuICBjb25zdCBvYmplY3QgPSBvYmo7XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChrZXkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBvYmplY3Rba2V5XSA9IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gbm8gZ2V0dGVyIGZvciBvYmplY3RcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBvYmplY3Rba2V5XTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzb21ldGhpbmcgZ290IHdyb25nXG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5leHRUaWNrKGNhbGxiYWNrLCBkZWxheSkge1xuICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgIGRlbGF5ID0gMDtcbiAgfVxuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xufVxuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBzdHlsZTtcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XG4gIH1cbiAgaWYgKCFzdHlsZSAmJiBlbC5jdXJyZW50U3R5bGUpIHtcbiAgICBzdHlsZSA9IGVsLmN1cnJlbnRTdHlsZTtcbiAgfVxuICBpZiAoIXN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5zdHlsZTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2xhdGUoZWwsIGF4aXMpIHtcbiAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgIGF4aXMgPSAneCc7XG4gIH1cbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBtYXRyaXg7XG4gIGxldCBjdXJUcmFuc2Zvcm07XG4gIGxldCB0cmFuc2Zvcm1NYXRyaXg7XG4gIGNvbnN0IGN1clN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSB7XG4gICAgY3VyVHJhbnNmb3JtID0gY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICBpZiAoY3VyVHJhbnNmb3JtLnNwbGl0KCcsJykubGVuZ3RoID4gNikge1xuICAgICAgY3VyVHJhbnNmb3JtID0gY3VyVHJhbnNmb3JtLnNwbGl0KCcsICcpLm1hcChhID0+IGEucmVwbGFjZSgnLCcsICcuJykpLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIC8vIFNvbWUgb2xkIHZlcnNpb25zIG9mIFdlYmtpdCBjaG9rZSB3aGVuICdub25lJyBpcyBwYXNzZWQ7IHBhc3NcbiAgICAvLyBlbXB0eSBzdHJpbmcgaW5zdGVhZCBpbiB0aGlzIGNhc2VcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChjdXJUcmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogY3VyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2Zvcm1NYXRyaXggPSBjdXJTdHlsZS5Nb3pUcmFuc2Zvcm0gfHwgY3VyU3R5bGUuT1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5Nc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS5tc1RyYW5zZm9ybSB8fCBjdXJTdHlsZS50cmFuc2Zvcm0gfHwgY3VyU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndHJhbnNmb3JtJykucmVwbGFjZSgndHJhbnNsYXRlKCcsICdtYXRyaXgoMSwgMCwgMCwgMSwnKTtcbiAgICBtYXRyaXggPSB0cmFuc2Zvcm1NYXRyaXgudG9TdHJpbmcoKS5zcGxpdCgnLCcpO1xuICB9XG4gIGlmIChheGlzID09PSAneCcpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQxO1xuICAgIC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEyXSk7XG4gICAgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs0XSk7XG4gIH1cbiAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgIC8vIExhdGVzdCBDaHJvbWUgYW5kIHdlYmtpdHMgRml4XG4gICAgaWYgKHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgpIGN1clRyYW5zZm9ybSA9IHRyYW5zZm9ybU1hdHJpeC5tNDI7XG4gICAgLy8gQ3JhenkgSUUxMCBNYXRyaXhcbiAgICBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID09PSAxNikgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbMTNdKTtcbiAgICAvLyBOb3JtYWwgQnJvd3NlcnNcbiAgICBlbHNlIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzVdKTtcbiAgfVxuICByZXR1cm4gY3VyVHJhbnNmb3JtIHx8IDA7XG59XG5mdW5jdGlvbiBpc09iamVjdChvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgbyAhPT0gbnVsbCAmJiBvLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnO1xufVxuZnVuY3Rpb24gaXNOb2RlKG5vZGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LkhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IDEgfHwgbm9kZS5ub2RlVHlwZSA9PT0gMTEpO1xufVxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICBjb25zdCB0byA9IE9iamVjdChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pO1xuICBjb25zdCBub0V4dGVuZCA9IFsnX19wcm90b19fJywgJ2NvbnN0cnVjdG9yJywgJ3Byb3RvdHlwZSddO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IG5leHRTb3VyY2UgPSBpIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGkgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbaV07XG4gICAgaWYgKG5leHRTb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBuZXh0U291cmNlICE9PSBudWxsICYmICFpc05vZGUobmV4dFNvdXJjZSkpIHtcbiAgICAgIGNvbnN0IGtleXNBcnJheSA9IE9iamVjdC5rZXlzKE9iamVjdChuZXh0U291cmNlKSkuZmlsdGVyKGtleSA9PiBub0V4dGVuZC5pbmRleE9mKGtleSkgPCAwKTtcbiAgICAgIGZvciAobGV0IG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4ICs9IDEpIHtcbiAgICAgICAgY29uc3QgbmV4dEtleSA9IGtleXNBcnJheVtuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0U291cmNlLCBuZXh0S2V5KTtcbiAgICAgICAgaWYgKGRlc2MgIT09IHVuZGVmaW5lZCAmJiBkZXNjLmVudW1lcmFibGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZVtuZXh0S2V5XS5fX3N3aXBlcl9fKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dGVuZCh0b1tuZXh0S2V5XSwgbmV4dFNvdXJjZVtuZXh0S2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghaXNPYmplY3QodG9bbmV4dEtleV0pICYmIGlzT2JqZWN0KG5leHRTb3VyY2VbbmV4dEtleV0pKSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IHt9O1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmZ1bmN0aW9uIHNldENTU1Byb3BlcnR5KGVsLCB2YXJOYW1lLCB2YXJWYWx1ZSkge1xuICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCB2YXJWYWx1ZSk7XG59XG5mdW5jdGlvbiBhbmltYXRlQ1NTTW9kZVNjcm9sbChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIHRhcmdldFBvc2l0aW9uLFxuICAgIHNpZGVcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBzdGFydFBvc2l0aW9uID0gLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBzdGFydFRpbWUgPSBudWxsO1xuICBsZXQgdGltZTtcbiAgY29uc3QgZHVyYXRpb24gPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJ25vbmUnO1xuICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3dpcGVyLmNzc01vZGVGcmFtZUlEKTtcbiAgY29uc3QgZGlyID0gdGFyZ2V0UG9zaXRpb24gPiBzdGFydFBvc2l0aW9uID8gJ25leHQnIDogJ3ByZXYnO1xuICBjb25zdCBpc091dE9mQm91bmQgPSAoY3VycmVudCwgdGFyZ2V0KSA9PiB7XG4gICAgcmV0dXJuIGRpciA9PT0gJ25leHQnICYmIGN1cnJlbnQgPj0gdGFyZ2V0IHx8IGRpciA9PT0gJ3ByZXYnICYmIGN1cnJlbnQgPD0gdGFyZ2V0O1xuICB9O1xuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSwgMCk7XG4gICAgY29uc3QgZWFzZVByb2dyZXNzID0gMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb24gKyBlYXNlUHJvZ3Jlc3MgKiAodGFyZ2V0UG9zaXRpb24gLSBzdGFydFBvc2l0aW9uKTtcbiAgICBpZiAoaXNPdXRPZkJvdW5kKGN1cnJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBjdXJyZW50UG9zaXRpb24gPSB0YXJnZXRQb3NpdGlvbjtcbiAgICB9XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgIH0pO1xuICAgIGlmIChpc091dE9mQm91bmQoY3VycmVudFBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbikpIHtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICAgIFtzaWRlXTogY3VycmVudFBvc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3dpcGVyLmNzc01vZGVGcmFtZUlEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpcGVyLmNzc01vZGVGcmFtZUlEID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgfTtcbiAgYW5pbWF0ZSgpO1xufVxuZnVuY3Rpb24gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSB7XG4gIHJldHVybiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgfHwgc2xpZGVFbC5zaGFkb3dSb290ICYmIHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpIHx8IHNsaWRlRWw7XG59XG5mdW5jdGlvbiBlbGVtZW50Q2hpbGRyZW4oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHtcbiAgICBzZWxlY3RvciA9ICcnO1xuICB9XG4gIHJldHVybiBbLi4uZWxlbWVudC5jaGlsZHJlbl0uZmlsdGVyKGVsID0+IGVsLm1hdGNoZXMoc2VsZWN0b3IpKTtcbn1cbmZ1bmN0aW9uIHNob3dXYXJuaW5nKHRleHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLndhcm4odGV4dCk7XG4gICAgcmV0dXJuO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBlcnJcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSBbXTtcbiAgfVxuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgZWwuY2xhc3NMaXN0LmFkZCguLi4oQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBjbGFzc2VzVG9Ub2tlbnMoY2xhc3NlcykpKTtcbiAgcmV0dXJuIGVsO1xufVxuZnVuY3Rpb24gZWxlbWVudE9mZnNldChlbCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IGNsaWVudFRvcCA9IGVsLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuICBjb25zdCBjbGllbnRMZWZ0ID0gZWwuY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgY29uc3Qgc2Nyb2xsVG9wID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxZIDogZWwuc2Nyb2xsVG9wO1xuICBjb25zdCBzY3JvbGxMZWZ0ID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxYIDogZWwuc2Nyb2xsTGVmdDtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGJveC50b3AgKyBzY3JvbGxUb3AgLSBjbGllbnRUb3AsXG4gICAgbGVmdDogYm94LmxlZnQgKyBzY3JvbGxMZWZ0IC0gY2xpZW50TGVmdFxuICB9O1xufVxuZnVuY3Rpb24gZWxlbWVudFByZXZBbGwoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHByZXZFbHMgPSBbXTtcbiAgd2hpbGUgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICBjb25zdCBwcmV2ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKHByZXYubWF0Y2hlcyhzZWxlY3RvcikpIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICB9IGVsc2UgcHJldkVscy5wdXNoKHByZXYpO1xuICAgIGVsID0gcHJldjtcbiAgfVxuICByZXR1cm4gcHJldkVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnROZXh0QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBuZXh0RWxzID0gW107XG4gIHdoaWxlIChlbC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBjb25zdCBuZXh0ID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAobmV4dC5tYXRjaGVzKHNlbGVjdG9yKSkgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIH0gZWxzZSBuZXh0RWxzLnB1c2gobmV4dCk7XG4gICAgZWwgPSBuZXh0O1xuICB9XG4gIHJldHVybiBuZXh0RWxzO1xufVxuZnVuY3Rpb24gZWxlbWVudFN0eWxlKGVsLCBwcm9wKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG59XG5mdW5jdGlvbiBlbGVtZW50SW5kZXgoZWwpIHtcbiAgbGV0IGNoaWxkID0gZWw7XG4gIGxldCBpO1xuICBpZiAoY2hpbGQpIHtcbiAgICBpID0gMDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB3aGlsZSAoKGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxKSBpICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBlbGVtZW50UGFyZW50cyhlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgcGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGxldCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwYXJlbnQubWF0Y2hlcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIHBhcmVudHM7XG59XG5mdW5jdGlvbiBlbGVtZW50VHJhbnNpdGlvbkVuZChlbCwgY2FsbGJhY2spIHtcbiAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IGVsKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbChlbCwgZSk7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnRPdXRlclNpemUoZWwsIHNpemUsIGluY2x1ZGVNYXJnaW5zKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICByZXR1cm4gZWxbc2l6ZSA9PT0gJ3dpZHRoJyA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J10gKyBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHNpemUgPT09ICd3aWR0aCcgPyAnbWFyZ2luLXJpZ2h0JyA6ICdtYXJnaW4tdG9wJykpICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1sZWZ0JyA6ICdtYXJnaW4tYm90dG9tJykpO1xuICB9XG4gIHJldHVybiBlbC5vZmZzZXRXaWR0aDtcbn1cblxuZXhwb3J0IHsgZWxlbWVudFBhcmVudHMgYXMgYSwgZWxlbWVudE9mZnNldCBhcyBiLCBjcmVhdGVFbGVtZW50IGFzIGMsIG5vdyBhcyBkLCBlbGVtZW50Q2hpbGRyZW4gYXMgZSwgZWxlbWVudE91dGVyU2l6ZSBhcyBmLCBlbGVtZW50SW5kZXggYXMgZywgY2xhc3Nlc1RvVG9rZW5zIGFzIGgsIGdldFRyYW5zbGF0ZSBhcyBpLCBlbGVtZW50VHJhbnNpdGlvbkVuZCBhcyBqLCBpc09iamVjdCBhcyBrLCBnZXRTbGlkZVRyYW5zZm9ybUVsIGFzIGwsIGVsZW1lbnRTdHlsZSBhcyBtLCBuZXh0VGljayBhcyBuLCBlbGVtZW50TmV4dEFsbCBhcyBvLCBlbGVtZW50UHJldkFsbCBhcyBwLCBhbmltYXRlQ1NTTW9kZVNjcm9sbCBhcyBxLCBzaG93V2FybmluZyBhcyByLCBzZXRDU1NQcm9wZXJ0eSBhcyBzLCBleHRlbmQgYXMgdCwgZGVsZXRlUHJvcHMgYXMgdSB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93LCBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgYSBhcyBlbGVtZW50UGFyZW50cywgbSBhcyBlbGVtZW50U3R5bGUsIGUgYXMgZWxlbWVudENoaWxkcmVuLCBzIGFzIHNldENTU1Byb3BlcnR5LCBmIGFzIGVsZW1lbnRPdXRlclNpemUsIG8gYXMgZWxlbWVudE5leHRBbGwsIHAgYXMgZWxlbWVudFByZXZBbGwsIGkgYXMgZ2V0VHJhbnNsYXRlLCBxIGFzIGFuaW1hdGVDU1NNb2RlU2Nyb2xsLCBuIGFzIG5leHRUaWNrLCByIGFzIHNob3dXYXJuaW5nLCBjIGFzIGNyZWF0ZUVsZW1lbnQsIGQgYXMgbm93LCB0IGFzIGV4dGVuZCwgZyBhcyBlbGVtZW50SW5kZXgsIHUgYXMgZGVsZXRlUHJvcHMgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmxldCBzdXBwb3J0O1xuZnVuY3Rpb24gY2FsY1N1cHBvcnQoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIHJldHVybiB7XG4gICAgc21vb3RoU2Nyb2xsOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmICdzY3JvbGxCZWhhdmlvcicgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgIHRvdWNoOiAhISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFN1cHBvcnQoKSB7XG4gIGlmICghc3VwcG9ydCkge1xuICAgIHN1cHBvcnQgPSBjYWxjU3VwcG9ydCgpO1xuICB9XG4gIHJldHVybiBzdXBwb3J0O1xufVxuXG5sZXQgZGV2aWNlQ2FjaGVkO1xuZnVuY3Rpb24gY2FsY0RldmljZShfdGVtcCkge1xuICBsZXQge1xuICAgIHVzZXJBZ2VudFxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG4gIGNvbnN0IHN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBwbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm07XG4gIGNvbnN0IHVhID0gdXNlckFnZW50IHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBjb25zdCBkZXZpY2UgPSB7XG4gICAgaW9zOiBmYWxzZSxcbiAgICBhbmRyb2lkOiBmYWxzZVxuICB9O1xuICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gIGNvbnN0IHNjcmVlbkhlaWdodCA9IHdpbmRvdy5zY3JlZW4uaGVpZ2h0O1xuICBjb25zdCBhbmRyb2lkID0gdWEubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGxldCBpcGFkID0gdWEubWF0Y2goLyhpUGFkKS4qT1NcXHMoW1xcZF9dKykvKTtcbiAgY29uc3QgaXBvZCA9IHVhLm1hdGNoKC8oaVBvZCkoLipPU1xccyhbXFxkX10rKSk/Lyk7XG4gIGNvbnN0IGlwaG9uZSA9ICFpcGFkICYmIHVhLm1hdGNoKC8oaVBob25lXFxzT1N8aU9TKVxccyhbXFxkX10rKS8pO1xuICBjb25zdCB3aW5kb3dzID0gcGxhdGZvcm0gPT09ICdXaW4zMic7XG4gIGxldCBtYWNvcyA9IHBsYXRmb3JtID09PSAnTWFjSW50ZWwnO1xuXG4gIC8vIGlQYWRPcyAxMyBmaXhcbiAgY29uc3QgaVBhZFNjcmVlbnMgPSBbJzEwMjR4MTM2NicsICcxMzY2eDEwMjQnLCAnODM0eDExOTQnLCAnMTE5NHg4MzQnLCAnODM0eDExMTInLCAnMTExMng4MzQnLCAnNzY4eDEwMjQnLCAnMTAyNHg3NjgnLCAnODIweDExODAnLCAnMTE4MHg4MjAnLCAnODEweDEwODAnLCAnMTA4MHg4MTAnXTtcbiAgaWYgKCFpcGFkICYmIG1hY29zICYmIHN1cHBvcnQudG91Y2ggJiYgaVBhZFNjcmVlbnMuaW5kZXhPZihgJHtzY3JlZW5XaWR0aH14JHtzY3JlZW5IZWlnaHR9YCkgPj0gMCkge1xuICAgIGlwYWQgPSB1YS5tYXRjaCgvKFZlcnNpb24pXFwvKFtcXGQuXSspLyk7XG4gICAgaWYgKCFpcGFkKSBpcGFkID0gWzAsIDEsICcxM18wXzAnXTtcbiAgICBtYWNvcyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQW5kcm9pZFxuICBpZiAoYW5kcm9pZCAmJiAhd2luZG93cykge1xuICAgIGRldmljZS5vcyA9ICdhbmRyb2lkJztcbiAgICBkZXZpY2UuYW5kcm9pZCA9IHRydWU7XG4gIH1cbiAgaWYgKGlwYWQgfHwgaXBob25lIHx8IGlwb2QpIHtcbiAgICBkZXZpY2Uub3MgPSAnaW9zJztcbiAgICBkZXZpY2UuaW9zID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEV4cG9ydCBvYmplY3RcbiAgcmV0dXJuIGRldmljZTtcbn1cbmZ1bmN0aW9uIGdldERldmljZShvdmVycmlkZXMpIHtcbiAgaWYgKG92ZXJyaWRlcyA9PT0gdm9pZCAwKSB7XG4gICAgb3ZlcnJpZGVzID0ge307XG4gIH1cbiAgaWYgKCFkZXZpY2VDYWNoZWQpIHtcbiAgICBkZXZpY2VDYWNoZWQgPSBjYWxjRGV2aWNlKG92ZXJyaWRlcyk7XG4gIH1cbiAgcmV0dXJuIGRldmljZUNhY2hlZDtcbn1cblxubGV0IGJyb3dzZXI7XG5mdW5jdGlvbiBjYWxjQnJvd3NlcigpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBuZWVkUGVyc3BlY3RpdmVGaXggPSBmYWxzZTtcbiAgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgY29uc3QgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB1YS5pbmRleE9mKCdzYWZhcmknKSA+PSAwICYmIHVhLmluZGV4T2YoJ2Nocm9tZScpIDwgMCAmJiB1YS5pbmRleE9mKCdhbmRyb2lkJykgPCAwO1xuICB9XG4gIGlmIChpc1NhZmFyaSgpKSB7XG4gICAgY29uc3QgdWEgPSBTdHJpbmcod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGlmICh1YS5pbmNsdWRlcygnVmVyc2lvbi8nKSkge1xuICAgICAgY29uc3QgW21ham9yLCBtaW5vcl0gPSB1YS5zcGxpdCgnVmVyc2lvbi8nKVsxXS5zcGxpdCgnICcpWzBdLnNwbGl0KCcuJykubWFwKG51bSA9PiBOdW1iZXIobnVtKSk7XG4gICAgICBuZWVkUGVyc3BlY3RpdmVGaXggPSBtYWpvciA8IDE2IHx8IG1ham9yID09PSAxNiAmJiBtaW5vciA8IDI7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgaXNTYWZhcmk6IG5lZWRQZXJzcGVjdGl2ZUZpeCB8fCBpc1NhZmFyaSgpLFxuICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCxcbiAgICBpc1dlYlZpZXc6IC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEJyb3dzZXIoKSB7XG4gIGlmICghYnJvd3Nlcikge1xuICAgIGJyb3dzZXIgPSBjYWxjQnJvd3NlcigpO1xuICB9XG4gIHJldHVybiBicm93c2VyO1xufVxuXG5mdW5jdGlvbiBSZXNpemUoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgbGV0IG9ic2VydmVyID0gbnVsbDtcbiAgbGV0IGFuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgY29uc3QgcmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICBlbWl0KCdiZWZvcmVSZXNpemUnKTtcbiAgICBlbWl0KCdyZXNpemUnKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlT2JzZXJ2ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBhbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH0gPSBzd2lwZXI7XG4gICAgICAgIGxldCBuZXdXaWR0aCA9IHdpZHRoO1xuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICBjb250ZW50Qm94U2l6ZSxcbiAgICAgICAgICAgIGNvbnRlbnRSZWN0LFxuICAgICAgICAgICAgdGFyZ2V0XG4gICAgICAgICAgfSA9IF9yZWYyO1xuICAgICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBzd2lwZXIuZWwpIHJldHVybjtcbiAgICAgICAgICBuZXdXaWR0aCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3Qud2lkdGggOiAoY29udGVudEJveFNpemVbMF0gfHwgY29udGVudEJveFNpemUpLmlubGluZVNpemU7XG4gICAgICAgICAgbmV3SGVpZ2h0ID0gY29udGVudFJlY3QgPyBjb250ZW50UmVjdC5oZWlnaHQgOiAoY29udGVudEJveFNpemVbMF0gfHwgY29udGVudEJveFNpemUpLmJsb2NrU2l6ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuZXdXaWR0aCAhPT0gd2lkdGggfHwgbmV3SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgICByZXNpemVIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUoc3dpcGVyLmVsKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlT2JzZXJ2ZXIgPSAoKSA9PiB7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIudW5vYnNlcnZlICYmIHN3aXBlci5lbCkge1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHN3aXBlci5lbCk7XG4gICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9O1xuICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnb3JpZW50YXRpb25jaGFuZ2UnKTtcbiAgfTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucmVzaXplT2JzZXJ2ZXIgJiYgdHlwZW9mIHdpbmRvdy5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNyZWF0ZU9ic2VydmVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgcmVtb3ZlT2JzZXJ2ZXIoKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIE9ic2VydmVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgYXR0YWNoID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgT2JzZXJ2ZXJGdW5jID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYmtpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXJGdW5jKG11dGF0aW9ucyA9PiB7XG4gICAgICAvLyBUaGUgb2JzZXJ2ZXJVcGRhdGUgZXZlbnQgc2hvdWxkIG9ubHkgYmUgdHJpZ2dlcmVkXG4gICAgICAvLyBvbmNlIGRlc3BpdGUgdGhlIG51bWJlciBvZiBtdXRhdGlvbnMuICBBZGRpdGlvbmFsXG4gICAgICAvLyB0cmlnZ2VycyBhcmUgcmVkdW5kYW50IGFuZCBhcmUgdmVyeSBjb3N0bHlcbiAgICAgIGlmIChzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXykgcmV0dXJuO1xuICAgICAgaWYgKG11dGF0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvYnNlcnZlclVwZGF0ZSA9IGZ1bmN0aW9uIG9ic2VydmVyVXBkYXRlKCkge1xuICAgICAgICBlbWl0KCdvYnNlcnZlclVwZGF0ZScsIG11dGF0aW9uc1swXSk7XG4gICAgICB9O1xuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShvYnNlcnZlclVwZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvYnNlcnZlclVwZGF0ZSwgMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuYXR0cmlidXRlcyxcbiAgICAgIGNoaWxkTGlzdDogdHlwZW9mIG9wdGlvbnMuY2hpbGRMaXN0ID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoaWxkTGlzdCxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHR5cGVvZiBvcHRpb25zLmNoYXJhY3RlckRhdGEgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IG9wdGlvbnMuY2hhcmFjdGVyRGF0YVxuICAgIH0pO1xuICAgIG9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgfTtcbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMub2JzZXJ2ZXIpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5vYnNlcnZlUGFyZW50cykge1xuICAgICAgY29uc3QgY29udGFpbmVyUGFyZW50cyA9IGVsZW1lbnRQYXJlbnRzKHN3aXBlci5ob3N0RWwpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXJQYXJlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGF0dGFjaChjb250YWluZXJQYXJlbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gT2JzZXJ2ZSBjb250YWluZXJcbiAgICBhdHRhY2goc3dpcGVyLmhvc3RFbCwge1xuICAgICAgY2hpbGRMaXN0OiBzd2lwZXIucGFyYW1zLm9ic2VydmVTbGlkZUNoaWxkcmVuXG4gICAgfSk7XG5cbiAgICAvLyBPYnNlcnZlIHdyYXBwZXJcbiAgICBhdHRhY2goc3dpcGVyLndyYXBwZXJFbCwge1xuICAgICAgYXR0cmlidXRlczogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICBvYnNlcnZlcnMuZm9yRWFjaChvYnNlcnZlciA9PiB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXJzLnNwbGljZSgwLCBvYnNlcnZlcnMubGVuZ3RoKTtcbiAgfTtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBvYnNlcnZlcjogZmFsc2UsXG4gICAgb2JzZXJ2ZVBhcmVudHM6IGZhbHNlLFxuICAgIG9ic2VydmVTbGlkZUNoaWxkcmVuOiBmYWxzZVxuICB9KTtcbiAgb24oJ2luaXQnLCBpbml0KTtcbiAgb24oJ2Rlc3Ryb3knLCBkZXN0cm95KTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cblxudmFyIGV2ZW50c0VtaXR0ZXIgPSB7XG4gIG9uKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IG1ldGhvZCA9IHByaW9yaXR5ID8gJ3Vuc2hpZnQnIDogJ3B1c2gnO1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdW21ldGhvZF0oaGFuZGxlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9uY2UoZXZlbnRzLCBoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgZnVuY3Rpb24gb25jZUhhbmRsZXIoKSB7XG4gICAgICBzZWxmLm9mZihldmVudHMsIG9uY2VIYW5kbGVyKTtcbiAgICAgIGlmIChvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSkge1xuICAgICAgICBkZWxldGUgb25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZXIuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuICAgIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5ID0gaGFuZGxlcjtcbiAgICByZXR1cm4gc2VsZi5vbihldmVudHMsIG9uY2VIYW5kbGVyLCBwcmlvcml0eSk7XG4gIH0sXG4gIG9uQW55KGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBpZiAoc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihoYW5kbGVyKSA8IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzW21ldGhvZF0oaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmZBbnkoaGFuZGxlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICghc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMpIHJldHVybiBzZWxmO1xuICAgIGNvbnN0IGluZGV4ID0gc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIG9mZihldmVudHMsIGhhbmRsZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaCgoZXZlbnRIYW5kbGVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudEhhbmRsZXIgPT09IGhhbmRsZXIgfHwgZXZlbnRIYW5kbGVyLl9fZW1pdHRlclByb3h5ICYmIGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9PT0gaGFuZGxlcikge1xuICAgICAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgZW1pdCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBsZXQgZXZlbnRzO1xuICAgIGxldCBkYXRhO1xuICAgIGxldCBjb250ZXh0O1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF07XG4gICAgICBkYXRhID0gYXJncy5zbGljZSgxLCBhcmdzLmxlbmd0aCk7XG4gICAgICBjb250ZXh0ID0gc2VsZjtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnRzID0gYXJnc1swXS5ldmVudHM7XG4gICAgICBkYXRhID0gYXJnc1swXS5kYXRhO1xuICAgICAgY29udGV4dCA9IGFyZ3NbMF0uY29udGV4dCB8fCBzZWxmO1xuICAgIH1cbiAgICBkYXRhLnVuc2hpZnQoY29udGV4dCk7XG4gICAgY29uc3QgZXZlbnRzQXJyYXkgPSBBcnJheS5pc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBldmVudHMuc3BsaXQoJyAnKTtcbiAgICBldmVudHNBcnJheS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmIChzZWxmLmV2ZW50c0FueUxpc3RlbmVycyAmJiBzZWxmLmV2ZW50c0FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMuZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBbZXZlbnQsIC4uLmRhdGFdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi5ldmVudHNMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKGV2ZW50SGFuZGxlciA9PiB7XG4gICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KGNvbnRleHQsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlU2l6ZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgbGV0IHdpZHRoO1xuICBsZXQgaGVpZ2h0O1xuICBjb25zdCBlbCA9IHN3aXBlci5lbDtcbiAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSAndW5kZWZpbmVkJyAmJiBzd2lwZXIucGFyYW1zLndpZHRoICE9PSBudWxsKSB7XG4gICAgd2lkdGggPSBzd2lwZXIucGFyYW1zLndpZHRoO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gZWwuY2xpZW50V2lkdGg7XG4gIH1cbiAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zLmhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09IG51bGwpIHtcbiAgICBoZWlnaHQgPSBzd2lwZXIucGFyYW1zLmhlaWdodDtcbiAgfSBlbHNlIHtcbiAgICBoZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQ7XG4gIH1cbiAgaWYgKHdpZHRoID09PSAwICYmIHN3aXBlci5pc0hvcml6b250YWwoKSB8fCBoZWlnaHQgPT09IDAgJiYgc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFN1YnRyYWN0IHBhZGRpbmdzXG4gIHdpZHRoID0gd2lkdGggLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLWxlZnQnKSB8fCAwLCAxMCkgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLXJpZ2h0JykgfHwgMCwgMTApO1xuICBoZWlnaHQgPSBoZWlnaHQgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLXRvcCcpIHx8IDAsIDEwKSAtIHBhcnNlSW50KGVsZW1lbnRTdHlsZShlbCwgJ3BhZGRpbmctYm90dG9tJykgfHwgMCwgMTApO1xuICBpZiAoTnVtYmVyLmlzTmFOKHdpZHRoKSkgd2lkdGggPSAwO1xuICBpZiAoTnVtYmVyLmlzTmFOKGhlaWdodCkpIGhlaWdodCA9IDA7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHNpemU6IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHdpZHRoIDogaGVpZ2h0XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGZ1bmN0aW9uIGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUobm9kZSwgbGFiZWwpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChub2RlLmdldFByb3BlcnR5VmFsdWUoc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKGxhYmVsKSkgfHwgMCk7XG4gIH1cbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3Qge1xuICAgIHdyYXBwZXJFbCxcbiAgICBzbGlkZXNFbCxcbiAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHdyb25nUlRMXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGNvbnN0IHByZXZpb3VzU2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgY29uc3Qgc2xpZGVzTGVuZ3RoID0gaXNWaXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHNsaWRlcy5sZW5ndGg7XG4gIGxldCBzbmFwR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNHcmlkID0gW107XG4gIGNvbnN0IHNsaWRlc1NpemVzR3JpZCA9IFtdO1xuICBsZXQgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZTtcbiAgaWYgKHR5cGVvZiBvZmZzZXRCZWZvcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvZmZzZXRCZWZvcmUgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlLmNhbGwoc3dpcGVyKTtcbiAgfVxuICBsZXQgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXI7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0QWZ0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvZmZzZXRBZnRlciA9IHBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlci5jYWxsKHN3aXBlcik7XG4gIH1cbiAgY29uc3QgcHJldmlvdXNTbmFwR3JpZExlbmd0aCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gIGNvbnN0IHByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCA9IHN3aXBlci5zbGlkZXNHcmlkLmxlbmd0aDtcbiAgbGV0IHNwYWNlQmV0d2VlbiA9IHBhcmFtcy5zcGFjZUJldHdlZW47XG4gIGxldCBzbGlkZVBvc2l0aW9uID0gLW9mZnNldEJlZm9yZTtcbiAgbGV0IHByZXZTbGlkZVNpemUgPSAwO1xuICBsZXQgaW5kZXggPSAwO1xuICBpZiAodHlwZW9mIHN3aXBlclNpemUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlclNpemU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbik7XG4gIH1cbiAgc3dpcGVyLnZpcnR1YWxTaXplID0gLXNwYWNlQmV0d2VlbjtcblxuICAvLyByZXNldCBtYXJnaW5zXG4gIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIGlmIChydGwpIHtcbiAgICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luTGVmdCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZUVsLnN0eWxlLm1hcmdpblJpZ2h0ID0gJyc7XG4gICAgfVxuICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luQm90dG9tID0gJyc7XG4gICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5Ub3AgPSAnJztcbiAgfSk7XG5cbiAgLy8gcmVzZXQgY3NzTW9kZSBvZmZzZXRzXG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgJycpO1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlcicsICcnKTtcbiAgfVxuICBjb25zdCBncmlkRW5hYmxlZCA9IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxICYmIHN3aXBlci5ncmlkO1xuICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBzd2lwZXIuZ3JpZC5pbml0U2xpZGVzKHNsaWRlcyk7XG4gIH0gZWxzZSBpZiAoc3dpcGVyLmdyaWQpIHtcbiAgICBzd2lwZXIuZ3JpZC51bnNldFNsaWRlcygpO1xuICB9XG5cbiAgLy8gQ2FsYyBzbGlkZXNcbiAgbGV0IHNsaWRlU2l6ZTtcbiAgY29uc3Qgc2hvdWxkUmVzZXRTbGlkZVNpemUgPSBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5icmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhwYXJhbXMuYnJlYWtwb2ludHMpLmZpbHRlcihrZXkgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgcGFyYW1zLmJyZWFrcG9pbnRzW2tleV0uc2xpZGVzUGVyVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0pLmxlbmd0aCA+IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzTGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZVNpemUgPSAwO1xuICAgIGxldCBzbGlkZTtcbiAgICBpZiAoc2xpZGVzW2ldKSBzbGlkZSA9IHNsaWRlc1tpXTtcbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5ncmlkLnVwZGF0ZVNsaWRlKGksIHNsaWRlLCBzbGlkZXMpO1xuICAgIH1cbiAgICBpZiAoc2xpZGVzW2ldICYmIGVsZW1lbnRTdHlsZShzbGlkZSwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgIGlmIChzaG91bGRSZXNldFNsaWRlU2l6ZSkge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGVbc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IGBgO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xpZGVTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHNsaWRlKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBzbGlkZS5zdHlsZS50cmFuc2Zvcm07XG4gICAgICBjb25zdCBjdXJyZW50V2ViS2l0VHJhbnNmb3JtID0gc2xpZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtO1xuICAgICAgaWYgKGN1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGUuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHtcbiAgICAgICAgc2xpZGVTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZWxlbWVudE91dGVyU2l6ZShzbGlkZSwgJ3dpZHRoJywgdHJ1ZSkgOiBlbGVtZW50T3V0ZXJTaXplKHNsaWRlLCAnaGVpZ2h0JywgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc3Qgd2lkdGggPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnd2lkdGgnKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IGdldERpcmVjdGlvblByb3BlcnR5VmFsdWUoc2xpZGVTdHlsZXMsICdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpbkxlZnQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLWxlZnQnKTtcbiAgICAgICAgY29uc3QgbWFyZ2luUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIGNvbnN0IGJveFNpemluZyA9IHNsaWRlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2JveC1zaXppbmcnKTtcbiAgICAgICAgaWYgKGJveFNpemluZyAmJiBib3hTaXppbmcgPT09ICdib3JkZXItYm94Jykge1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgbWFyZ2luTGVmdCArIG1hcmdpblJpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNsaWVudFdpZHRoLFxuICAgICAgICAgICAgb2Zmc2V0V2lkdGhcbiAgICAgICAgICB9ID0gc2xpZGU7XG4gICAgICAgICAgc2xpZGVTaXplID0gd2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodCArIChvZmZzZXRXaWR0aCAtIGNsaWVudFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgc2xpZGUuc3R5bGUudHJhbnNmb3JtID0gY3VycmVudFRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IGN1cnJlbnRXZWJLaXRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVTaXplID0gTWF0aC5mbG9vcihzbGlkZVNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZVNpemUgPSAoc3dpcGVyU2l6ZSAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyAtIDEpICogc3BhY2VCZXR3ZWVuKSAvIHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICAgIGlmIChzbGlkZXNbaV0pIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzbGlkZVNpemV9cHhgO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplID0gc2xpZGVTaXplO1xuICAgIH1cbiAgICBzbGlkZXNTaXplc0dyaWQucHVzaChzbGlkZVNpemUpO1xuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplIC8gMiArIHByZXZTbGlkZVNpemUgLyAyICsgc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKHByZXZTbGlkZVNpemUgPT09IDAgJiYgaSAhPT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChpID09PSAwKSBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiAtIHN3aXBlclNpemUgLyAyIC0gc3BhY2VCZXR3ZWVuO1xuICAgICAgaWYgKE1hdGguYWJzKHNsaWRlUG9zaXRpb24pIDwgMSAvIDEwMDApIHNsaWRlUG9zaXRpb24gPSAwO1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKGluZGV4ICUgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVQb3NpdGlvbiA9IE1hdGguZmxvb3Ioc2xpZGVQb3NpdGlvbik7XG4gICAgICBpZiAoKGluZGV4IC0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGluZGV4KSkgJSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwKSBzbmFwR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlUG9zaXRpb24pO1xuICAgICAgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gKyBzbGlkZVNpemUgKyBzcGFjZUJldHdlZW47XG4gICAgfVxuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSArPSBzbGlkZVNpemUgKyBzcGFjZUJldHdlZW47XG4gICAgcHJldlNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICBpbmRleCArPSAxO1xuICB9XG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGgubWF4KHN3aXBlci52aXJ0dWFsU2l6ZSwgc3dpcGVyU2l6ZSkgKyBvZmZzZXRBZnRlcjtcbiAgaWYgKHJ0bCAmJiB3cm9uZ1JUTCAmJiAocGFyYW1zLmVmZmVjdCA9PT0gJ3NsaWRlJyB8fCBwYXJhbXMuZWZmZWN0ID09PSAnY292ZXJmbG93JykpIHtcbiAgICB3cmFwcGVyRWwuc3R5bGUud2lkdGggPSBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBzcGFjZUJldHdlZW59cHhgO1xuICB9XG4gIGlmIChwYXJhbXMuc2V0V3JhcHBlclNpemUpIHtcbiAgICB3cmFwcGVyRWwuc3R5bGVbc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKCd3aWR0aCcpXSA9IGAke3N3aXBlci52aXJ0dWFsU2l6ZSArIHNwYWNlQmV0d2Vlbn1weGA7XG4gIH1cbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQudXBkYXRlV3JhcHBlclNpemUoc2xpZGVTaXplLCBzbmFwR3JpZCk7XG4gIH1cblxuICAvLyBSZW1vdmUgbGFzdCBncmlkIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB3aWR0aFxuICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgIGNvbnN0IG5ld1NsaWRlc0dyaWQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYXBHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgc2xpZGVzR3JpZEl0ZW0gPSBzbmFwR3JpZFtpXTtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgaWYgKHNuYXBHcmlkW2ldIDw9IHN3aXBlci52aXJ0dWFsU2l6ZSAtIHN3aXBlclNpemUpIHtcbiAgICAgICAgbmV3U2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc25hcEdyaWQgPSBuZXdTbGlkZXNHcmlkO1xuICAgIGlmIChNYXRoLmZsb29yKHN3aXBlci52aXJ0dWFsU2l6ZSAtIHN3aXBlclNpemUpIC0gTWF0aC5mbG9vcihzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSkgPiAxKSB7XG4gICAgICBzbmFwR3JpZC5wdXNoKHN3aXBlci52aXJ0dWFsU2l6ZSAtIHN3aXBlclNpemUpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHNsaWRlc1NpemVzR3JpZFswXSArIHNwYWNlQmV0d2VlbjtcbiAgICBpZiAocGFyYW1zLnNsaWRlc1Blckdyb3VwID4gMSkge1xuICAgICAgY29uc3QgZ3JvdXBzID0gTWF0aC5jZWlsKChzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUgKyBzd2lwZXIudmlydHVhbC5zbGlkZXNBZnRlcikgLyBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICAgICAgY29uc3QgZ3JvdXBTaXplID0gc2l6ZSAqIHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzOyBpICs9IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSArIGdyb3VwU2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQWZ0ZXI7IGkgKz0gMSkge1xuICAgICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSkge1xuICAgICAgICBzbmFwR3JpZC5wdXNoKHNuYXBHcmlkW3NuYXBHcmlkLmxlbmd0aCAtIDFdICsgc2l6ZSk7XG4gICAgICB9XG4gICAgICBzbGlkZXNHcmlkLnB1c2goc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDFdICsgc2l6ZSk7XG4gICAgICBzd2lwZXIudmlydHVhbFNpemUgKz0gc2l6ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCA9PT0gMCkgc25hcEdyaWQgPSBbMF07XG4gIGlmIChzcGFjZUJldHdlZW4gIT09IDApIHtcbiAgICBjb25zdCBrZXkgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgcnRsID8gJ21hcmdpbkxlZnQnIDogc3dpcGVyLmdldERpcmVjdGlvbkxhYmVsKCdtYXJnaW5SaWdodCcpO1xuICAgIHNsaWRlcy5maWx0ZXIoKF8sIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgIGlmICghcGFyYW1zLmNzc01vZGUgfHwgcGFyYW1zLmxvb3ApIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHNsaWRlSW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBzbGlkZUVsLnN0eWxlW2tleV0gPSBgJHtzcGFjZUJldHdlZW59cHhgO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzQm91bmRzKSB7XG4gICAgbGV0IGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKHNsaWRlU2l6ZVZhbHVlID0+IHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAoc3BhY2VCZXR3ZWVuIHx8IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gc3BhY2VCZXR3ZWVuO1xuICAgIGNvbnN0IG1heFNuYXAgPSBhbGxTbGlkZXNTaXplIC0gc3dpcGVyU2l6ZTtcbiAgICBzbmFwR3JpZCA9IHNuYXBHcmlkLm1hcChzbmFwID0+IHtcbiAgICAgIGlmIChzbmFwIDw9IDApIHJldHVybiAtb2Zmc2V0QmVmb3JlO1xuICAgICAgaWYgKHNuYXAgPiBtYXhTbmFwKSByZXR1cm4gbWF4U25hcCArIG9mZnNldEFmdGVyO1xuICAgICAgcmV0dXJuIHNuYXA7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXMpIHtcbiAgICBsZXQgYWxsU2xpZGVzU2l6ZSA9IDA7XG4gICAgc2xpZGVzU2l6ZXNHcmlkLmZvckVhY2goc2xpZGVTaXplVmFsdWUgPT4ge1xuICAgICAgYWxsU2xpZGVzU2l6ZSArPSBzbGlkZVNpemVWYWx1ZSArIChzcGFjZUJldHdlZW4gfHwgMCk7XG4gICAgfSk7XG4gICAgYWxsU2xpZGVzU2l6ZSAtPSBzcGFjZUJldHdlZW47XG4gICAgaWYgKGFsbFNsaWRlc1NpemUgPCBzd2lwZXJTaXplKSB7XG4gICAgICBjb25zdCBhbGxTbGlkZXNPZmZzZXQgPSAoc3dpcGVyU2l6ZSAtIGFsbFNsaWRlc1NpemUpIC8gMjtcbiAgICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbmFwR3JpZFtzbmFwSW5kZXhdID0gc25hcCAtIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgICAgc2xpZGVzR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgICAgc2xpZGVzR3JpZFtzbmFwSW5kZXhdID0gc25hcCArIGFsbFNsaWRlc09mZnNldDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHNsaWRlcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHNsaWRlc1NpemVzR3JpZFxuICB9KTtcbiAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBwYXJhbXMuY3NzTW9kZSAmJiAhcGFyYW1zLmNlbnRlcmVkU2xpZGVzQm91bmRzKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsIGAkey1zbmFwR3JpZFswXX1weGApO1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1hZnRlcicsIGAke3N3aXBlci5zaXplIC8gMiAtIHNsaWRlc1NpemVzR3JpZFtzbGlkZXNTaXplc0dyaWQubGVuZ3RoIC0gMV0gLyAyfXB4YCk7XG4gICAgY29uc3QgYWRkVG9TbmFwR3JpZCA9IC1zd2lwZXIuc25hcEdyaWRbMF07XG4gICAgY29uc3QgYWRkVG9TbGlkZXNHcmlkID0gLXN3aXBlci5zbGlkZXNHcmlkWzBdO1xuICAgIHN3aXBlci5zbmFwR3JpZCA9IHN3aXBlci5zbmFwR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbmFwR3JpZCk7XG4gICAgc3dpcGVyLnNsaWRlc0dyaWQgPSBzd2lwZXIuc2xpZGVzR3JpZC5tYXAodiA9PiB2ICsgYWRkVG9TbGlkZXNHcmlkKTtcbiAgfVxuICBpZiAoc2xpZGVzTGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0xlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAoc25hcEdyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NuYXBHcmlkTGVuZ3RoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdykgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICBzd2lwZXIuZW1pdCgnc25hcEdyaWRMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAoc2xpZGVzR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCkge1xuICAgIHN3aXBlci5lbWl0KCdzbGlkZXNHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzbGlkZXNVcGRhdGVkJyk7XG4gIGlmICghaXNWaXJ0dWFsICYmICFwYXJhbXMuY3NzTW9kZSAmJiAocGFyYW1zLmVmZmVjdCA9PT0gJ3NsaWRlJyB8fCBwYXJhbXMuZWZmZWN0ID09PSAnZmFkZScpKSB7XG4gICAgY29uc3QgYmFja0ZhY2VIaWRkZW5DbGFzcyA9IGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWJhY2tmYWNlLWhpZGRlbmA7XG4gICAgY29uc3QgaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQgPSBzd2lwZXIuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIGlmIChzbGlkZXNMZW5ndGggPD0gcGFyYW1zLm1heEJhY2tmYWNlSGlkZGVuU2xpZGVzKSB7XG4gICAgICBpZiAoIWhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkKSBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkKSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQXV0b0hlaWdodChzcGVlZCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBhY3RpdmVTbGlkZXMgPSBbXTtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGxldCBuZXdIZWlnaHQgPSAwO1xuICBsZXQgaTtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ251bWJlcicpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIH0gZWxzZSBpZiAoc3BlZWQgPT09IHRydWUpIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzd2lwZXIucGFyYW1zLnNwZWVkKTtcbiAgfVxuICBjb25zdCBnZXRTbGlkZUJ5SW5kZXggPSBpbmRleCA9PiB7XG4gICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgcmV0dXJuIHN3aXBlci5zbGlkZXNbc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoaW5kZXgpXTtcbiAgICB9XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZXNbaW5kZXhdO1xuICB9O1xuICAvLyBGaW5kIHNsaWRlcyBjdXJyZW50bHkgaW4gdmlld1xuICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAoc3dpcGVyLnZpc2libGVTbGlkZXMgfHwgW10pLmZvckVhY2goc2xpZGUgPT4ge1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggKyBpO1xuICAgICAgICBpZiAoaW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAmJiAhaXNWaXJ0dWFsKSBicmVhaztcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KGluZGV4KSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChzd2lwZXIuYWN0aXZlSW5kZXgpKTtcbiAgfVxuXG4gIC8vIEZpbmQgbmV3IGhlaWdodCBmcm9tIGhpZ2hlc3Qgc2xpZGUgaW4gdmlld1xuICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlU2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZXNbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBhY3RpdmVTbGlkZXNbaV0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgbmV3SGVpZ2h0ID0gaGVpZ2h0ID4gbmV3SGVpZ2h0ID8gaGVpZ2h0IDogbmV3SGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBIZWlnaHRcbiAgaWYgKG5ld0hlaWdodCB8fCBuZXdIZWlnaHQgPT09IDApIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuaGVpZ2h0ID0gYCR7bmV3SGVpZ2h0fXB4YDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzT2Zmc2V0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBzbGlkZXMgPSBzd2lwZXIuc2xpZGVzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3QgbWludXNPZmZzZXQgPSBzd2lwZXIuaXNFbGVtZW50ID8gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc3dpcGVyLndyYXBwZXJFbC5vZmZzZXRMZWZ0IDogc3dpcGVyLndyYXBwZXJFbC5vZmZzZXRUb3AgOiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHNsaWRlc1tpXS5zd2lwZXJTbGlkZU9mZnNldCA9IChzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZXNbaV0ub2Zmc2V0TGVmdCA6IHNsaWRlc1tpXS5vZmZzZXRUb3ApIC0gbWludXNPZmZzZXQgLSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IHRoaXMgJiYgdGhpcy50cmFuc2xhdGUgfHwgMDtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB7XG4gICAgc2xpZGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNuYXBHcmlkXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChzbGlkZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGlmICh0eXBlb2Ygc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0ID09PSAndW5kZWZpbmVkJykgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICBsZXQgb2Zmc2V0Q2VudGVyID0gLXRyYW5zbGF0ZTtcbiAgaWYgKHJ0bCkgb2Zmc2V0Q2VudGVyID0gdHJhbnNsYXRlO1xuXG4gIC8vIFZpc2libGUgU2xpZGVzXG4gIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzKTtcbiAgfSk7XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9IFtdO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyLnNpemU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbik7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tpXTtcbiAgICBsZXQgc2xpZGVPZmZzZXQgPSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICBpZiAocGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZU9mZnNldCAtPSBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgfVxuICAgIGNvbnN0IHNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgb3JpZ2luYWxTbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciAtIHNuYXBHcmlkWzBdICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgc2xpZGVCZWZvcmUgPSAtKG9mZnNldENlbnRlciAtIHNsaWRlT2Zmc2V0KTtcbiAgICBjb25zdCBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzRnVsbHlWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8PSBzd2lwZXIuc2l6ZSAtIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbaV07XG4gICAgY29uc3QgaXNWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8IHN3aXBlci5zaXplIC0gMSB8fCBzbGlkZUFmdGVyID4gMSAmJiBzbGlkZUFmdGVyIDw9IHN3aXBlci5zaXplIHx8IHNsaWRlQmVmb3JlIDw9IDAgJiYgc2xpZGVBZnRlciA+PSBzd2lwZXIuc2l6ZTtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgc2xpZGVzW2ldLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzRnVsbHlWaXNpYmxlKSB7XG4gICAgICBzbGlkZXNbaV0uY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVGdWxseVZpc2libGVDbGFzcyk7XG4gICAgfVxuICAgIHNsaWRlLnByb2dyZXNzID0gcnRsID8gLXNsaWRlUHJvZ3Jlc3MgOiBzbGlkZVByb2dyZXNzO1xuICAgIHNsaWRlLm9yaWdpbmFsUHJvZ3Jlc3MgPSBydGwgPyAtb3JpZ2luYWxTbGlkZVByb2dyZXNzIDogb3JpZ2luYWxTbGlkZVByb2dyZXNzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBsZXQge1xuICAgIHByb2dyZXNzLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kLFxuICAgIHByb2dyZXNzTG9vcFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCB3YXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZztcbiAgY29uc3Qgd2FzRW5kID0gaXNFbmQ7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIHByb2dyZXNzID0gMDtcbiAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgaXNFbmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICBjb25zdCBpc0JlZ2lubmluZ1JvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIDwgMTtcbiAgICBjb25zdCBpc0VuZFJvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIDwgMTtcbiAgICBpc0JlZ2lubmluZyA9IGlzQmVnaW5uaW5nUm91bmRlZCB8fCBwcm9ncmVzcyA8PSAwO1xuICAgIGlzRW5kID0gaXNFbmRSb3VuZGVkIHx8IHByb2dyZXNzID49IDE7XG4gICAgaWYgKGlzQmVnaW5uaW5nUm91bmRlZCkgcHJvZ3Jlc3MgPSAwO1xuICAgIGlmIChpc0VuZFJvdW5kZWQpIHByb2dyZXNzID0gMTtcbiAgfVxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YSgwKTtcbiAgICBjb25zdCBsYXN0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgZmlyc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2ZpcnN0U2xpZGVJbmRleF07XG4gICAgY29uc3QgbGFzdFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZU1heCA9IHN3aXBlci5zbGlkZXNHcmlkW3N3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUFicyA9IE1hdGguYWJzKHRyYW5zbGF0ZSk7XG4gICAgaWYgKHRyYW5zbGF0ZUFicyA+PSBmaXJzdFNsaWRlVHJhbnNsYXRlKSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzIC0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkgLyB0cmFuc2xhdGVNYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzTG9vcCA9ICh0cmFuc2xhdGVBYnMgKyB0cmFuc2xhdGVNYXggLSBsYXN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3NMb29wID4gMSkgcHJvZ3Jlc3NMb29wIC09IDE7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcm9ncmVzcyxcbiAgICBwcm9ncmVzc0xvb3AsXG4gICAgaXNCZWdpbm5pbmcsXG4gICAgaXNFbmRcbiAgfSk7XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHN3aXBlci51cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBpZiAoaXNCZWdpbm5pbmcgJiYgIXdhc0JlZ2lubmluZykge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEJlZ2lubmluZyB0b0VkZ2UnKTtcbiAgfVxuICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEVuZCB0b0VkZ2UnKTtcbiAgfVxuICBpZiAod2FzQmVnaW5uaW5nICYmICFpc0JlZ2lubmluZyB8fCB3YXNFbmQgJiYgIWlzRW5kKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2Zyb21FZGdlJyk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3Byb2dyZXNzJywgcHJvZ3Jlc3MpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgc2xpZGVzLFxuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbCxcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBjb25zdCBnZXRGaWx0ZXJlZFNsaWRlID0gc2VsZWN0b3IgPT4ge1xuICAgIHJldHVybiBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30ke3NlbGVjdG9yfSwgc3dpcGVyLXNsaWRlJHtzZWxlY3Rvcn1gKVswXTtcbiAgfTtcbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzLCBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gIH0pO1xuICBsZXQgYWN0aXZlU2xpZGU7XG4gIGxldCBwcmV2U2xpZGU7XG4gIGxldCBuZXh0U2xpZGU7XG4gIGlmIChpc1ZpcnR1YWwpIHtcbiAgICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICAgIGxldCBzbGlkZUluZGV4ID0gYWN0aXZlSW5kZXggLSBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgICBpZiAoc2xpZGVJbmRleCA8IDApIHNsaWRlSW5kZXggPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgc2xpZGVJbmRleDtcbiAgICAgIGlmIChzbGlkZUluZGV4ID49IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgpIHNsaWRlSW5kZXggLT0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDtcbiAgICAgIGFjdGl2ZVNsaWRlID0gZ2V0RmlsdGVyZWRTbGlkZShgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzbGlkZUluZGV4fVwiXWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IGdldEZpbHRlcmVkU2xpZGUoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7YWN0aXZlSW5kZXh9XCJdYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4KVswXTtcbiAgICAgIG5leHRTbGlkZSA9IHNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXggKyAxKVswXTtcbiAgICAgIHByZXZTbGlkZSA9IHNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXggLSAxKVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdO1xuICAgIH1cbiAgfVxuICBpZiAoYWN0aXZlU2xpZGUpIHtcbiAgICAvLyBBY3RpdmUgY2xhc3Nlc1xuICAgIGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgaWYgKG5leHRTbGlkZSkge1xuICAgICAgICBuZXh0U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZTbGlkZSkge1xuICAgICAgICBwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOZXh0IFNsaWRlXG4gICAgICBuZXh0U2xpZGUgPSBlbGVtZW50TmV4dEFsbChhY3RpdmVTbGlkZSwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYClbMF07XG4gICAgICBpZiAocGFyYW1zLmxvb3AgJiYgIW5leHRTbGlkZSkge1xuICAgICAgICBuZXh0U2xpZGUgPSBzbGlkZXNbMF07XG4gICAgICB9XG4gICAgICBpZiAobmV4dFNsaWRlKSB7XG4gICAgICAgIG5leHRTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXYgU2xpZGVcbiAgICAgIHByZXZTbGlkZSA9IGVsZW1lbnRQcmV2QWxsKGFjdGl2ZVNsaWRlLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXTtcbiAgICAgIGlmIChwYXJhbXMubG9vcCAmJiAhcHJldlNsaWRlID09PSAwKSB7XG4gICAgICAgIHByZXZTbGlkZSA9IHNsaWRlc1tzbGlkZXMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgICBpZiAocHJldlNsaWRlKSB7XG4gICAgICAgIHByZXZTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5lbWl0U2xpZGVzQ2xhc3NlcygpO1xufVxuXG5jb25zdCBwcm9jZXNzTGF6eVByZWxvYWRlciA9IChzd2lwZXIsIGltYWdlRWwpID0+IHtcbiAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLnBhcmFtcykgcmV0dXJuO1xuICBjb25zdCBzbGlkZVNlbGVjdG9yID0gKCkgPT4gc3dpcGVyLmlzRWxlbWVudCA/IGBzd2lwZXItc2xpZGVgIDogYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gO1xuICBjb25zdCBzbGlkZUVsID0gaW1hZ2VFbC5jbG9zZXN0KHNsaWRlU2VsZWN0b3IoKSk7XG4gIGlmIChzbGlkZUVsKSB7XG4gICAgbGV0IGxhenlFbCA9IHNsaWRlRWwucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgaWYgKCFsYXp5RWwgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgaWYgKHNsaWRlRWwuc2hhZG93Um9vdCkge1xuICAgICAgICBsYXp5RWwgPSBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbml0IGxhdGVyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHNsaWRlRWwuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgbGF6eUVsID0gc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgICAgICAgICAgaWYgKGxhenlFbCkgbGF6eUVsLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsYXp5RWwpIGxhenlFbC5yZW1vdmUoKTtcbiAgfVxufTtcbmNvbnN0IHVubGF6eSA9IChzd2lwZXIsIGluZGV4KSA9PiB7XG4gIGlmICghc3dpcGVyLnNsaWRlc1tpbmRleF0pIHJldHVybjtcbiAgY29uc3QgaW1hZ2VFbCA9IHN3aXBlci5zbGlkZXNbaW5kZXhdLnF1ZXJ5U2VsZWN0b3IoJ1tsb2FkaW5nPVwibGF6eVwiXScpO1xuICBpZiAoaW1hZ2VFbCkgaW1hZ2VFbC5yZW1vdmVBdHRyaWJ1dGUoJ2xvYWRpbmcnKTtcbn07XG5jb25zdCBwcmVsb2FkID0gc3dpcGVyID0+IHtcbiAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLnBhcmFtcykgcmV0dXJuO1xuICBsZXQgYW1vdW50ID0gc3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZFByZXZOZXh0O1xuICBjb25zdCBsZW4gPSBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgaWYgKCFsZW4gfHwgIWFtb3VudCB8fCBhbW91bnQgPCAwKSByZXR1cm47XG4gIGFtb3VudCA9IE1hdGgubWluKGFtb3VudCwgbGVuKTtcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3KTtcbiAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGlmIChzd2lwZXIucGFyYW1zLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3MgPiAxKSB7XG4gICAgY29uc3QgYWN0aXZlQ29sdW1uID0gYWN0aXZlSW5kZXg7XG4gICAgY29uc3QgcHJlbG9hZENvbHVtbnMgPSBbYWN0aXZlQ29sdW1uIC0gYW1vdW50XTtcbiAgICBwcmVsb2FkQ29sdW1ucy5wdXNoKC4uLkFycmF5LmZyb20oe1xuICAgICAgbGVuZ3RoOiBhbW91bnRcbiAgICB9KS5tYXAoKF8sIGkpID0+IHtcbiAgICAgIHJldHVybiBhY3RpdmVDb2x1bW4gKyBzbGlkZXNQZXJWaWV3ICsgaTtcbiAgICB9KSk7XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBpKSA9PiB7XG4gICAgICBpZiAocHJlbG9hZENvbHVtbnMuaW5jbHVkZXMoc2xpZGVFbC5jb2x1bW4pKSB1bmxhenkoc3dpcGVyLCBpKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2xpZGVJbmRleExhc3RJblZpZXcgPSBhY3RpdmVJbmRleCArIHNsaWRlc1BlclZpZXcgLSAxO1xuICBpZiAoc3dpcGVyLnBhcmFtcy5yZXdpbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gYW1vdW50OyBpIDw9IHNsaWRlSW5kZXhMYXN0SW5WaWV3ICsgYW1vdW50OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHJlYWxJbmRleCA9IChpICUgbGVuICsgbGVuKSAlIGxlbjtcbiAgICAgIGlmIChyZWFsSW5kZXggPCBhY3RpdmVJbmRleCB8fCByZWFsSW5kZXggPiBzbGlkZUluZGV4TGFzdEluVmlldykgdW5sYXp5KHN3aXBlciwgcmVhbEluZGV4KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IE1hdGgubWF4KGFjdGl2ZUluZGV4IC0gYW1vdW50LCAwKTsgaSA8PSBNYXRoLm1pbihzbGlkZUluZGV4TGFzdEluVmlldyArIGFtb3VudCwgbGVuIC0gMSk7IGkgKz0gMSkge1xuICAgICAgaWYgKGkgIT09IGFjdGl2ZUluZGV4ICYmIChpID4gc2xpZGVJbmRleExhc3RJblZpZXcgfHwgaSA8IGFjdGl2ZUluZGV4KSkge1xuICAgICAgICB1bmxhenkoc3dpcGVyLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUoc3dpcGVyKSB7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXNHcmlkLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBsZXQgYWN0aXZlSW5kZXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0gLSAoc2xpZGVzR3JpZFtpICsgMV0gLSBzbGlkZXNHcmlkW2ldKSAvIDIpIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSkge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGkgKyAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICB9XG4gIH1cbiAgLy8gTm9ybWFsaXplIHNsaWRlSW5kZXhcbiAgaWYgKHBhcmFtcy5ub3JtYWxpemVTbGlkZUluZGV4KSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4IDwgMCB8fCB0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSBhY3RpdmVJbmRleCA9IDA7XG4gIH1cbiAgcmV0dXJuIGFjdGl2ZUluZGV4O1xufVxuZnVuY3Rpb24gdXBkYXRlQWN0aXZlSW5kZXgobmV3QWN0aXZlSW5kZXgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgY29uc3Qge1xuICAgIHNuYXBHcmlkLFxuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleDogcHJldmlvdXNJbmRleCxcbiAgICByZWFsSW5kZXg6IHByZXZpb3VzUmVhbEluZGV4LFxuICAgIHNuYXBJbmRleDogcHJldmlvdXNTbmFwSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IGFjdGl2ZUluZGV4ID0gbmV3QWN0aXZlSW5kZXg7XG4gIGxldCBzbmFwSW5kZXg7XG4gIGNvbnN0IGdldFZpcnR1YWxSZWFsSW5kZXggPSBhSW5kZXggPT4ge1xuICAgIGxldCByZWFsSW5kZXggPSBhSW5kZXggLSBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgaWYgKHJlYWxJbmRleCA8IDApIHtcbiAgICAgIHJlYWxJbmRleCA9IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyByZWFsSW5kZXg7XG4gICAgfVxuICAgIGlmIChyZWFsSW5kZXggPj0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVhbEluZGV4IC09IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZWFsSW5kZXg7XG4gIH07XG4gIGlmICh0eXBlb2YgYWN0aXZlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWN0aXZlSW5kZXggPSBnZXRBY3RpdmVJbmRleEJ5VHJhbnNsYXRlKHN3aXBlcik7XG4gIH1cbiAgaWYgKHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKSA+PSAwKSB7XG4gICAgc25hcEluZGV4ID0gc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNraXAgPSBNYXRoLm1pbihwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBhY3RpdmVJbmRleCk7XG4gICAgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKGFjdGl2ZUluZGV4IC0gc2tpcCkgLyBwYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICB9XG4gIGlmIChzbmFwSW5kZXggPj0gc25hcEdyaWQubGVuZ3RoKSBzbmFwSW5kZXggPSBzbmFwR3JpZC5sZW5ndGggLSAxO1xuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXggJiYgIXN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGlmIChzbmFwSW5kZXggIT09IHByZXZpb3VzU25hcEluZGV4KSB7XG4gICAgICBzd2lwZXIuc25hcEluZGV4ID0gc25hcEluZGV4O1xuICAgICAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4ICYmIHN3aXBlci5wYXJhbXMubG9vcCAmJiBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgIHN3aXBlci5yZWFsSW5kZXggPSBnZXRWaXJ0dWFsUmVhbEluZGV4KGFjdGl2ZUluZGV4KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcblxuICAvLyBHZXQgcmVhbCBpbmRleFxuICBsZXQgcmVhbEluZGV4O1xuICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBwYXJhbXMubG9vcCkge1xuICAgIHJlYWxJbmRleCA9IGdldFZpcnR1YWxSZWFsSW5kZXgoYWN0aXZlSW5kZXgpO1xuICB9IGVsc2UgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluQ29sdW1uID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXgpWzBdO1xuICAgIGxldCBhY3RpdmVTbGlkZUluZGV4ID0gcGFyc2VJbnQoZmlyc3RTbGlkZUluQ29sdW1uLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oYWN0aXZlU2xpZGVJbmRleCkpIHtcbiAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBNYXRoLm1heChzd2lwZXIuc2xpZGVzLmluZGV4T2YoZmlyc3RTbGlkZUluQ29sdW1uKSwgMCk7XG4gICAgfVxuICAgIHJlYWxJbmRleCA9IE1hdGguZmxvb3IoYWN0aXZlU2xpZGVJbmRleCAvIHBhcmFtcy5ncmlkLnJvd3MpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXhdKSB7XG4gICAgY29uc3Qgc2xpZGVJbmRleCA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoc2xpZGVJbmRleCwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWFsSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVhbEluZGV4ID0gYWN0aXZlSW5kZXg7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcmV2aW91c1NuYXBJbmRleCxcbiAgICBzbmFwSW5kZXgsXG4gICAgcHJldmlvdXNSZWFsSW5kZXgsXG4gICAgcmVhbEluZGV4LFxuICAgIHByZXZpb3VzSW5kZXgsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSk7XG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQpIHtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2FjdGl2ZUluZGV4Q2hhbmdlJyk7XG4gIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCB8fCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCkge1xuICAgIGlmIChwcmV2aW91c1JlYWxJbmRleCAhPT0gcmVhbEluZGV4KSB7XG4gICAgICBzd2lwZXIuZW1pdCgncmVhbEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdzbGlkZUNoYW5nZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsaWNrZWRTbGlkZShlbCwgcGF0aCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBsZXQgc2xpZGUgPSBlbC5jbG9zZXN0KGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICBpZiAoIXNsaWRlICYmIHN3aXBlci5pc0VsZW1lbnQgJiYgcGF0aCAmJiBwYXRoLmxlbmd0aCA+IDEgJiYgcGF0aC5pbmNsdWRlcyhlbCkpIHtcbiAgICBbLi4ucGF0aC5zbGljZShwYXRoLmluZGV4T2YoZWwpICsgMSwgcGF0aC5sZW5ndGgpXS5mb3JFYWNoKHBhdGhFbCA9PiB7XG4gICAgICBpZiAoIXNsaWRlICYmIHBhdGhFbC5tYXRjaGVzICYmIHBhdGhFbC5tYXRjaGVzKGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApKSB7XG4gICAgICAgIHNsaWRlID0gcGF0aEVsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCBzbGlkZUZvdW5kID0gZmFsc2U7XG4gIGxldCBzbGlkZUluZGV4O1xuICBpZiAoc2xpZGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci5zbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzd2lwZXIuc2xpZGVzW2ldID09PSBzbGlkZSkge1xuICAgICAgICBzbGlkZUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoc2xpZGUgJiYgc2xpZGVGb3VuZCkge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSBzbGlkZTtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBwYXJzZUludChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5jbGlja2VkU2xpZGUgPSB1bmRlZmluZWQ7XG4gICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5zbGlkZVRvQ2xpY2tlZFNsaWRlICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSBzd2lwZXIuYWN0aXZlSW5kZXgpIHtcbiAgICBzd2lwZXIuc2xpZGVUb0NsaWNrZWRTbGlkZSgpO1xuICB9XG59XG5cbnZhciB1cGRhdGUgPSB7XG4gIHVwZGF0ZVNpemUsXG4gIHVwZGF0ZVNsaWRlcyxcbiAgdXBkYXRlQXV0b0hlaWdodCxcbiAgdXBkYXRlU2xpZGVzT2Zmc2V0LFxuICB1cGRhdGVTbGlkZXNQcm9ncmVzcyxcbiAgdXBkYXRlUHJvZ3Jlc3MsXG4gIHVwZGF0ZVNsaWRlc0NsYXNzZXMsXG4gIHVwZGF0ZUFjdGl2ZUluZGV4LFxuICB1cGRhdGVDbGlja2VkU2xpZGVcbn07XG5cbmZ1bmN0aW9uIGdldFN3aXBlclRyYW5zbGF0ZShheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gdGhpcy5pc0hvcml6b250YWwoKSA/ICd4JyA6ICd5JztcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHRyYW5zbGF0ZSxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZTtcbiAgfVxuICBsZXQgY3VycmVudFRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZSh3cmFwcGVyRWwsIGF4aXMpO1xuICBjdXJyZW50VHJhbnNsYXRlICs9IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgaWYgKHJ0bCkgY3VycmVudFRyYW5zbGF0ZSA9IC1jdXJyZW50VHJhbnNsYXRlO1xuICByZXR1cm4gY3VycmVudFRyYW5zbGF0ZSB8fCAwO1xufVxuXG5mdW5jdGlvbiBzZXRUcmFuc2xhdGUodHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWwsXG4gICAgcHJvZ3Jlc3NcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGNvbnN0IHogPSAwO1xuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgeCA9IHJ0bCA/IC10cmFuc2xhdGUgOiB0cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgeSA9IHRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykge1xuICAgIHggPSBNYXRoLmZsb29yKHgpO1xuICAgIHkgPSBNYXRoLmZsb29yKHkpO1xuICB9XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gIHN3aXBlci50cmFuc2xhdGUgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB4IDogeTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IC14IDogLXk7XG4gIH0gZWxzZSBpZiAoIXBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgeCAtPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgLT0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICAgIH1cbiAgICB3cmFwcGVyRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAke3p9cHgpYDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHByb2dyZXNzXG4gIGxldCBuZXdQcm9ncmVzcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gIH1cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBwcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2xhdGUnLCBzd2lwZXIudHJhbnNsYXRlLCBieUNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBtaW5UcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFswXTtcbn1cblxuZnVuY3Rpb24gbWF4VHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbdGhpcy5zbmFwR3JpZC5sZW5ndGggLSAxXTtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlVG8odHJhbnNsYXRlLCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCB0cmFuc2xhdGVCb3VuZHMsIGludGVybmFsKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZSA9IDA7XG4gIH1cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlQm91bmRzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IG1pblRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgY29uc3QgbWF4VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICBsZXQgbmV3VHJhbnNsYXRlO1xuICBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA+IG1pblRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWluVHJhbnNsYXRlO2Vsc2UgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPCBtYXhUcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1heFRyYW5zbGF0ZTtlbHNlIG5ld1RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKG5ld1RyYW5zbGF0ZSk7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIGNvbnN0IGlzSCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSAtbmV3VHJhbnNsYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXN3aXBlci5zdXBwb3J0LnNtb290aFNjcm9sbCkge1xuICAgICAgICBhbmltYXRlQ1NTTW9kZVNjcm9sbCh7XG4gICAgICAgICAgc3dpcGVyLFxuICAgICAgICAgIHRhcmdldFBvc2l0aW9uOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICAgIHNpZGU6IGlzSCA/ICdsZWZ0JyA6ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZXJFbC5zY3JvbGxUbyh7XG4gICAgICAgIFtpc0ggPyAnbGVmdCcgOiAndG9wJ106IC1uZXdUcmFuc2xhdGUsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uRW5kJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvblN0YXJ0Jyk7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICBpZiAoIXN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpIHtcbiAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoZSkge1xuICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIHRyYW5zbGF0ZSA9IHtcbiAgZ2V0VHJhbnNsYXRlOiBnZXRTd2lwZXJUcmFuc2xhdGUsXG4gIHNldFRyYW5zbGF0ZSxcbiAgbWluVHJhbnNsYXRlLFxuICBtYXhUcmFuc2xhdGUsXG4gIHRyYW5zbGF0ZVRvXG59O1xuXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGR1cmF0aW9uID09PSAwID8gYDBtc2AgOiAnJztcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNpdGlvbicsIGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW1pdChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcFxuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4LFxuICAgIHByZXZpb3VzSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IGRpciA9IGRpcmVjdGlvbjtcbiAgaWYgKCFkaXIpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPiBwcmV2aW91c0luZGV4KSBkaXIgPSAnbmV4dCc7ZWxzZSBpZiAoYWN0aXZlSW5kZXggPCBwcmV2aW91c0luZGV4KSBkaXIgPSAncHJldic7ZWxzZSBkaXIgPSAncmVzZXQnO1xuICB9XG4gIHN3aXBlci5lbWl0KGB0cmFuc2l0aW9uJHtzdGVwfWApO1xuICBpZiAocnVuQ2FsbGJhY2tzICYmIGFjdGl2ZUluZGV4ICE9PSBwcmV2aW91c0luZGV4KSB7XG4gICAgaWYgKGRpciA9PT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlUmVzZXRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdChgc2xpZGVDaGFuZ2VUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlTmV4dFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZVByZXZUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICB9XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnU3RhcnQnXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgdHJhbnNpdGlvbkVtaXQoe1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXA6ICdFbmQnXG4gIH0pO1xufVxuXG52YXIgdHJhbnNpdGlvbiA9IHtcbiAgc2V0VHJhbnNpdGlvbixcbiAgdHJhbnNpdGlvblN0YXJ0LFxuICB0cmFuc2l0aW9uRW5kXG59O1xuXG5mdW5jdGlvbiBzbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgaW5pdGlhbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIGluZGV4ID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgc2xpZGVJbmRleCA9IGluZGV4O1xuICBpZiAoc2xpZGVJbmRleCA8IDApIHNsaWRlSW5kZXggPSAwO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcHJldmlvdXNJbmRleCxcbiAgICBhY3RpdmVJbmRleCxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uIHx8ICFlbmFibGVkICYmICFpbnRlcm5hbCAmJiAhaW5pdGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBza2lwID0gTWF0aC5taW4oc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIHNsaWRlSW5kZXgpO1xuICBsZXQgc25hcEluZGV4ID0gc2tpcCArIE1hdGguZmxvb3IoKHNsaWRlSW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcbiAgY29uc3QgdHJhbnNsYXRlID0gLXNuYXBHcmlkW3NuYXBJbmRleF07XG4gIC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG4gIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFRyYW5zbGF0ZSA9IC1NYXRoLmZsb29yKHRyYW5zbGF0ZSAqIDEwMCk7XG4gICAgICBjb25zdCBub3JtYWxpemVkR3JpZCA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZFtpXSAqIDEwMCk7XG4gICAgICBjb25zdCBub3JtYWxpemVkR3JpZE5leHQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaSArIDFdICogMTAwKTtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQgLSAobm9ybWFsaXplZEdyaWROZXh0IC0gbm9ybWFsaXplZEdyaWQpIC8gMikge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gbm9ybWFsaXplZEdyaWQgJiYgbm9ybWFsaXplZFRyYW5zbGF0ZSA8IG5vcm1hbGl6ZWRHcmlkTmV4dCkge1xuICAgICAgICAgIHNsaWRlSW5kZXggPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkKSB7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBEaXJlY3Rpb25zIGxvY2tzXG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgJiYgc2xpZGVJbmRleCAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiAocnRsID8gdHJhbnNsYXRlID4gc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiB0cmFuc2xhdGUgPCBzd2lwZXIudHJhbnNsYXRlICYmIHRyYW5zbGF0ZSA8IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgdHJhbnNsYXRlID4gc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPiBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgIGlmICgoYWN0aXZlSW5kZXggfHwgMCkgIT09IHNsaWRlSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoc2xpZGVJbmRleCAhPT0gKHByZXZpb3VzSW5kZXggfHwgMCkgJiYgcnVuQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVNsaWRlQ2hhbmdlU3RhcnQnKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgbGV0IGRpcmVjdGlvbjtcbiAgaWYgKHNsaWRlSW5kZXggPiBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ25leHQnO2Vsc2UgaWYgKHNsaWRlSW5kZXggPCBhY3RpdmVJbmRleCkgZGlyZWN0aW9uID0gJ3ByZXYnO2Vsc2UgZGlyZWN0aW9uID0gJ3Jlc2V0JztcblxuICAvLyBVcGRhdGUgSW5kZXhcbiAgaWYgKHJ0bCAmJiAtdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlIHx8ICFydGwgJiYgdHJhbnNsYXRlID09PSBzd2lwZXIudHJhbnNsYXRlKSB7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICAgIC8vIFVwZGF0ZSBIZWlnaHRcbiAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgIHN3aXBlci51cGRhdGVBdXRvSGVpZ2h0KCk7XG4gICAgfVxuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgaWYgKHBhcmFtcy5lZmZlY3QgIT09ICdzbGlkZScpIHtcbiAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICB9XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgdCA9IHJ0bCA/IHRyYW5zbGF0ZSA6IC10cmFuc2xhdGU7XG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICdub25lJztcbiAgICAgICAgc3dpcGVyLl9pbW1lZGlhdGVWaXJ0dWFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1ZpcnR1YWwgJiYgIXN3aXBlci5fY3NzTW9kZVZpcnR1YWxJbml0aWFsU2V0ICYmIHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlID4gMCkge1xuICAgICAgICBzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICcnO1xuICAgICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogdCxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICBbaXNIID8gJ2xlZnQnIDogJ3RvcCddOiB0LFxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KHNsaWRlSW5kZXgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgc3dpcGVyLnRyYW5zaXRpb25TdGFydChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIGlmIChzcGVlZCA9PT0gMCkge1xuICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgfSBlbHNlIGlmICghc3dpcGVyLmFuaW1hdGluZykge1xuICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgIGlmICghc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMpIHJldHVybjtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZDtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2xpZGVUb0xvb3AoaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgaW5kZXggPSAwO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgaW5kZXhBc051bWJlciA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gICAgaW5kZXggPSBpbmRleEFzTnVtYmVyO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgbGV0IG5ld0luZGV4ID0gaW5kZXg7XG4gIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3SW5kZXggPSBuZXdJbmRleCArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRhcmdldFNsaWRlSW5kZXg7XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IG5ld0luZGV4ICogc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICAgIHRhcmdldFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleClbMF0uY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzd2lwZXIuc2xpZGVzLmxlbmd0aCAvIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjZW50ZXJlZFNsaWRlc1xuICAgICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgICBsZXQgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXcgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgbmVlZExvb3BGaXggPSBjb2xzIC0gdGFyZ2V0U2xpZGVJbmRleCA8IHNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAoY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgbmVlZExvb3BGaXggPSBuZWVkTG9vcEZpeCB8fCB0YXJnZXRTbGlkZUluZGV4IDwgTWF0aC5jZWlsKHNsaWRlc1BlclZpZXcgLyAyKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTG9vcEZpeCkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjZW50ZXJlZFNsaWRlcyA/IHRhcmdldFNsaWRlSW5kZXggPCBzd2lwZXIuYWN0aXZlSW5kZXggPyAncHJldicgOiAnbmV4dCcgOiB0YXJnZXRTbGlkZUluZGV4IC0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMSA8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICBzbGlkZVRvOiB0cnVlLFxuICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gdGFyZ2V0U2xpZGVJbmRleCArIDEgOiB0YXJnZXRTbGlkZUluZGV4IC0gY29scyArIDEsXG4gICAgICAgICAgc2xpZGVSZWFsSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gc3dpcGVyLnJlYWxJbmRleCA6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gbmV3SW5kZXggKiBzd2lwZXIucGFyYW1zLmdyaWQucm93cztcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleClbMF0uY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfSk7XG4gIHJldHVybiBzd2lwZXI7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVOZXh0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBlbmFibGVkLFxuICAgIHBhcmFtcyxcbiAgICBhbmltYXRpbmdcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gc3dpcGVyO1xuICBsZXQgcGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvKSB7XG4gICAgcGVyR3JvdXAgPSBNYXRoLm1heChzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoJ2N1cnJlbnQnLCB0cnVlKSwgMSk7XG4gIH1cbiAgY29uc3QgaW5jcmVtZW50ID0gc3dpcGVyLmFjdGl2ZUluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwZXJHcm91cDtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKGFuaW1hdGluZyAmJiAhaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgZGlyZWN0aW9uOiAnbmV4dCdcbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIud3JhcHBlckVsLmNsaWVudExlZnQ7XG4gICAgaWYgKHN3aXBlci5hY3RpdmVJbmRleCA9PT0gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0VuZCkge1xuICAgIHJldHVybiBzd2lwZXIuc2xpZGVUbygwLCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH1cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIGluY3JlbWVudCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlUHJldihzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWQsXG4gICAgYW5pbWF0aW5nXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgaWYgKGFuaW1hdGluZyAmJiAhaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wUHJldmVudHNTbGlkaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgZGlyZWN0aW9uOiAncHJldidcbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBzd2lwZXIuX2NsaWVudExlZnQgPSBzd2lwZXIud3JhcHBlckVsLmNsaWVudExlZnQ7XG4gIH1cbiAgY29uc3QgdHJhbnNsYXRlID0gcnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBmdW5jdGlvbiBub3JtYWxpemUodmFsKSB7XG4gICAgaWYgKHZhbCA8IDApIHJldHVybiAtTWF0aC5mbG9vcihNYXRoLmFicyh2YWwpKTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih2YWwpO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSBub3JtYWxpemUodHJhbnNsYXRlKTtcbiAgY29uc3Qgbm9ybWFsaXplZFNuYXBHcmlkID0gc25hcEdyaWQubWFwKHZhbCA9PiBub3JtYWxpemUodmFsKSk7XG4gIGxldCBwcmV2U25hcCA9IHNuYXBHcmlkW25vcm1hbGl6ZWRTbmFwR3JpZC5pbmRleE9mKG5vcm1hbGl6ZWRUcmFuc2xhdGUpIC0gMV07XG4gIGlmICh0eXBlb2YgcHJldlNuYXAgPT09ICd1bmRlZmluZWQnICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgbGV0IHByZXZTbmFwSW5kZXg7XG4gICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBzbmFwKSB7XG4gICAgICAgIC8vIHByZXZTbmFwID0gc25hcDtcbiAgICAgICAgcHJldlNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIHByZXZTbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwcmV2U25hcCA9IHNuYXBHcmlkW3ByZXZTbmFwSW5kZXggPiAwID8gcHJldlNuYXBJbmRleCAtIDEgOiBwcmV2U25hcEluZGV4XTtcbiAgICB9XG4gIH1cbiAgbGV0IHByZXZJbmRleCA9IDA7XG4gIGlmICh0eXBlb2YgcHJldlNuYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcHJldkluZGV4ID0gc2xpZGVzR3JpZC5pbmRleE9mKHByZXZTbmFwKTtcbiAgICBpZiAocHJldkluZGV4IDwgMCkgcHJldkluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMTtcbiAgICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgICAgcHJldkluZGV4ID0gcHJldkluZGV4IC0gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdwcmV2aW91cycsIHRydWUpICsgMTtcbiAgICAgIHByZXZJbmRleCA9IE1hdGgubWF4KHByZXZJbmRleCwgMCk7XG4gICAgfVxuICB9XG4gIGlmIChwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgIGNvbnN0IGxhc3RJbmRleCA9IHN3aXBlci5wYXJhbXMudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggLSAxIDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBzd2lwZXIuc2xpZGVUbyhsYXN0SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfSBlbHNlIGlmIChwYXJhbXMubG9vcCAmJiBzd2lwZXIuYWN0aXZlSW5kZXggPT09IDAgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHByZXZJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlUmVzZXQoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlVG9DbG9zZXN0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsLCB0aHJlc2hvbGQpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyZXNob2xkID0gMC41O1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCk7XG4gIGNvbnN0IHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChpbmRleCAtIHNraXApIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGUgPj0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF0pIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgb24gb3IgYWZ0ZXIgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYWZ0ZXIgaXQuXG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICBjb25zdCBuZXh0U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggKyAxXTtcbiAgICBpZiAodHJhbnNsYXRlIC0gY3VycmVudFNuYXAgPiAobmV4dFNuYXAgLSBjdXJyZW50U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4ICs9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBiZWZvcmUgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYmVmb3JlIGl0LlxuICAgIGNvbnN0IHByZXZTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleCAtIDFdO1xuICAgIGNvbnN0IGN1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG4gICAgaWYgKHRyYW5zbGF0ZSAtIHByZXZTbmFwIDw9IChjdXJyZW50U25hcCAtIHByZXZTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggLT0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH1cbiAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHN3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuZnVuY3Rpb24gc2xpZGVUb0NsaWNrZWRTbGlkZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gIGxldCBzbGlkZVRvSW5kZXggPSBzd2lwZXIuY2xpY2tlZEluZGV4O1xuICBsZXQgcmVhbEluZGV4O1xuICBjb25zdCBzbGlkZVNlbGVjdG9yID0gc3dpcGVyLmlzRWxlbWVudCA/IGBzd2lwZXItc2xpZGVgIDogYC4ke3BhcmFtcy5zbGlkZUNsYXNzfWA7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSByZXR1cm47XG4gICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoc3dpcGVyLmNsaWNrZWRTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBpZiAoc2xpZGVUb0luZGV4IDwgc3dpcGVyLmxvb3BlZFNsaWRlcyAtIHNsaWRlc1BlclZpZXcgLyAyIHx8IHNsaWRlVG9JbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyArIHNsaWRlc1BlclZpZXcgLyAyKSB7XG4gICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgIHNsaWRlVG9JbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYCR7c2xpZGVTZWxlY3Rvcn1bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3JlYWxJbmRleH1cIl1gKVswXSk7XG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHNsaWRlc1BlclZpZXcpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICBzbGlkZVRvSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAke3NsaWRlU2VsZWN0b3J9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdYClbMF0pO1xuICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gIH1cbn1cblxudmFyIHNsaWRlID0ge1xuICBzbGlkZVRvLFxuICBzbGlkZVRvTG9vcCxcbiAgc2xpZGVOZXh0LFxuICBzbGlkZVByZXYsXG4gIHNsaWRlUmVzZXQsXG4gIHNsaWRlVG9DbG9zZXN0LFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlXG59O1xuXG5mdW5jdGlvbiBsb29wQ3JlYXRlKHNsaWRlUmVhbEluZGV4KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFwYXJhbXMubG9vcCB8fCBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICBjb25zdCBpbml0U2xpZGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgc2xpZGVzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGluZGV4KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3Qgc2xpZGVzUGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgKiAoZ3JpZEVuYWJsZWQgPyBwYXJhbXMuZ3JpZC5yb3dzIDogMSk7XG4gIGNvbnN0IHNob3VsZEZpbGxHcm91cCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXAgIT09IDA7XG4gIGNvbnN0IHNob3VsZEZpbGxHcmlkID0gZ3JpZEVuYWJsZWQgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBwYXJhbXMuZ3JpZC5yb3dzICE9PSAwO1xuICBjb25zdCBhZGRCbGFua1NsaWRlcyA9IGFtb3VudE9mU2xpZGVzID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudE9mU2xpZGVzOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuaXNFbGVtZW50ID8gY3JlYXRlRWxlbWVudCgnc3dpcGVyLXNsaWRlJywgW3BhcmFtcy5zbGlkZUJsYW5rQ2xhc3NdKSA6IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFtwYXJhbXMuc2xpZGVDbGFzcywgcGFyYW1zLnNsaWRlQmxhbmtDbGFzc10pO1xuICAgICAgc3dpcGVyLnNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgICB9XG4gIH07XG4gIGlmIChzaG91bGRGaWxsR3JvdXApIHtcbiAgICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcykge1xuICAgICAgY29uc3Qgc2xpZGVzVG9BZGQgPSBzbGlkZXNQZXJHcm91cCAtIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXA7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBzbGlkZXNQZXJHcm91cCwgbG9vcCBtb2RlIG1heSBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzLCBvciBlbXB0eSBzbGlkZXMpJyk7XG4gICAgfVxuICAgIGluaXRTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChzaG91bGRGaWxsR3JpZCkge1xuICAgIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzKSB7XG4gICAgICBjb25zdCBzbGlkZXNUb0FkZCA9IHBhcmFtcy5ncmlkLnJvd3MgLSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBncmlkLnJvd3MsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKScpO1xuICAgIH1cbiAgICBpbml0U2xpZGVzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdFNsaWRlcygpO1xuICB9XG4gIHN3aXBlci5sb29wRml4KHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBkaXJlY3Rpb246IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHVuZGVmaW5lZCA6ICduZXh0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9vcEZpeChfdGVtcCkge1xuICBsZXQge1xuICAgIHNsaWRlUmVhbEluZGV4LFxuICAgIHNsaWRlVG8gPSB0cnVlLFxuICAgIGRpcmVjdGlvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgYWN0aXZlU2xpZGVJbmRleCxcbiAgICBieUNvbnRyb2xsZXIsXG4gICAgYnlNb3VzZXdoZWVsXG4gIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZUxvb3BGaXgnKTtcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBzbGlkZXNFbCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIGNlbnRlcmVkU2xpZGVzXG4gIH0gPSBwYXJhbXM7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIGlmIChzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgaWYgKHNsaWRlVG8pIHtcbiAgICAgIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5zbmFwSW5kZXggPT09IDApIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgc3dpcGVyLnNuYXBJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJWaWV3KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyBzd2lwZXIuc25hcEluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN3aXBlci5zbmFwSW5kZXggPT09IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggLSAxKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgICBzd2lwZXIuZW1pdCgnbG9vcEZpeCcpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICBpZiAoc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpO1xuICB9IGVsc2Uge1xuICAgIHNsaWRlc1BlclZpZXcgPSBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgICBpZiAoY2VudGVyZWRTbGlkZXMgJiYgc2xpZGVzUGVyVmlldyAlIDIgPT09IDApIHtcbiAgICAgIHNsaWRlc1BlclZpZXcgPSBzbGlkZXNQZXJWaWV3ICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2xpZGVzUGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvID8gc2xpZGVzUGVyVmlldyA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgbGV0IGxvb3BlZFNsaWRlcyA9IHNsaWRlc1Blckdyb3VwO1xuICBpZiAobG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXAgIT09IDApIHtcbiAgICBsb29wZWRTbGlkZXMgKz0gc2xpZGVzUGVyR3JvdXAgLSBsb29wZWRTbGlkZXMgJSBzbGlkZXNQZXJHcm91cDtcbiAgfVxuICBsb29wZWRTbGlkZXMgKz0gcGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzO1xuICBzd2lwZXIubG9vcGVkU2xpZGVzID0gbG9vcGVkU2xpZGVzO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA8IHNsaWRlc1BlclZpZXcgKyBsb29wZWRTbGlkZXMpIHtcbiAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGVub3VnaCBmb3IgbG9vcCBtb2RlLCBpdCB3aWxsIGJlIGRpc2FibGVkIGFuZCBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzKSBvciBsb3dlciB0aGUgdmFsdWVzIG9mIHNsaWRlc1BlclZpZXcgYW5kIHNsaWRlc1Blckdyb3VwIHBhcmFtZXRlcnMnKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAncm93Jykge1xuICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBMb29wIG1vZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncmlkLmZpbGwgPSBgcm93YCcpO1xuICB9XG4gIGNvbnN0IHByZXBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGNvbnN0IGFwcGVuZFNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgbGV0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWN0aXZlU2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KHNsaWRlcy5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKSlbMF0pO1xuICB9IGVsc2Uge1xuICAgIGFjdGl2ZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleDtcbiAgfVxuICBjb25zdCBpc05leHQgPSBkaXJlY3Rpb24gPT09ICduZXh0JyB8fCAhZGlyZWN0aW9uO1xuICBjb25zdCBpc1ByZXYgPSBkaXJlY3Rpb24gPT09ICdwcmV2JyB8fCAhZGlyZWN0aW9uO1xuICBsZXQgc2xpZGVzUHJlcGVuZGVkID0gMDtcbiAgbGV0IHNsaWRlc0FwcGVuZGVkID0gMDtcbiAgY29uc3QgY29scyA9IGdyaWRFbmFibGVkID8gTWF0aC5jZWlsKHNsaWRlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzKSA6IHNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4ID0gZ3JpZEVuYWJsZWQgPyBzbGlkZXNbYWN0aXZlU2xpZGVJbmRleF0uY29sdW1uIDogYWN0aXZlU2xpZGVJbmRleDtcbiAgY29uc3QgYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPSBhY3RpdmVDb2xJbmRleCArIChjZW50ZXJlZFNsaWRlcyAmJiB0eXBlb2Ygc2V0VHJhbnNsYXRlID09PSAndW5kZWZpbmVkJyA/IC1zbGlkZXNQZXJWaWV3IC8gMiArIDAuNSA6IDApO1xuICAvLyBwcmVwZW5kIGxhc3Qgc2xpZGVzIGJlZm9yZSBzdGFydFxuICBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPCBsb29wZWRTbGlkZXMpIHtcbiAgICBzbGlkZXNQcmVwZW5kZWQgPSBNYXRoLm1heChsb29wZWRTbGlkZXMgLSBhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCwgc2xpZGVzUGVyR3JvdXApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBpIC0gTWF0aC5mbG9vcihpIC8gY29scykgKiBjb2xzO1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4VG9QcmVwZW5kID0gY29scyAtIGluZGV4IC0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNsaWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZXNbaV0uY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgLy8gICBpZiAoc2xpZGUuY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChzbGlkZUluZGV4KTtcbiAgICAgICAgLy8gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGNvbHMgLSBpbmRleCAtIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCArIHNsaWRlc1BlclZpZXcgPiBjb2xzIC0gbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzQXBwZW5kZWQgPSBNYXRoLm1heChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCAtIChjb2xzIC0gbG9vcGVkU2xpZGVzICogMiksIHNsaWRlc1Blckdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0FwcGVuZGVkOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGUuY29sdW1uID09PSBpbmRleCkgYXBwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKHNsaWRlSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICB9KTtcbiAgaWYgKGlzUHJldikge1xuICAgIHByZXBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5wcmVwZW5kKHNsaWRlc1tpbmRleF0pO1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc05leHQpIHtcbiAgICBhcHBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzW2luZGV4XSk7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiAocHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc1ByZXYgfHwgYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkpIHtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShzbGlkZUluZGV4LCBzbGlkZSwgc3dpcGVyLnNsaWRlcyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICB9XG4gIGlmIChzbGlkZVRvKSB7XG4gICAgaWYgKHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNQcmV2KSB7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlUmVhbEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5ld1NsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXggKyBzbGlkZXNQcmVwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCArIHNsaWRlc1ByZXBlbmRlZCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2V0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgY29uc3Qgc2hpZnQgPSBncmlkRW5hYmxlZCA/IHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCAvIHBhcmFtcy5ncmlkLnJvd3MgOiBwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgc2hpZnQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNOZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlUmVhbEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5ld1NsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXggLSBzbGlkZXNBcHBlbmRlZF07XG4gICAgICAgIGNvbnN0IGRpZmYgPSBuZXdTbGlkZVRyYW5zbGF0ZSAtIGN1cnJlbnRTbGlkZVRyYW5zbGF0ZTtcbiAgICAgICAgaWYgKGJ5TW91c2V3aGVlbCkge1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUoc3dpcGVyLnRyYW5zbGF0ZSAtIGRpZmYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKGFjdGl2ZUluZGV4IC0gc2xpZGVzQXBwZW5kZWQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAoc2V0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2hpZnQgPSBncmlkRW5hYmxlZCA/IGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cyA6IGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoO1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggLSBzaGlmdCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIGlmIChzd2lwZXIuY29udHJvbGxlciAmJiBzd2lwZXIuY29udHJvbGxlci5jb250cm9sICYmICFieUNvbnRyb2xsZXIpIHtcbiAgICBjb25zdCBsb29wUGFyYW1zID0ge1xuICAgICAgc2xpZGVSZWFsSW5kZXgsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgICBzZXRUcmFuc2xhdGUsXG4gICAgICBhY3RpdmVTbGlkZUluZGV4LFxuICAgICAgYnlDb250cm9sbGVyOiB0cnVlXG4gICAgfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzd2lwZXIuY29udHJvbGxlci5jb250cm9sKSkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5mb3JFYWNoKGMgPT4ge1xuICAgICAgICBpZiAoIWMuZGVzdHJveWVkICYmIGMucGFyYW1zLmxvb3ApIGMubG9vcEZpeCh7XG4gICAgICAgICAgLi4ubG9vcFBhcmFtcyxcbiAgICAgICAgICBzbGlkZVRvOiBjLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSBwYXJhbXMuc2xpZGVzUGVyVmlldyA/IHNsaWRlVG8gOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCBpbnN0YW5jZW9mIHN3aXBlci5jb25zdHJ1Y3RvciAmJiBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLmxvb3BGaXgoe1xuICAgICAgICAuLi5sb29wUGFyYW1zLFxuICAgICAgICBzbGlkZVRvOiBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSBwYXJhbXMuc2xpZGVzUGVyVmlldyA/IHNsaWRlVG8gOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHN3aXBlci5lbWl0KCdsb29wRml4Jyk7XG59XG5cbmZ1bmN0aW9uIGxvb3BEZXN0cm95KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghcGFyYW1zLmxvb3AgfHwgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBjb25zdCBuZXdTbGlkZXNPcmRlciA9IFtdO1xuICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgY29uc3QgaW5kZXggPSB0eXBlb2Ygc2xpZGVFbC5zd2lwZXJTbGlkZUluZGV4ID09PSAndW5kZWZpbmVkJyA/IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA6IHNsaWRlRWwuc3dpcGVyU2xpZGVJbmRleDtcbiAgICBuZXdTbGlkZXNPcmRlcltpbmRleF0gPSBzbGlkZUVsO1xuICB9KTtcbiAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICB9KTtcbiAgbmV3U2xpZGVzT3JkZXIuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gIH0pO1xuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIHN3aXBlci5zbGlkZVRvKHN3aXBlci5yZWFsSW5kZXgsIDApO1xufVxuXG52YXIgbG9vcCA9IHtcbiAgbG9vcENyZWF0ZSxcbiAgbG9vcEZpeCxcbiAgbG9vcERlc3Ryb3lcbn07XG5cbmZ1bmN0aW9uIHNldEdyYWJDdXJzb3IobW92aW5nKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5zaW11bGF0ZVRvdWNoIHx8IHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gIGNvbnN0IGVsID0gc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyBzd2lwZXIuZWwgOiBzd2lwZXIud3JhcHBlckVsO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgfVxuICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XG4gIGVsLnN0eWxlLmN1cnNvciA9IG1vdmluZyA/ICdncmFiYmluZycgOiAnZ3JhYic7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5zZXRHcmFiQ3Vyc29yKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIH1cbiAgc3dpcGVyW3N3aXBlci5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICdjb250YWluZXInID8gJ2VsJyA6ICd3cmFwcGVyRWwnXS5zdHlsZS5jdXJzb3IgPSAnJztcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgZ3JhYkN1cnNvciA9IHtcbiAgc2V0R3JhYkN1cnNvcixcbiAgdW5zZXRHcmFiQ3Vyc29yXG59O1xuXG4vLyBNb2RpZmllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0NTIwNTU0L2N1c3RvbS1lbGVtZW50LWdldHJvb3Rub2RlLWNsb3Nlc3QtZnVuY3Rpb24tY3Jvc3NpbmctbXVsdGlwbGUtcGFyZW50LXNoYWRvd2RcbmZ1bmN0aW9uIGNsb3Nlc3RFbGVtZW50KHNlbGVjdG9yLCBiYXNlKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gdGhpcztcbiAgfVxuICBmdW5jdGlvbiBfX2Nsb3Nlc3RGcm9tKGVsKSB7XG4gICAgaWYgKCFlbCB8fCBlbCA9PT0gZ2V0RG9jdW1lbnQoKSB8fCBlbCA9PT0gZ2V0V2luZG93KCkpIHJldHVybiBudWxsO1xuICAgIGlmIChlbC5hc3NpZ25lZFNsb3QpIGVsID0gZWwuYXNzaWduZWRTbG90O1xuICAgIGNvbnN0IGZvdW5kID0gZWwuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgaWYgKCFmb3VuZCAmJiAhZWwuZ2V0Um9vdE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQgfHwgX19jbG9zZXN0RnJvbShlbC5nZXRSb290Tm9kZSgpLmhvc3QpO1xuICB9XG4gIHJldHVybiBfX2Nsb3Nlc3RGcm9tKGJhc2UpO1xufVxuZnVuY3Rpb24gcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGV2ZW50LCBzdGFydFgpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgZWRnZVN3aXBlRGV0ZWN0aW9uID0gcGFyYW1zLmVkZ2VTd2lwZURldGVjdGlvbjtcbiAgY29uc3QgZWRnZVN3aXBlVGhyZXNob2xkID0gcGFyYW1zLmVkZ2VTd2lwZVRocmVzaG9sZDtcbiAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiAmJiAoc3RhcnRYIDw9IGVkZ2VTd2lwZVRocmVzaG9sZCB8fCBzdGFydFggPj0gd2luZG93LmlubmVyV2lkdGggLSBlZGdlU3dpcGVUaHJlc2hvbGQpKSB7XG4gICAgaWYgKGVkZ2VTd2lwZURldGVjdGlvbiA9PT0gJ3ByZXZlbnQnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBpZiAoZS50eXBlID09PSAncG9pbnRlcmRvd24nKSB7XG4gICAgaWYgKGRhdGEucG9pbnRlcklkICE9PSBudWxsICYmIGRhdGEucG9pbnRlcklkICE9PSBlLnBvaW50ZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYXRhLnBvaW50ZXJJZCA9IGUucG9pbnRlcklkO1xuICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICBkYXRhLnRvdWNoSWQgPSBlLnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgfVxuICBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAvLyBkb24ndCBwcm9jZWVkIHRvdWNoIGV2ZW50XG4gICAgcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGUsIGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcEZpeCgpO1xuICB9XG4gIGxldCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICBpZiAocGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnd3JhcHBlcicpIHtcbiAgICBpZiAoIXN3aXBlci53cmFwcGVyRWwuY29udGFpbnModGFyZ2V0RWwpKSByZXR1cm47XG4gIH1cbiAgaWYgKCd3aGljaCcgaW4gZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm47XG4gIGlmICgnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uID4gMCkgcmV0dXJuO1xuICBpZiAoZGF0YS5pc1RvdWNoZWQgJiYgZGF0YS5pc01vdmVkKSByZXR1cm47XG5cbiAgLy8gY2hhbmdlIHRhcmdldCBlbCBmb3Igc2hhZG93IHJvb3QgY29tcG9uZW50XG4gIGNvbnN0IHN3aXBpbmdDbGFzc0hhc1ZhbHVlID0gISFwYXJhbXMubm9Td2lwaW5nQ2xhc3MgJiYgcGFyYW1zLm5vU3dpcGluZ0NsYXNzICE9PSAnJztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0IGV2ZW50UGF0aCA9IGUuY29tcG9zZWRQYXRoID8gZS5jb21wb3NlZFBhdGgoKSA6IGUucGF0aDtcbiAgaWYgKHN3aXBpbmdDbGFzc0hhc1ZhbHVlICYmIGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QgJiYgZXZlbnRQYXRoKSB7XG4gICAgdGFyZ2V0RWwgPSBldmVudFBhdGhbMF07XG4gIH1cbiAgY29uc3Qgbm9Td2lwaW5nU2VsZWN0b3IgPSBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgPyBwYXJhbXMubm9Td2lwaW5nU2VsZWN0b3IgOiBgLiR7cGFyYW1zLm5vU3dpcGluZ0NsYXNzfWA7XG4gIGNvbnN0IGlzVGFyZ2V0U2hhZG93ID0gISEoZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCk7XG5cbiAgLy8gdXNlIGNsb3Nlc3RFbGVtZW50IGZvciBzaGFkb3cgcm9vdCBlbGVtZW50IHRvIGdldCB0aGUgYWN0dWFsIGNsb3Nlc3QgZm9yIG5lc3RlZCBzaGFkb3cgcm9vdCBlbGVtZW50XG4gIGlmIChwYXJhbXMubm9Td2lwaW5nICYmIChpc1RhcmdldFNoYWRvdyA/IGNsb3Nlc3RFbGVtZW50KG5vU3dpcGluZ1NlbGVjdG9yLCB0YXJnZXRFbCkgOiB0YXJnZXRFbC5jbG9zZXN0KG5vU3dpcGluZ1NlbGVjdG9yKSkpIHtcbiAgICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuc3dpcGVIYW5kbGVyKSB7XG4gICAgaWYgKCF0YXJnZXRFbC5jbG9zZXN0KHBhcmFtcy5zd2lwZUhhbmRsZXIpKSByZXR1cm47XG4gIH1cbiAgdG91Y2hlcy5jdXJyZW50WCA9IGUucGFnZVg7XG4gIHRvdWNoZXMuY3VycmVudFkgPSBlLnBhZ2VZO1xuICBjb25zdCBzdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICBjb25zdCBzdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuXG4gIC8vIERvIE5PVCBzdGFydCBpZiBpT1MgZWRnZSBzd2lwZSBpcyBkZXRlY3RlZC4gT3RoZXJ3aXNlIGlPUyBhcHAgY2Fubm90IHN3aXBlLXRvLWdvLWJhY2sgYW55bW9yZVxuXG4gIGlmICghcHJldmVudEVkZ2VTd2lwZShzd2lwZXIsIGUsIHN0YXJ0WCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgaXNUb3VjaGVkOiB0cnVlLFxuICAgIGlzTW92ZWQ6IGZhbHNlLFxuICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHRydWUsXG4gICAgaXNTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICBzdGFydE1vdmluZzogdW5kZWZpbmVkXG4gIH0pO1xuICB0b3VjaGVzLnN0YXJ0WCA9IHN0YXJ0WDtcbiAgdG91Y2hlcy5zdGFydFkgPSBzdGFydFk7XG4gIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIGlmIChwYXJhbXMudGhyZXNob2xkID4gMCkgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgPSBmYWxzZTtcbiAgbGV0IHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgaWYgKHRhcmdldEVsLm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgIGlmICh0YXJnZXRFbC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbCkge1xuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICB9XG4gIGNvbnN0IHNob3VsZFByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQgJiYgc3dpcGVyLmFsbG93VG91Y2hNb3ZlICYmIHBhcmFtcy50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7XG4gIGlmICgocGFyYW1zLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0IHx8IHNob3VsZFByZXZlbnREZWZhdWx0KSAmJiAhdGFyZ2V0RWwuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgJiYgc3dpcGVyLmFuaW1hdGluZyAmJiAhcGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaFN0YXJ0KCk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3RvdWNoU3RhcnQnLCBlKTtcbn1cblxuZnVuY3Rpb24gb25Ub3VjaE1vdmUoZXZlbnQpIHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgaWYgKGUudHlwZSA9PT0gJ3BvaW50ZXJtb3ZlJykge1xuICAgIGlmIChkYXRhLnRvdWNoSWQgIT09IG51bGwpIHJldHVybjsgLy8gcmV0dXJuIGZyb20gcG9pbnRlciBpZiB3ZSB1c2UgdG91Y2hcbiAgICBjb25zdCBpZCA9IGUucG9pbnRlcklkO1xuICAgIGlmIChpZCAhPT0gZGF0YS5wb2ludGVySWQpIHJldHVybjtcbiAgfVxuICBsZXQgdGFyZ2V0VG91Y2g7XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBbLi4uZS5jaGFuZ2VkVG91Y2hlc10uZmlsdGVyKHQgPT4gdC5pZGVudGlmaWVyID09PSBkYXRhLnRvdWNoSWQpWzBdO1xuICAgIGlmICghdGFyZ2V0VG91Y2ggfHwgdGFyZ2V0VG91Y2guaWRlbnRpZmllciAhPT0gZGF0YS50b3VjaElkKSByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBlO1xuICB9XG4gIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICBpZiAoZGF0YS5zdGFydE1vdmluZyAmJiBkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHBhZ2VYID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gIGNvbnN0IHBhZ2VZID0gdGFyZ2V0VG91Y2gucGFnZVk7XG4gIGlmIChlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyKSB7XG4gICAgdG91Y2hlcy5zdGFydFggPSBwYWdlWDtcbiAgICB0b3VjaGVzLnN0YXJ0WSA9IHBhZ2VZO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1RvdWNoTW92ZSkge1xuICAgIGlmICghZS50YXJnZXQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRhdGEuaXNUb3VjaGVkKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRvdWNoZXMsIHtcbiAgICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgICAgY3VycmVudFg6IHBhZ2VYLFxuICAgICAgICBjdXJyZW50WTogcGFnZVlcbiAgICAgIH0pO1xuICAgICAgZGF0YS50b3VjaFN0YXJ0VGltZSA9IG5vdygpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzICYmICFwYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICAvLyBWZXJ0aWNhbFxuICAgICAgaWYgKHBhZ2VZIDwgdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVkgPiB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFnZVggPCB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWCA+IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGUudGFyZ2V0Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gICAgICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZScsIGUpO1xuICB9XG4gIHRvdWNoZXMucHJldmlvdXNYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgdG91Y2hlcy5wcmV2aW91c1kgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICB0b3VjaGVzLmN1cnJlbnRYID0gcGFnZVg7XG4gIHRvdWNoZXMuY3VycmVudFkgPSBwYWdlWTtcbiAgY29uc3QgZGlmZlggPSB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFg7XG4gIGNvbnN0IGRpZmZZID0gdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICBpZiAoc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQgJiYgTWF0aC5zcXJ0KGRpZmZYICoqIDIgKyBkaWZmWSAqKiAyKSA8IHN3aXBlci5wYXJhbXMudGhyZXNob2xkKSByZXR1cm47XG4gIGlmICh0eXBlb2YgZGF0YS5pc1Njcm9sbGluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsZXQgdG91Y2hBbmdsZTtcbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHRvdWNoZXMuY3VycmVudFkgPT09IHRvdWNoZXMuc3RhcnRZIHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgdG91Y2hlcy5jdXJyZW50WCA9PT0gdG91Y2hlcy5zdGFydFgpIHtcbiAgICAgIGRhdGEuaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAoZGlmZlggKiBkaWZmWCArIGRpZmZZICogZGlmZlkgPj0gMjUpIHtcbiAgICAgICAgdG91Y2hBbmdsZSA9IE1hdGguYXRhbjIoTWF0aC5hYnMoZGlmZlkpLCBNYXRoLmFicyhkaWZmWCkpICogMTgwIC8gTWF0aC5QSTtcbiAgICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoQW5nbGUgPiBwYXJhbXMudG91Y2hBbmdsZSA6IDkwIC0gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YS5pc1Njcm9sbGluZykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmVPcHBvc2l0ZScsIGUpO1xuICB9XG4gIGlmICh0eXBlb2YgZGF0YS5zdGFydE1vdmluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodG91Y2hlcy5jdXJyZW50WCAhPT0gdG91Y2hlcy5zdGFydFggfHwgdG91Y2hlcy5jdXJyZW50WSAhPT0gdG91Y2hlcy5zdGFydFkpIHtcbiAgICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoZGF0YS5pc1Njcm9sbGluZykge1xuICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghZGF0YS5zdGFydE1vdmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICBpZiAoIXBhcmFtcy5jc3NNb2RlICYmIGUuY2FuY2VsYWJsZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBpZiAocGFyYW1zLnRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbiAmJiAhcGFyYW1zLm5lc3RlZCkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgbGV0IGRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBkaWZmWCA6IGRpZmZZO1xuICBsZXQgdG91Y2hlc0RpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5wcmV2aW91c1ggOiB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5wcmV2aW91c1k7XG4gIGlmIChwYXJhbXMub25lV2F5TW92ZW1lbnQpIHtcbiAgICBkaWZmID0gTWF0aC5hYnMoZGlmZikgKiAocnRsID8gMSA6IC0xKTtcbiAgICB0b3VjaGVzRGlmZiA9IE1hdGguYWJzKHRvdWNoZXNEaWZmKSAqIChydGwgPyAxIDogLTEpO1xuICB9XG4gIHRvdWNoZXMuZGlmZiA9IGRpZmY7XG4gIGRpZmYgKj0gcGFyYW1zLnRvdWNoUmF0aW87XG4gIGlmIChydGwpIHtcbiAgICBkaWZmID0gLWRpZmY7XG4gICAgdG91Y2hlc0RpZmYgPSAtdG91Y2hlc0RpZmY7XG4gIH1cbiAgY29uc3QgcHJldlRvdWNoZXNEaXJlY3Rpb24gPSBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbjtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gZGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID0gdG91Y2hlc0RpZmYgPiAwID8gJ3ByZXYnIDogJ25leHQnO1xuICBjb25zdCBpc0xvb3AgPSBzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXBhcmFtcy5jc3NNb2RlO1xuICBjb25zdCBhbGxvd0xvb3BGaXggPSBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiA9PT0gJ25leHQnICYmIHN3aXBlci5hbGxvd1NsaWRlTmV4dCB8fCBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiA9PT0gJ3ByZXYnICYmIHN3aXBlci5hbGxvd1NsaWRlUHJldjtcbiAgaWYgKCFkYXRhLmlzTW92ZWQpIHtcbiAgICBpZiAoaXNMb29wICYmIGFsbG93TG9vcEZpeCkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246IHN3aXBlci5zd2lwZURpcmVjdGlvblxuICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCk7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gICAgaWYgKHN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIGNvbnN0IGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ3RyYW5zaXRpb25lbmQnLCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgfVxuICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IGZhbHNlO1xuICAgIC8vIEdyYWIgQ3Vyc29yXG4gICAgaWYgKHBhcmFtcy5ncmFiQ3Vyc29yICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IodHJ1ZSk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdzbGlkZXJGaXJzdE1vdmUnLCBlKTtcbiAgfVxuICBsZXQgbG9vcEZpeGVkO1xuICBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBwcmV2VG91Y2hlc0RpcmVjdGlvbiAhPT0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gJiYgaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiBNYXRoLmFicyhkaWZmKSA+PSAxKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICBzdGFydFg6IHBhZ2VYLFxuICAgICAgc3RhcnRZOiBwYWdlWSxcbiAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgIGN1cnJlbnRZOiBwYWdlWSxcbiAgICAgIHN0YXJ0VHJhbnNsYXRlOiBkYXRhLmN1cnJlbnRUcmFuc2xhdGVcbiAgICB9KTtcbiAgICBkYXRhLmxvb3BTd2FwUmVzZXQgPSB0cnVlO1xuICAgIGRhdGEuc3RhcnRUcmFuc2xhdGUgPSBkYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzbGlkZXJNb3ZlJywgZSk7XG4gIGRhdGEuaXNNb3ZlZCA9IHRydWU7XG4gIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRpZmYgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICBsZXQgZGlzYWJsZVBhcmVudFN3aXBlciA9IHRydWU7XG4gIGxldCByZXNpc3RhbmNlUmF0aW8gPSBwYXJhbXMucmVzaXN0YW5jZVJhdGlvO1xuICBpZiAocGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMpIHtcbiAgICByZXNpc3RhbmNlUmF0aW8gPSAwO1xuICB9XG4gIGlmIChkaWZmID4gMCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmICFsb29wRml4ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSAtIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLmFjdGl2ZUluZGV4ICsgMV0gOiBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgIGRpcmVjdGlvbjogJ3ByZXYnLFxuICAgICAgICBzZXRUcmFuc2xhdGU6IHRydWUsXG4gICAgICAgIGFjdGl2ZVNsaWRlSW5kZXg6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgICBpZiAocGFyYW1zLnJlc2lzdGFuY2UpIHtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gMSArICgtc3dpcGVyLm1pblRyYW5zbGF0ZSgpICsgZGF0YS5zdGFydFRyYW5zbGF0ZSArIGRpZmYpICoqIHJlc2lzdGFuY2VSYXRpbztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlmZiA8IDApIHtcbiAgICBpZiAoaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiAhbG9vcEZpeGVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWF4VHJhbnNsYXRlKCkgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5zbGlkZXNTaXplc0dyaWQubGVuZ3RoIC0gMV0gOiBzd2lwZXIubWF4VHJhbnNsYXRlKCkpKSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgIGRpcmVjdGlvbjogJ25leHQnLFxuICAgICAgICBzZXRUcmFuc2xhdGU6IHRydWUsXG4gICAgICAgIGFjdGl2ZVNsaWRlSW5kZXg6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IE1hdGguY2VpbChwYXJzZUZsb2F0KHBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCkpKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHtcbiAgICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkge1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgKyAxIC0gKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIGRhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmKSAqKiByZXNpc3RhbmNlUmF0aW87XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkaXNhYmxlUGFyZW50U3dpcGVyKSB7XG4gICAgZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlciA9IHRydWU7XG4gIH1cblxuICAvLyBEaXJlY3Rpb25zIGxvY2tzXG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVOZXh0ICYmIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9XG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IGRhdGEuc3RhcnRUcmFuc2xhdGUpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9XG4gIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmICFzd2lwZXIuYWxsb3dTbGlkZU5leHQpIHtcbiAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICB9XG5cbiAgLy8gVGhyZXNob2xkXG4gIGlmIChwYXJhbXMudGhyZXNob2xkID4gMCkge1xuICAgIGlmIChNYXRoLmFicyhkaWZmKSA+IHBhcmFtcy50aHJlc2hvbGQgfHwgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgIGlmICghZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUpIHtcbiAgICAgICAgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgPSB0cnVlO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgICAgdG91Y2hlcy5kaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMuc3RhcnRZO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghcGFyYW1zLmZvbGxvd0ZpbmdlciB8fCBwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuXG4gIC8vIFVwZGF0ZSBhY3RpdmUgaW5kZXggaW4gZnJlZSBtb2RlXG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlIHx8IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoTW92ZSgpO1xuICB9XG4gIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbiAgLy8gVXBkYXRlIHRyYW5zbGF0ZVxuICBzd2lwZXIuc2V0VHJhbnNsYXRlKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hFbmQoZXZlbnQpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGxldCB0YXJnZXRUb3VjaDtcbiAgY29uc3QgaXNUb3VjaEV2ZW50ID0gZS50eXBlID09PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoY2FuY2VsJztcbiAgaWYgKCFpc1RvdWNoRXZlbnQpIHtcbiAgICBpZiAoZGF0YS50b3VjaElkICE9PSBudWxsKSByZXR1cm47IC8vIHJldHVybiBmcm9tIHBvaW50ZXIgaWYgd2UgdXNlIHRvdWNoXG4gICAgaWYgKGUucG9pbnRlcklkICE9PSBkYXRhLnBvaW50ZXJJZCkgcmV0dXJuO1xuICAgIHRhcmdldFRvdWNoID0gZTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRUb3VjaCA9IFsuLi5lLmNoYW5nZWRUb3VjaGVzXS5maWx0ZXIodCA9PiB0LmlkZW50aWZpZXIgPT09IGRhdGEudG91Y2hJZClbMF07XG4gICAgaWYgKCF0YXJnZXRUb3VjaCB8fCB0YXJnZXRUb3VjaC5pZGVudGlmaWVyICE9PSBkYXRhLnRvdWNoSWQpIHJldHVybjtcbiAgfVxuICBpZiAoWydwb2ludGVyY2FuY2VsJywgJ3BvaW50ZXJvdXQnLCAncG9pbnRlcmxlYXZlJywgJ2NvbnRleHRtZW51J10uaW5jbHVkZXMoZS50eXBlKSkge1xuICAgIGNvbnN0IHByb2NlZWQgPSBbJ3BvaW50ZXJjYW5jZWwnLCAnY29udGV4dG1lbnUnXS5pbmNsdWRlcyhlLnR5cGUpICYmIChzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSB8fCBzd2lwZXIuYnJvd3Nlci5pc1dlYlZpZXcpO1xuICAgIGlmICghcHJvY2VlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBkYXRhLnBvaW50ZXJJZCA9IG51bGw7XG4gIGRhdGEudG91Y2hJZCA9IG51bGw7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBpZiAoZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoRW5kJywgZSk7XG4gIH1cbiAgZGF0YS5hbGxvd1RvdWNoQ2FsbGJhY2tzID0gZmFsc2U7XG4gIGlmICghZGF0YS5pc1RvdWNoZWQpIHtcbiAgICBpZiAoZGF0YS5pc01vdmVkICYmIHBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gICAgfVxuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSZXR1cm4gR3JhYiBDdXJzb3JcbiAgaWYgKHBhcmFtcy5ncmFiQ3Vyc29yICYmIGRhdGEuaXNNb3ZlZCAmJiBkYXRhLmlzVG91Y2hlZCAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcihmYWxzZSk7XG4gIH1cblxuICAvLyBUaW1lIGRpZmZcbiAgY29uc3QgdG91Y2hFbmRUaW1lID0gbm93KCk7XG4gIGNvbnN0IHRpbWVEaWZmID0gdG91Y2hFbmRUaW1lIC0gZGF0YS50b3VjaFN0YXJ0VGltZTtcblxuICAvLyBUYXAsIGRvdWJsZVRhcCwgQ2xpY2tcbiAgaWYgKHN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgY29uc3QgcGF0aFRyZWUgPSBlLnBhdGggfHwgZS5jb21wb3NlZFBhdGggJiYgZS5jb21wb3NlZFBhdGgoKTtcbiAgICBzd2lwZXIudXBkYXRlQ2xpY2tlZFNsaWRlKHBhdGhUcmVlICYmIHBhdGhUcmVlWzBdIHx8IGUudGFyZ2V0LCBwYXRoVHJlZSk7XG4gICAgc3dpcGVyLmVtaXQoJ3RhcCBjbGljaycsIGUpO1xuICAgIGlmICh0aW1lRGlmZiA8IDMwMCAmJiB0b3VjaEVuZFRpbWUgLSBkYXRhLmxhc3RDbGlja1RpbWUgPCAzMDApIHtcbiAgICAgIHN3aXBlci5lbWl0KCdkb3VibGVUYXAgZG91YmxlQ2xpY2snLCBlKTtcbiAgICB9XG4gIH1cbiAgZGF0YS5sYXN0Q2xpY2tUaW1lID0gbm93KCk7XG4gIG5leHRUaWNrKCgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5kZXN0cm95ZWQpIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgfSk7XG4gIGlmICghZGF0YS5pc1RvdWNoZWQgfHwgIWRhdGEuaXNNb3ZlZCB8fCAhc3dpcGVyLnN3aXBlRGlyZWN0aW9uIHx8IHRvdWNoZXMuZGlmZiA9PT0gMCAmJiAhZGF0YS5sb29wU3dhcFJlc2V0IHx8IGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9PT0gZGF0YS5zdGFydFRyYW5zbGF0ZSAmJiAhZGF0YS5sb29wU3dhcFJlc2V0KSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gIGxldCBjdXJyZW50UG9zO1xuICBpZiAocGFyYW1zLmZvbGxvd0Zpbmdlcikge1xuICAgIGN1cnJlbnRQb3MgPSBydGwgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudFBvcyA9IC1kYXRhLmN1cnJlbnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaEVuZCh7XG4gICAgICBjdXJyZW50UG9zXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmluZCBjdXJyZW50IHNsaWRlXG4gIGNvbnN0IHN3aXBlVG9MYXN0ID0gY3VycmVudFBvcyA+PSAtc3dpcGVyLm1heFRyYW5zbGF0ZSgpICYmICFzd2lwZXIucGFyYW1zLmxvb3A7XG4gIGxldCBzdG9wSW5kZXggPSAwO1xuICBsZXQgZ3JvdXBTaXplID0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFswXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXApIHtcbiAgICBjb25zdCBpbmNyZW1lbnQgPSBpIDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzd2lwZVRvTGFzdCB8fCBjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0gJiYgY3VycmVudFBvcyA8IHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0pIHtcbiAgICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSAtIHNsaWRlc0dyaWRbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzd2lwZVRvTGFzdCB8fCBjdXJyZW50UG9zID49IHNsaWRlc0dyaWRbaV0pIHtcbiAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMV0gLSBzbGlkZXNHcmlkW3NsaWRlc0dyaWQubGVuZ3RoIC0gMl07XG4gICAgfVxuICB9XG4gIGxldCByZXdpbmRGaXJzdEluZGV4ID0gbnVsbDtcbiAgbGV0IHJld2luZExhc3RJbmRleCA9IG51bGw7XG4gIGlmIChwYXJhbXMucmV3aW5kKSB7XG4gICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgcmV3aW5kTGFzdEluZGV4ID0gcGFyYW1zLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiBzd2lwZXIudmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggLSAxIDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxO1xuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRW5kKSB7XG4gICAgICByZXdpbmRGaXJzdEluZGV4ID0gMDtcbiAgICB9XG4gIH1cbiAgLy8gRmluZCBjdXJyZW50IHNsaWRlIHNpemVcbiAgY29uc3QgcmF0aW8gPSAoY3VycmVudFBvcyAtIHNsaWRlc0dyaWRbc3RvcEluZGV4XSkgLyBncm91cFNpemU7XG4gIGNvbnN0IGluY3JlbWVudCA9IHN0b3BJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgaWYgKHRpbWVEaWZmID4gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgIC8vIExvbmcgdG91Y2hlc1xuICAgIGlmICghcGFyYW1zLmxvbmdTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgaWYgKHJhdGlvID49IHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHN3aXBlci5zbGlkZVRvKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzRW5kID8gcmV3aW5kRmlyc3RJbmRleCA6IHN0b3BJbmRleCArIGluY3JlbWVudCk7ZWxzZSBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIGlmIChyYXRpbyA+IDEgLSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCAmJiByYXRpbyA8IDAgJiYgTWF0aC5hYnMocmF0aW8pID4gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gU2hvcnQgc3dpcGVzXG4gICAgaWYgKCFwYXJhbXMuc2hvcnRTd2lwZXMpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzTmF2QnV0dG9uVGFyZ2V0ID0gc3dpcGVyLm5hdmlnYXRpb24gJiYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgfHwgZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCk7XG4gICAgaWYgKCFpc05hdkJ1dHRvblRhcmdldCkge1xuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZEZpcnN0SW5kZXggIT09IG51bGwgPyByZXdpbmRGaXJzdEluZGV4IDogc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRMYXN0SW5kZXggIT09IG51bGwgPyByZXdpbmRMYXN0SW5kZXggOiBzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgZWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKGVsICYmIGVsLm9mZnNldFdpZHRoID09PSAwKSByZXR1cm47XG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gIH1cblxuICAvLyBTYXZlIGxvY2tzXG4gIGNvbnN0IHtcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcblxuICAvLyBEaXNhYmxlIGxvY2tzIG9uIHJlc2l6ZVxuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIGNvbnN0IGlzVmlydHVhbExvb3AgPSBpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3A7XG4gIGlmICgocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyB8fCBwYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIHN3aXBlci5pc0VuZCAmJiAhc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmICFpc1ZpcnR1YWxMb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiAhaXNWaXJ0dWFsKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0xvb3Aoc3dpcGVyLnJlYWxJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgY2xlYXJUaW1lb3V0KHN3aXBlci5hdXRvcGxheS5yZXNpemVUaW1lb3V0KTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHN3aXBlci5hdXRvcGxheSAmJiBzd2lwZXIuYXV0b3BsYXkucnVubmluZyAmJiBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICAgIHN3aXBlci5hdXRvcGxheS5yZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICB9XG4gIC8vIFJldHVybiBsb2NrcyBhZnRlciByZXNpemVcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHNuYXBHcmlkICE9PSBzd2lwZXIuc25hcEdyaWQpIHtcbiAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gIGlmICghc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uICYmIHN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHdyYXBwZXJFbCxcbiAgICBydGxUcmFuc2xhdGUsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgc3dpcGVyLnByZXZpb3VzVHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbExlZnQ7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsVG9wO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAoc3dpcGVyLnRyYW5zbGF0ZSA9PT0gMCkgc3dpcGVyLnRyYW5zbGF0ZSA9IDA7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBsZXQgbmV3UHJvZ3Jlc3M7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAoc3dpcGVyLnRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuICBpZiAobmV3UHJvZ3Jlc3MgIT09IHN3aXBlci5wcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhydGxUcmFuc2xhdGUgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGUpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdzZXRUcmFuc2xhdGUnLCBzd2lwZXIudHJhbnNsYXRlLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIG9uTG9hZChlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgZS50YXJnZXQpO1xuICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlIHx8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmICFzd2lwZXIucGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLnVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBvbkRvY3VtZW50VG91Y2hTdGFydCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kb2N1bWVudFRvdWNoSGFuZGxlclByb2NlZWRlZCkgcmV0dXJuO1xuICBzd2lwZXIuZG9jdW1lbnRUb3VjaEhhbmRsZXJQcm9jZWVkZWQgPSB0cnVlO1xuICBpZiAoc3dpcGVyLnBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgc3dpcGVyLmVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ2F1dG8nO1xuICB9XG59XG5cbmNvbnN0IGV2ZW50cyA9IChzd2lwZXIsIG1ldGhvZCkgPT4ge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgZWwsXG4gICAgd3JhcHBlckVsLFxuICAgIGRldmljZVxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBjYXB0dXJlID0gISFwYXJhbXMubmVzdGVkO1xuICBjb25zdCBkb21NZXRob2QgPSBtZXRob2QgPT09ICdvbicgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gIGNvbnN0IHN3aXBlck1ldGhvZCA9IG1ldGhvZDtcblxuICAvLyBUb3VjaCBFdmVudHNcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2hzdGFydCcsIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3BvaW50ZXJkb3duJywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaG1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoZW5kJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVydXAnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJjYW5jZWwnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyb3V0Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybGVhdmUnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ2NvbnRleHRtZW51Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuXG4gIC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG4gIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgZWxbZG9tTWV0aG9kXSgnY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW2RvbU1ldGhvZF0oJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH1cblxuICAvLyBSZXNpemUgaGFuZGxlclxuICBpZiAocGFyYW1zLnVwZGF0ZU9uV2luZG93UmVzaXplKSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oZGV2aWNlLmlvcyB8fCBkZXZpY2UuYW5kcm9pZCA/ICdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGUnIDogJ3Jlc2l6ZSBvYnNlcnZlclVwZGF0ZScsIG9uUmVzaXplLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXJbc3dpcGVyTWV0aG9kXSgnb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH1cblxuICAvLyBJbWFnZXMgbG9hZGVyXG4gIGVsW2RvbU1ldGhvZF0oJ2xvYWQnLCBzd2lwZXIub25Mb2FkLCB7XG4gICAgY2FwdHVyZTogdHJ1ZVxuICB9KTtcbn07XG5mdW5jdGlvbiBhdHRhY2hFdmVudHMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLm9uVG91Y2hTdGFydCA9IG9uVG91Y2hTdGFydC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoTW92ZSA9IG9uVG91Y2hNb3ZlLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hFbmQgPSBvblRvdWNoRW5kLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uRG9jdW1lbnRUb3VjaFN0YXJ0ID0gb25Eb2N1bWVudFRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIub25TY3JvbGwgPSBvblNjcm9sbC5iaW5kKHN3aXBlcik7XG4gIH1cbiAgc3dpcGVyLm9uQ2xpY2sgPSBvbkNsaWNrLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uTG9hZCA9IG9uTG9hZC5iaW5kKHN3aXBlcik7XG4gIGV2ZW50cyhzd2lwZXIsICdvbicpO1xufVxuZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBldmVudHMoc3dpcGVyLCAnb2ZmJyk7XG59XG52YXIgZXZlbnRzJDEgPSB7XG4gIGF0dGFjaEV2ZW50cyxcbiAgZGV0YWNoRXZlbnRzXG59O1xuXG5jb25zdCBpc0dyaWRFbmFibGVkID0gKHN3aXBlciwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbn07XG5mdW5jdGlvbiBzZXRCcmVha3BvaW50KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcmVhbEluZGV4LFxuICAgIGluaXRpYWxpemVkLFxuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgaWYgKCFicmVha3BvaW50cyB8fCBicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgLy8gR2V0IGJyZWFrcG9pbnQgZm9yIHdpbmRvdyB3aWR0aCBhbmQgdXBkYXRlIHBhcmFtZXRlcnNcbiAgY29uc3QgYnJlYWtwb2ludCA9IHN3aXBlci5nZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzQmFzZSwgc3dpcGVyLmVsKTtcbiAgaWYgKCFicmVha3BvaW50IHx8IHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkgcmV0dXJuO1xuICBjb25zdCBicmVha3BvaW50T25seVBhcmFtcyA9IGJyZWFrcG9pbnQgaW4gYnJlYWtwb2ludHMgPyBicmVha3BvaW50c1ticmVha3BvaW50XSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgYnJlYWtwb2ludFBhcmFtcyA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zIHx8IHN3aXBlci5vcmlnaW5hbFBhcmFtcztcbiAgY29uc3Qgd2FzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgcGFyYW1zKTtcbiAgY29uc3QgaXNNdWx0aVJvdyA9IGlzR3JpZEVuYWJsZWQoc3dpcGVyLCBicmVha3BvaW50UGFyYW1zKTtcbiAgY29uc3Qgd2FzRW5hYmxlZCA9IHBhcmFtcy5lbmFibGVkO1xuICBpZiAod2FzTXVsdGlSb3cgJiYgIWlzTXVsdGlSb3cpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgLCBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9IGVsc2UgaWYgKCF3YXNNdWx0aVJvdyAmJiBpc011bHRpUm93KSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCk7XG4gICAgaWYgKGJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsICYmIGJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJyB8fCAhYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH1cblxuICAvLyBUb2dnbGUgbmF2aWdhdGlvbiwgcGFnaW5hdGlvbiwgc2Nyb2xsYmFyXG4gIFsnbmF2aWdhdGlvbicsICdwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgaWYgKHR5cGVvZiBicmVha3BvaW50UGFyYW1zW3Byb3BdID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGNvbnN0IHdhc01vZHVsZUVuYWJsZWQgPSBwYXJhbXNbcHJvcF0gJiYgcGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNNb2R1bGVFbmFibGVkID0gYnJlYWtwb2ludFBhcmFtc1twcm9wXSAmJiBicmVha3BvaW50UGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgaWYgKHdhc01vZHVsZUVuYWJsZWQgJiYgIWlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmRpc2FibGUoKTtcbiAgICB9XG4gICAgaWYgKCF3YXNNb2R1bGVFbmFibGVkICYmIGlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGRpcmVjdGlvbkNoYW5nZWQgPSBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAmJiBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAhPT0gcGFyYW1zLmRpcmVjdGlvbjtcbiAgY29uc3QgbmVlZHNSZUxvb3AgPSBwYXJhbXMubG9vcCAmJiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSBwYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBkaXJlY3Rpb25DaGFuZ2VkKTtcbiAgY29uc3Qgd2FzTG9vcCA9IHBhcmFtcy5sb29wO1xuICBpZiAoZGlyZWN0aW9uQ2hhbmdlZCAmJiBpbml0aWFsaXplZCkge1xuICAgIHN3aXBlci5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgfVxuICBleHRlbmQoc3dpcGVyLnBhcmFtcywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IGlzRW5hYmxlZCA9IHN3aXBlci5wYXJhbXMuZW5hYmxlZDtcbiAgY29uc3QgaGFzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldlxuICB9KTtcbiAgaWYgKHdhc0VuYWJsZWQgJiYgIWlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5kaXNhYmxlKCk7XG4gIH0gZWxzZSBpZiAoIXdhc0VuYWJsZWQgJiYgaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmVuYWJsZSgpO1xuICB9XG4gIHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9IGJyZWFrcG9pbnQ7XG4gIHN3aXBlci5lbWl0KCdfYmVmb3JlQnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICBpZiAobmVlZHNSZUxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUocmVhbEluZGV4KTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2UgaWYgKCF3YXNMb29wICYmIGhhc0xvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICh3YXNMb29wICYmICFoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2JyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYmFzZSwgY29udGFpbmVyRWwpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnd2luZG93JztcbiAgfVxuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJhc2UgPT09ICdjb250YWluZXInICYmICFjb250YWluZXJFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IGJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBiYXNlID09PSAnd2luZG93JyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgY29uc3QgcG9pbnRzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLm1hcChwb2ludCA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb2ludCA9PT0gJ3N0cmluZycgJiYgcG9pbnQuaW5kZXhPZignQCcpID09PSAwKSB7XG4gICAgICBjb25zdCBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBvaW50XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHBvaW50LFxuICAgICAgcG9pbnRcbiAgICB9O1xuICB9KTtcbiAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHBhcnNlSW50KGEudmFsdWUsIDEwKSAtIHBhcnNlSW50KGIudmFsdWUsIDEwKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qge1xuICAgICAgcG9pbnQsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBwb2ludHNbaV07XG4gICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7dmFsdWV9cHgpYCkubWF0Y2hlcykge1xuICAgICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8PSBjb250YWluZXJFbC5jbGllbnRXaWR0aCkge1xuICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYnJlYWtwb2ludCB8fCAnbWF4Jztcbn1cblxudmFyIGJyZWFrcG9pbnRzID0ge1xuICBzZXRCcmVha3BvaW50LFxuICBnZXRCcmVha3BvaW50XG59O1xuXG5mdW5jdGlvbiBwcmVwYXJlQ2xhc3NlcyhlbnRyaWVzLCBwcmVmaXgpIHtcbiAgY29uc3QgcmVzdWx0Q2xhc3NlcyA9IFtdO1xuICBlbnRyaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChjbGFzc05hbWVzID0+IHtcbiAgICAgICAgaWYgKGl0ZW1bY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgY2xhc3NOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgaXRlbSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdENsYXNzZXM7XG59XG5mdW5jdGlvbiBhZGRDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lcyxcbiAgICBwYXJhbXMsXG4gICAgcnRsLFxuICAgIGVsLFxuICAgIGRldmljZVxuICB9ID0gc3dpcGVyO1xuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgY29uc3Qgc3VmZml4ZXMgPSBwcmVwYXJlQ2xhc3NlcyhbJ2luaXRpYWxpemVkJywgcGFyYW1zLmRpcmVjdGlvbiwge1xuICAgICdmcmVlLW1vZGUnOiBzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkXG4gIH0sIHtcbiAgICAnYXV0b2hlaWdodCc6IHBhcmFtcy5hdXRvSGVpZ2h0XG4gIH0sIHtcbiAgICAncnRsJzogcnRsXG4gIH0sIHtcbiAgICAnZ3JpZCc6IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxXG4gIH0sIHtcbiAgICAnZ3JpZC1jb2x1bW4nOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJ1xuICB9LCB7XG4gICAgJ2FuZHJvaWQnOiBkZXZpY2UuYW5kcm9pZFxuICB9LCB7XG4gICAgJ2lvcyc6IGRldmljZS5pb3NcbiAgfSwge1xuICAgICdjc3MtbW9kZSc6IHBhcmFtcy5jc3NNb2RlXG4gIH0sIHtcbiAgICAnY2VudGVyZWQnOiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNcbiAgfSwge1xuICAgICd3YXRjaC1wcm9ncmVzcyc6IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzXG4gIH1dLCBwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyk7XG4gIGNsYXNzTmFtZXMucHVzaCguLi5zdWZmaXhlcyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgZWwsXG4gICAgY2xhc3NOYW1lc1xuICB9ID0gc3dpcGVyO1xuICBlbC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzTmFtZXMpO1xuICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbn1cblxudmFyIGNsYXNzZXMgPSB7XG4gIGFkZENsYXNzZXMsXG4gIHJlbW92ZUNsYXNzZXNcbn07XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3coKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBpc0xvY2tlZDogd2FzTG9ja2VkLFxuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCB7XG4gICAgc2xpZGVzT2Zmc2V0QmVmb3JlXG4gIH0gPSBwYXJhbXM7XG4gIGlmIChzbGlkZXNPZmZzZXRCZWZvcmUpIHtcbiAgICBjb25zdCBsYXN0U2xpZGVJbmRleCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBsYXN0U2xpZGVSaWdodEVkZ2UgPSBzd2lwZXIuc2xpZGVzR3JpZFtsYXN0U2xpZGVJbmRleF0gKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2xhc3RTbGlkZUluZGV4XSArIHNsaWRlc09mZnNldEJlZm9yZSAqIDI7XG4gICAgc3dpcGVyLmlzTG9ja2VkID0gc3dpcGVyLnNpemUgPiBsYXN0U2xpZGVSaWdodEVkZ2U7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLmlzTG9ja2VkID0gc3dpcGVyLnNuYXBHcmlkLmxlbmd0aCA9PT0gMTtcbiAgfVxuICBpZiAocGFyYW1zLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gIXN3aXBlci5pc0xvY2tlZDtcbiAgfVxuICBpZiAocGFyYW1zLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gIXN3aXBlci5pc0xvY2tlZDtcbiAgfVxuICBpZiAod2FzTG9ja2VkICYmIHdhc0xvY2tlZCAhPT0gc3dpcGVyLmlzTG9ja2VkKSB7XG4gICAgc3dpcGVyLmlzRW5kID0gZmFsc2U7XG4gIH1cbiAgaWYgKHdhc0xvY2tlZCAhPT0gc3dpcGVyLmlzTG9ja2VkKSB7XG4gICAgc3dpcGVyLmVtaXQoc3dpcGVyLmlzTG9ja2VkID8gJ2xvY2snIDogJ3VubG9jaycpO1xuICB9XG59XG52YXIgY2hlY2tPdmVyZmxvdyQxID0ge1xuICBjaGVja092ZXJmbG93XG59O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGluaXQ6IHRydWUsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICBvbmVXYXlNb3ZlbWVudDogZmFsc2UsXG4gIHRvdWNoRXZlbnRzVGFyZ2V0OiAnd3JhcHBlcicsXG4gIGluaXRpYWxTbGlkZTogMCxcbiAgc3BlZWQ6IDMwMCxcbiAgY3NzTW9kZTogZmFsc2UsXG4gIHVwZGF0ZU9uV2luZG93UmVzaXplOiB0cnVlLFxuICByZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgbmVzdGVkOiBmYWxzZSxcbiAgY3JlYXRlRWxlbWVudHM6IGZhbHNlLFxuICBldmVudHNQcmVmaXg6ICdzd2lwZXInLFxuICBlbmFibGVkOiB0cnVlLFxuICBmb2N1c2FibGVFbGVtZW50czogJ2lucHV0LCBzZWxlY3QsIG9wdGlvbiwgdGV4dGFyZWEsIGJ1dHRvbiwgdmlkZW8sIGxhYmVsJyxcbiAgLy8gT3ZlcnJpZGVzXG4gIHdpZHRoOiBudWxsLFxuICBoZWlnaHQ6IG51bGwsXG4gIC8vXG4gIHByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbjogZmFsc2UsXG4gIC8vIHNzclxuICB1c2VyQWdlbnQ6IG51bGwsXG4gIHVybDogbnVsbCxcbiAgLy8gVG8gc3VwcG9ydCBpT1MncyBzd2lwZS10by1nby1iYWNrIGdlc3R1cmUgKHdoZW4gYmVpbmcgdXNlZCBpbi1hcHApLlxuICBlZGdlU3dpcGVEZXRlY3Rpb246IGZhbHNlLFxuICBlZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLFxuICAvLyBBdXRvaGVpZ2h0XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICAvLyBTZXQgd3JhcHBlciB3aWR0aFxuICBzZXRXcmFwcGVyU2l6ZTogZmFsc2UsXG4gIC8vIFZpcnR1YWwgVHJhbnNsYXRlXG4gIHZpcnR1YWxUcmFuc2xhdGU6IGZhbHNlLFxuICAvLyBFZmZlY3RzXG4gIGVmZmVjdDogJ3NsaWRlJyxcbiAgLy8gJ3NsaWRlJyBvciAnZmFkZScgb3IgJ2N1YmUnIG9yICdjb3ZlcmZsb3cnIG9yICdmbGlwJ1xuXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGJyZWFrcG9pbnRzOiB1bmRlZmluZWQsXG4gIGJyZWFrcG9pbnRzQmFzZTogJ3dpbmRvdycsXG4gIC8vIFNsaWRlcyBncmlkXG4gIHNwYWNlQmV0d2VlbjogMCxcbiAgc2xpZGVzUGVyVmlldzogMSxcbiAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gIHNsaWRlc1Blckdyb3VwU2tpcDogMCxcbiAgc2xpZGVzUGVyR3JvdXBBdXRvOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlc0JvdW5kczogZmFsc2UsXG4gIHNsaWRlc09mZnNldEJlZm9yZTogMCxcbiAgLy8gaW4gcHhcbiAgc2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG4gIC8vIGluIHB4XG4gIG5vcm1hbGl6ZVNsaWRlSW5kZXg6IHRydWUsXG4gIGNlbnRlckluc3VmZmljaWVudFNsaWRlczogZmFsc2UsXG4gIC8vIERpc2FibGUgc3dpcGVyIGFuZCBoaWRlIG5hdmlnYXRpb24gd2hlbiBjb250YWluZXIgbm90IG92ZXJmbG93XG4gIHdhdGNoT3ZlcmZsb3c6IHRydWUsXG4gIC8vIFJvdW5kIGxlbmd0aFxuICByb3VuZExlbmd0aHM6IGZhbHNlLFxuICAvLyBUb3VjaGVzXG4gIHRvdWNoUmF0aW86IDEsXG4gIHRvdWNoQW5nbGU6IDQ1LFxuICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxuICBzaG9ydFN3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlczogdHJ1ZSxcbiAgbG9uZ1N3aXBlc1JhdGlvOiAwLjUsXG4gIGxvbmdTd2lwZXNNczogMzAwLFxuICBmb2xsb3dGaW5nZXI6IHRydWUsXG4gIGFsbG93VG91Y2hNb3ZlOiB0cnVlLFxuICB0aHJlc2hvbGQ6IDUsXG4gIHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogZmFsc2UsXG4gIHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgdG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQ6IGZhbHNlLFxuICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgLy8gVW5pcXVlIE5hdmlnYXRpb24gRWxlbWVudHNcbiAgdW5pcXVlTmF2RWxlbWVudHM6IHRydWUsXG4gIC8vIFJlc2lzdGFuY2VcbiAgcmVzaXN0YW5jZTogdHJ1ZSxcbiAgcmVzaXN0YW5jZVJhdGlvOiAwLjg1LFxuICAvLyBQcm9ncmVzc1xuICB3YXRjaFNsaWRlc1Byb2dyZXNzOiBmYWxzZSxcbiAgLy8gQ3Vyc29yXG4gIGdyYWJDdXJzb3I6IGZhbHNlLFxuICAvLyBDbGlja3NcbiAgcHJldmVudENsaWNrczogdHJ1ZSxcbiAgcHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiB0cnVlLFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZSxcbiAgLy8gbG9vcFxuICBsb29wOiBmYWxzZSxcbiAgbG9vcEFkZEJsYW5rU2xpZGVzOiB0cnVlLFxuICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgbG9vcFByZXZlbnRzU2xpZGluZzogdHJ1ZSxcbiAgLy8gcmV3aW5kXG4gIHJld2luZDogZmFsc2UsXG4gIC8vIFN3aXBpbmcvbm8gc3dpcGluZ1xuICBhbGxvd1NsaWRlUHJldjogdHJ1ZSxcbiAgYWxsb3dTbGlkZU5leHQ6IHRydWUsXG4gIHN3aXBlSGFuZGxlcjogbnVsbCxcbiAgLy8gJy5zd2lwZS1oYW5kbGVyJyxcbiAgbm9Td2lwaW5nOiB0cnVlLFxuICBub1N3aXBpbmdDbGFzczogJ3N3aXBlci1uby1zd2lwaW5nJyxcbiAgbm9Td2lwaW5nU2VsZWN0b3I6IG51bGwsXG4gIC8vIFBhc3NpdmUgTGlzdGVuZXJzXG4gIHBhc3NpdmVMaXN0ZW5lcnM6IHRydWUsXG4gIG1heEJhY2tmYWNlSGlkZGVuU2xpZGVzOiAxMCxcbiAgLy8gTlNcbiAgY29udGFpbmVyTW9kaWZpZXJDbGFzczogJ3N3aXBlci0nLFxuICAvLyBORVdcbiAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXG4gIHNsaWRlQmxhbmtDbGFzczogJ3N3aXBlci1zbGlkZS1ibGFuaycsXG4gIHNsaWRlQWN0aXZlQ2xhc3M6ICdzd2lwZXItc2xpZGUtYWN0aXZlJyxcbiAgc2xpZGVWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtdmlzaWJsZScsXG4gIHNsaWRlRnVsbHlWaXNpYmxlQ2xhc3M6ICdzd2lwZXItc2xpZGUtZnVsbHktdmlzaWJsZScsXG4gIHNsaWRlTmV4dENsYXNzOiAnc3dpcGVyLXNsaWRlLW5leHQnLFxuICBzbGlkZVByZXZDbGFzczogJ3N3aXBlci1zbGlkZS1wcmV2JyxcbiAgd3JhcHBlckNsYXNzOiAnc3dpcGVyLXdyYXBwZXInLFxuICBsYXp5UHJlbG9hZGVyQ2xhc3M6ICdzd2lwZXItbGF6eS1wcmVsb2FkZXInLFxuICBsYXp5UHJlbG9hZFByZXZOZXh0OiAwLFxuICAvLyBDYWxsYmFja3NcbiAgcnVuQ2FsbGJhY2tzT25Jbml0OiB0cnVlLFxuICAvLyBJbnRlcm5hbHNcbiAgX2VtaXRDbGFzc2VzOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gbW9kdWxlRXh0ZW5kUGFyYW1zKHBhcmFtcywgYWxsTW9kdWxlc1BhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24gZXh0ZW5kUGFyYW1zKG9iaikge1xuICAgIGlmIChvYmogPT09IHZvaWQgMCkge1xuICAgICAgb2JqID0ge307XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZVBhcmFtTmFtZSA9IE9iamVjdC5rZXlzKG9iailbMF07XG4gICAgY29uc3QgbW9kdWxlUGFyYW1zID0gb2JqW21vZHVsZVBhcmFtTmFtZV07XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVQYXJhbXMgIT09ICdvYmplY3QnIHx8IG1vZHVsZVBhcmFtcyA9PT0gbnVsbCkge1xuICAgICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChtb2R1bGVQYXJhbU5hbWUgPT09ICduYXZpZ2F0aW9uJyAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5wcmV2RWwgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLm5leHRFbCkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uYXV0byA9IHRydWU7XG4gICAgfVxuICAgIGlmIChbJ3BhZ2luYXRpb24nLCAnc2Nyb2xsYmFyJ10uaW5kZXhPZihtb2R1bGVQYXJhbU5hbWUpID49IDAgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZWwpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmF1dG8gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIShtb2R1bGVQYXJhbU5hbWUgaW4gcGFyYW1zICYmICdlbmFibGVkJyBpbiBtb2R1bGVQYXJhbXMpKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9PT0gJ29iamVjdCcgJiYgISgnZW5hYmxlZCcgaW4gcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPSB7XG4gICAgICBlbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gIH07XG59XG5cbi8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogXCJvZmZcIiAqL1xuY29uc3QgcHJvdG90eXBlcyA9IHtcbiAgZXZlbnRzRW1pdHRlcixcbiAgdXBkYXRlLFxuICB0cmFuc2xhdGUsXG4gIHRyYW5zaXRpb24sXG4gIHNsaWRlLFxuICBsb29wLFxuICBncmFiQ3Vyc29yLFxuICBldmVudHM6IGV2ZW50cyQxLFxuICBicmVha3BvaW50cyxcbiAgY2hlY2tPdmVyZmxvdzogY2hlY2tPdmVyZmxvdyQxLFxuICBjbGFzc2VzXG59O1xuY29uc3QgZXh0ZW5kZWREZWZhdWx0cyA9IHt9O1xuY2xhc3MgU3dpcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IGVsO1xuICAgIGxldCBwYXJhbXM7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXS5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnc1swXSkuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jykge1xuICAgICAgcGFyYW1zID0gYXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgW2VsLCBwYXJhbXNdID0gYXJncztcbiAgICB9XG4gICAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9IHt9O1xuICAgIHBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTtcbiAgICBpZiAoZWwgJiYgIXBhcmFtcy5lbCkgcGFyYW1zLmVsID0gZWw7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGlmIChwYXJhbXMuZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHN3aXBlcnMgPSBbXTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5mb3JFYWNoKGNvbnRhaW5lckVsID0+IHtcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgICBlbDogY29udGFpbmVyRWxcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlcnMucHVzaChuZXcgU3dpcGVyKG5ld1BhcmFtcykpO1xuICAgICAgfSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgICByZXR1cm4gc3dpcGVycztcbiAgICB9XG5cbiAgICAvLyBTd2lwZXIgSW5zdGFuY2VcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIHN3aXBlci5fX3N3aXBlcl9fID0gdHJ1ZTtcbiAgICBzd2lwZXIuc3VwcG9ydCA9IGdldFN1cHBvcnQoKTtcbiAgICBzd2lwZXIuZGV2aWNlID0gZ2V0RGV2aWNlKHtcbiAgICAgIHVzZXJBZ2VudDogcGFyYW1zLnVzZXJBZ2VudFxuICAgIH0pO1xuICAgIHN3aXBlci5icm93c2VyID0gZ2V0QnJvd3NlcigpO1xuICAgIHN3aXBlci5ldmVudHNMaXN0ZW5lcnMgPSB7fTtcbiAgICBzd2lwZXIuZXZlbnRzQW55TGlzdGVuZXJzID0gW107XG4gICAgc3dpcGVyLm1vZHVsZXMgPSBbLi4uc3dpcGVyLl9fbW9kdWxlc19fXTtcbiAgICBpZiAocGFyYW1zLm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShwYXJhbXMubW9kdWxlcykpIHtcbiAgICAgIHN3aXBlci5tb2R1bGVzLnB1c2goLi4ucGFyYW1zLm1vZHVsZXMpO1xuICAgIH1cbiAgICBjb25zdCBhbGxNb2R1bGVzUGFyYW1zID0ge307XG4gICAgc3dpcGVyLm1vZHVsZXMuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgbW9kKHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBzd2lwZXIsXG4gICAgICAgIGV4dGVuZFBhcmFtczogbW9kdWxlRXh0ZW5kUGFyYW1zKHBhcmFtcywgYWxsTW9kdWxlc1BhcmFtcyksXG4gICAgICAgIG9uOiBzd2lwZXIub24uYmluZChzd2lwZXIpLFxuICAgICAgICBvbmNlOiBzd2lwZXIub25jZS5iaW5kKHN3aXBlciksXG4gICAgICAgIG9mZjogc3dpcGVyLm9mZi5iaW5kKHN3aXBlciksXG4gICAgICAgIGVtaXQ6IHN3aXBlci5lbWl0LmJpbmQoc3dpcGVyKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBtb2R1bGVzIHBhcmFtc1xuICAgIGNvbnN0IHN3aXBlclBhcmFtcyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGFsbE1vZHVsZXNQYXJhbXMpO1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggcGFzc2VkIHBhcmFtc1xuICAgIHN3aXBlci5wYXJhbXMgPSBleHRlbmQoe30sIHN3aXBlclBhcmFtcywgZXh0ZW5kZWREZWZhdWx0cywgcGFyYW1zKTtcbiAgICBzd2lwZXIub3JpZ2luYWxQYXJhbXMgPSBleHRlbmQoe30sIHN3aXBlci5wYXJhbXMpO1xuICAgIHN3aXBlci5wYXNzZWRQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcyk7XG5cbiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbikge1xuICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnBhcmFtcy5vbikuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICBzd2lwZXIub24oZXZlbnROYW1lLCBzd2lwZXIucGFyYW1zLm9uW2V2ZW50TmFtZV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub25BbnkpIHtcbiAgICAgIHN3aXBlci5vbkFueShzd2lwZXIucGFyYW1zLm9uQW55KTtcbiAgICB9XG5cbiAgICAvLyBFeHRlbmQgU3dpcGVyXG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICAgIGVuYWJsZWQ6IHN3aXBlci5wYXJhbXMuZW5hYmxlZCxcbiAgICAgIGVsLFxuICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lczogW10sXG4gICAgICAvLyBTbGlkZXNcbiAgICAgIHNsaWRlczogW10sXG4gICAgICBzbGlkZXNHcmlkOiBbXSxcbiAgICAgIHNuYXBHcmlkOiBbXSxcbiAgICAgIHNsaWRlc1NpemVzR3JpZDogW10sXG4gICAgICAvLyBpc0RpcmVjdGlvblxuICAgICAgaXNIb3Jpem9udGFsKCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJztcbiAgICAgIH0sXG4gICAgICBpc1ZlcnRpY2FsKCkge1xuICAgICAgICByZXR1cm4gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCc7XG4gICAgICB9LFxuICAgICAgLy8gSW5kZXhlc1xuICAgICAgYWN0aXZlSW5kZXg6IDAsXG4gICAgICByZWFsSW5kZXg6IDAsXG4gICAgICAvL1xuICAgICAgaXNCZWdpbm5pbmc6IHRydWUsXG4gICAgICBpc0VuZDogZmFsc2UsXG4gICAgICAvLyBQcm9wc1xuICAgICAgdHJhbnNsYXRlOiAwLFxuICAgICAgcHJldmlvdXNUcmFuc2xhdGU6IDAsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgYW5pbWF0aW5nOiBmYWxzZSxcbiAgICAgIGNzc092ZXJmbG93QWRqdXN0bWVudCgpIHtcbiAgICAgICAgLy8gUmV0dXJucyAwIHVubGVzcyBgdHJhbnNsYXRlYCBpcyA+IDIqKjIzXG4gICAgICAgIC8vIFNob3VsZCBiZSBzdWJ0cmFjdGVkIGZyb20gY3NzIHZhbHVlcyB0byBwcmV2ZW50IG92ZXJmbG93XG4gICAgICAgIHJldHVybiBNYXRoLnRydW5jKHRoaXMudHJhbnNsYXRlIC8gMiAqKiAyMykgKiAyICoqIDIzO1xuICAgICAgfSxcbiAgICAgIC8vIExvY2tzXG4gICAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICAgIGFsbG93U2xpZGVQcmV2OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVQcmV2LFxuICAgICAgLy8gVG91Y2ggRXZlbnRzXG4gICAgICB0b3VjaEV2ZW50c0RhdGE6IHtcbiAgICAgICAgaXNUb3VjaGVkOiB1bmRlZmluZWQsXG4gICAgICAgIGlzTW92ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUb3VjaENhbGxiYWNrczogdW5kZWZpbmVkLFxuICAgICAgICB0b3VjaFN0YXJ0VGltZTogdW5kZWZpbmVkLFxuICAgICAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgICAgICBjdXJyZW50VHJhbnNsYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0VHJhbnNsYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIGFsbG93VGhyZXNob2xkTW92ZTogdW5kZWZpbmVkLFxuICAgICAgICAvLyBGb3JtIGVsZW1lbnRzIHRvIG1hdGNoXG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzOiBzd2lwZXIucGFyYW1zLmZvY3VzYWJsZUVsZW1lbnRzLFxuICAgICAgICAvLyBMYXN0IGNsaWNrIHRpbWVcbiAgICAgICAgbGFzdENsaWNrVGltZTogMCxcbiAgICAgICAgY2xpY2tUaW1lb3V0OiB1bmRlZmluZWQsXG4gICAgICAgIC8vIFZlbG9jaXRpZXNcbiAgICAgICAgdmVsb2NpdGllczogW10sXG4gICAgICAgIGFsbG93TW9tZW50dW1Cb3VuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcG9pbnRlcklkOiBudWxsLFxuICAgICAgICB0b3VjaElkOiBudWxsXG4gICAgICB9LFxuICAgICAgLy8gQ2xpY2tzXG4gICAgICBhbGxvd0NsaWNrOiB0cnVlLFxuICAgICAgLy8gVG91Y2hlc1xuICAgICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgICB0b3VjaGVzOiB7XG4gICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgc3RhcnRZOiAwLFxuICAgICAgICBjdXJyZW50WDogMCxcbiAgICAgICAgY3VycmVudFk6IDAsXG4gICAgICAgIGRpZmY6IDBcbiAgICAgIH0sXG4gICAgICAvLyBJbWFnZXNcbiAgICAgIGltYWdlc1RvTG9hZDogW10sXG4gICAgICBpbWFnZXNMb2FkZWQ6IDBcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX3N3aXBlcicpO1xuXG4gICAgLy8gSW5pdFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmluaXQpIHtcbiAgICAgIHN3aXBlci5pbml0KCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFwcCBpbnN0YW5jZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGdldERpcmVjdGlvbkxhYmVsKHByb3BlcnR5KSB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6ICdoZWlnaHQnLFxuICAgICAgJ21hcmdpbi10b3AnOiAnbWFyZ2luLWxlZnQnLFxuICAgICAgJ21hcmdpbi1ib3R0b20gJzogJ21hcmdpbi1yaWdodCcsXG4gICAgICAnbWFyZ2luLWxlZnQnOiAnbWFyZ2luLXRvcCcsXG4gICAgICAnbWFyZ2luLXJpZ2h0JzogJ21hcmdpbi1ib3R0b20nLFxuICAgICAgJ3BhZGRpbmctbGVmdCc6ICdwYWRkaW5nLXRvcCcsXG4gICAgICAncGFkZGluZy1yaWdodCc6ICdwYWRkaW5nLWJvdHRvbScsXG4gICAgICAnbWFyZ2luUmlnaHQnOiAnbWFyZ2luQm90dG9tJ1xuICAgIH1bcHJvcGVydHldO1xuICB9XG4gIGdldFNsaWRlSW5kZXgoc2xpZGVFbCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc0VsLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5kZXggPSBlbGVtZW50SW5kZXgoc2xpZGVzWzBdKTtcbiAgICByZXR1cm4gZWxlbWVudEluZGV4KHNsaWRlRWwpIC0gZmlyc3RTbGlkZUluZGV4O1xuICB9XG4gIGdldFNsaWRlSW5kZXhCeURhdGEoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTbGlkZUluZGV4KHRoaXMuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gaW5kZXgpWzBdKTtcbiAgfVxuICByZWNhbGNTbGlkZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNFbCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgc3dpcGVyLnNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSB0cnVlO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdlbmFibGUnKTtcbiAgfVxuICBkaXNhYmxlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZGlzYWJsZScpO1xuICB9XG4gIHNldFByb2dyZXNzKHByb2dyZXNzLCBzcGVlZCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgcHJvZ3Jlc3MgPSBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEpO1xuICAgIGNvbnN0IG1pbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgICBjb25zdCBtYXggPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgY29uc3QgY3VycmVudCA9IChtYXggLSBtaW4pICogcHJvZ3Jlc3MgKyBtaW47XG4gICAgc3dpcGVyLnRyYW5zbGF0ZVRvKGN1cnJlbnQsIHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogc3BlZWQpO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgZW1pdENvbnRhaW5lckNsYXNzZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICBjb25zdCBjbHMgPSBzd2lwZXIuZWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGNsYXNzTmFtZSA9PiB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3N3aXBlcicpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcykgPT09IDA7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19jb250YWluZXJDbGFzc2VzJywgY2xzLmpvaW4oJyAnKSk7XG4gIH1cbiAgZ2V0U2xpZGVDbGFzc2VzKHNsaWRlRWwpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIHNsaWRlRWwuY2xhc3NOYW1lLnNwbGl0KCcgJykuZmlsdGVyKGNsYXNzTmFtZSA9PiB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3N3aXBlci1zbGlkZScpID09PSAwIHx8IGNsYXNzTmFtZS5pbmRleE9mKHN3aXBlci5wYXJhbXMuc2xpZGVDbGFzcykgPT09IDA7XG4gICAgfSkuam9pbignICcpO1xuICB9XG4gIGVtaXRTbGlkZXNDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBzd2lwZXIuZ2V0U2xpZGVDbGFzc2VzKHNsaWRlRWwpO1xuICAgICAgdXBkYXRlcy5wdXNoKHtcbiAgICAgICAgc2xpZGVFbCxcbiAgICAgICAgY2xhc3NOYW1lc1xuICAgICAgfSk7XG4gICAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3MnLCBzbGlkZUVsLCBjbGFzc05hbWVzKTtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX3NsaWRlQ2xhc3NlcycsIHVwZGF0ZXMpO1xuICB9XG4gIHNsaWRlc1BlclZpZXdEeW5hbWljKHZpZXcsIGV4YWN0KSB7XG4gICAgaWYgKHZpZXcgPT09IHZvaWQgMCkge1xuICAgICAgdmlldyA9ICdjdXJyZW50JztcbiAgICB9XG4gICAgaWYgKGV4YWN0ID09PSB2b2lkIDApIHtcbiAgICAgIGV4YWN0ID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgc2xpZGVzLFxuICAgICAgc2xpZGVzR3JpZCxcbiAgICAgIHNsaWRlc1NpemVzR3JpZCxcbiAgICAgIHNpemU6IHN3aXBlclNpemUsXG4gICAgICBhY3RpdmVJbmRleFxuICAgIH0gPSBzd2lwZXI7XG4gICAgbGV0IHNwdiA9IDE7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ251bWJlcicpIHJldHVybiBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBsZXQgc2xpZGVTaXplID0gc2xpZGVzW2FjdGl2ZUluZGV4XSA/IHNsaWRlc1thY3RpdmVJbmRleF0uc3dpcGVyU2xpZGVTaXplIDogMDtcbiAgICAgIGxldCBicmVha0xvb3A7XG4gICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggKyAxOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0gJiYgIWJyZWFrTG9vcCkge1xuICAgICAgICAgIHNsaWRlU2l6ZSArPSBzbGlkZXNbaV0uc3dpcGVyU2xpZGVTaXplO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmICh2aWV3ID09PSAnY3VycmVudCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlSW5WaWV3ID0gZXhhY3QgPyBzbGlkZXNHcmlkW2ldICsgc2xpZGVzU2l6ZXNHcmlkW2ldIC0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gPCBzd2lwZXJTaXplIDogc2xpZGVzR3JpZFtpXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZTtcbiAgICAgICAgICBpZiAoc2xpZGVJblZpZXcpIHtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcHJldmlvdXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZUluVmlldyA9IHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIC0gc2xpZGVzR3JpZFtpXSA8IHN3aXBlclNpemU7XG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNwdjtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgc25hcEdyaWQsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIC8vIEJyZWFrcG9pbnRzXG4gICAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9XG4gICAgWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKV0uZm9yRWFjaChpbWFnZUVsID0+IHtcbiAgICAgIGlmIChpbWFnZUVsLmNvbXBsZXRlKSB7XG4gICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgaW1hZ2VFbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlICogLTEgOiBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgY29uc3QgbmV3VHJhbnNsYXRlID0gTWF0aC5taW4oTWF0aC5tYXgodHJhbnNsYXRlVmFsdWUsIHN3aXBlci5tYXhUcmFuc2xhdGUoKSksIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICAgIGxldCB0cmFuc2xhdGVkO1xuICAgIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgIXBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICBjb25zdCBzbGlkZXMgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzIDogc3dpcGVyLnNsaWRlcztcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzbmFwR3JpZCAhPT0gc3dpcGVyLnNuYXBHcmlkKSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgndXBkYXRlJyk7XG4gIH1cbiAgY2hhbmdlRGlyZWN0aW9uKG5ld0RpcmVjdGlvbiwgbmVlZFVwZGF0ZSkge1xuICAgIGlmIChuZWVkVXBkYXRlID09PSB2b2lkIDApIHtcbiAgICAgIG5lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3Rpb24gPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbjtcbiAgICBpZiAoIW5ld0RpcmVjdGlvbikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBuZXdEaXJlY3Rpb24gPSBjdXJyZW50RGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgIH1cbiAgICBpZiAobmV3RGlyZWN0aW9uID09PSBjdXJyZW50RGlyZWN0aW9uIHx8IG5ld0RpcmVjdGlvbiAhPT0gJ2hvcml6b250YWwnICYmIG5ld0RpcmVjdGlvbiAhPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgcmV0dXJuIHN3aXBlcjtcbiAgICB9XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7Y3VycmVudERpcmVjdGlvbn1gKTtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtuZXdEaXJlY3Rpb259YCk7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBzbGlkZUVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZUVsLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdjaGFuZ2VEaXJlY3Rpb24nKTtcbiAgICBpZiAobmVlZFVwZGF0ZSkgc3dpcGVyLnVwZGF0ZSgpO1xuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgY2hhbmdlTGFuZ3VhZ2VEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdydGwnIHx8ICFzd2lwZXIucnRsICYmIGRpcmVjdGlvbiA9PT0gJ2x0cicpIHJldHVybjtcbiAgICBzd2lwZXIucnRsID0gZGlyZWN0aW9uID09PSAncnRsJztcbiAgICBzd2lwZXIucnRsVHJhbnNsYXRlID0gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiBzd2lwZXIucnRsO1xuICAgIGlmIChzd2lwZXIucnRsKSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ3J0bCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKTtcbiAgICAgIHN3aXBlci5lbC5kaXIgPSAnbHRyJztcbiAgICB9XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG4gIG1vdW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIubW91bnRlZCkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBGaW5kIGVsXG4gICAgbGV0IGVsID0gZWxlbWVudCB8fCBzd2lwZXIucGFyYW1zLmVsO1xuICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgIH1cbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsLnN3aXBlciA9IHN3aXBlcjtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLmhvc3QgJiYgZWwucGFyZW50Tm9kZS5ob3N0Lm5vZGVOYW1lID09PSAnU1dJUEVSLUNPTlRBSU5FUicpIHtcbiAgICAgIHN3aXBlci5pc0VsZW1lbnQgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBnZXRXcmFwcGVyU2VsZWN0b3IgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gYC4keyhzd2lwZXIucGFyYW1zLndyYXBwZXJDbGFzcyB8fCAnJykudHJpbSgpLnNwbGl0KCcgJykuam9pbignLicpfWA7XG4gICAgfTtcbiAgICBjb25zdCBnZXRXcmFwcGVyID0gKCkgPT4ge1xuICAgICAgaWYgKGVsICYmIGVsLnNoYWRvd1Jvb3QgJiYgZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihnZXRXcmFwcGVyU2VsZWN0b3IoKSk7XG4gICAgICAgIC8vIENoaWxkcmVuIG5lZWRzIHRvIHJldHVybiBzbG90IGl0ZW1zXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKGVsLCBnZXRXcmFwcGVyU2VsZWN0b3IoKSlbMF07XG4gICAgfTtcbiAgICAvLyBGaW5kIFdyYXBwZXJcbiAgICBsZXQgd3JhcHBlckVsID0gZ2V0V3JhcHBlcigpO1xuICAgIGlmICghd3JhcHBlckVsICYmIHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICAgIHdyYXBwZXJFbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHN3aXBlci5wYXJhbXMud3JhcHBlckNsYXNzKTtcbiAgICAgIGVsLmFwcGVuZCh3cmFwcGVyRWwpO1xuICAgICAgZWxlbWVudENoaWxkcmVuKGVsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWApLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHdyYXBwZXJFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICAgIGVsLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzRWw6IHN3aXBlci5pc0VsZW1lbnQgJiYgIWVsLnBhcmVudE5vZGUuaG9zdC5zbGlkZVNsb3RzID8gZWwucGFyZW50Tm9kZS5ob3N0IDogd3JhcHBlckVsLFxuICAgICAgaG9zdEVsOiBzd2lwZXIuaXNFbGVtZW50ID8gZWwucGFyZW50Tm9kZS5ob3N0IDogZWwsXG4gICAgICBtb3VudGVkOiB0cnVlLFxuICAgICAgLy8gUlRMXG4gICAgICBydGw6IGVsLmRpci50b0xvd2VyQ2FzZSgpID09PSAncnRsJyB8fCBlbGVtZW50U3R5bGUoZWwsICdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcsXG4gICAgICBydGxUcmFuc2xhdGU6IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgKGVsLmRpci50b0xvd2VyQ2FzZSgpID09PSAncnRsJyB8fCBlbGVtZW50U3R5bGUoZWwsICdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcpLFxuICAgICAgd3JvbmdSVEw6IGVsZW1lbnRTdHlsZSh3cmFwcGVyRWwsICdkaXNwbGF5JykgPT09ICctd2Via2l0LWJveCdcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbml0KGVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm4gc3dpcGVyO1xuICAgIGNvbnN0IG1vdW50ZWQgPSBzd2lwZXIubW91bnQoZWwpO1xuICAgIGlmIChtb3VudGVkID09PSBmYWxzZSkgcmV0dXJuIHN3aXBlcjtcbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlSW5pdCcpO1xuXG4gICAgLy8gU2V0IGJyZWFrcG9pbnRcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgQ2xhc3Nlc1xuICAgIHN3aXBlci5hZGRDbGFzc2VzKCk7XG5cbiAgICAvLyBVcGRhdGUgc2l6ZVxuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG5cbiAgICAvLyBVcGRhdGUgc2xpZGVzXG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHtcbiAgICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IEdyYWIgQ3Vyc29yXG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvciAmJiBzd2lwZXIuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG5cbiAgICAvLyBTbGlkZSBUbyBJbml0aWFsIFNsaWRlXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCAmJiBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnBhcmFtcy5pbml0aWFsU2xpZGUgKyBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUsIDAsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBsb29wXG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBBdHRhY2ggZXZlbnRzXG4gICAgc3dpcGVyLmF0dGFjaEV2ZW50cygpO1xuICAgIGNvbnN0IGxhenlFbGVtZW50cyA9IFsuLi5zd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldO1xuICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBsYXp5RWxlbWVudHMucHVzaCguLi5zd2lwZXIuaG9zdEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpKTtcbiAgICB9XG4gICAgbGF6eUVsZW1lbnRzLmZvckVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBpZiAoaW1hZ2VFbC5jb21wbGV0ZSkge1xuICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGltYWdlRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZSA9PiB7XG4gICAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBlLnRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByZWxvYWQoc3dpcGVyKTtcblxuICAgIC8vIEluaXQgRmxhZ1xuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuXG4gICAgLy8gRW1pdFxuICAgIHN3aXBlci5lbWl0KCdpbml0Jyk7XG4gICAgc3dpcGVyLmVtaXQoJ2FmdGVySW5pdCcpO1xuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgZGVzdHJveShkZWxldGVJbnN0YW5jZSwgY2xlYW5TdHlsZXMpIHtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlSW5zdGFuY2UgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY2xlYW5TdHlsZXMgPT09IHZvaWQgMCkge1xuICAgICAgY2xlYW5TdHlsZXMgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIGVsLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5wYXJhbXMgPT09ICd1bmRlZmluZWQnIHx8IHN3aXBlci5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnYmVmb3JlRGVzdHJveScpO1xuXG4gICAgLy8gSW5pdCBGbGFnXG4gICAgc3dpcGVyLmluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAvLyBEZXRhY2ggZXZlbnRzXG4gICAgc3dpcGVyLmRldGFjaEV2ZW50cygpO1xuXG4gICAgLy8gRGVzdHJveSBsb29wXG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbnVwIHN0eWxlc1xuICAgIGlmIChjbGVhblN0eWxlcykge1xuICAgICAgc3dpcGVyLnJlbW92ZUNsYXNzZXMoKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHdyYXBwZXJFbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBpZiAoc2xpZGVzICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzLCBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZGVzdHJveScpO1xuXG4gICAgLy8gRGV0YWNoIGVtaXR0ZXIgZXZlbnRzXG4gICAgT2JqZWN0LmtleXMoc3dpcGVyLmV2ZW50c0xpc3RlbmVycykuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLm9mZihldmVudE5hbWUpO1xuICAgIH0pO1xuICAgIGlmIChkZWxldGVJbnN0YW5jZSAhPT0gZmFsc2UpIHtcbiAgICAgIHN3aXBlci5lbC5zd2lwZXIgPSBudWxsO1xuICAgICAgZGVsZXRlUHJvcHMoc3dpcGVyKTtcbiAgICB9XG4gICAgc3dpcGVyLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3RhdGljIGV4dGVuZERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgZXh0ZW5kKGV4dGVuZGVkRGVmYXVsdHMsIG5ld0RlZmF1bHRzKTtcbiAgfVxuICBzdGF0aWMgZ2V0IGV4dGVuZGVkRGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGV4dGVuZGVkRGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gZGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGluc3RhbGxNb2R1bGUobW9kKSB7XG4gICAgaWYgKCFTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fKSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fID0gW107XG4gICAgY29uc3QgbW9kdWxlcyA9IFN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX187XG4gICAgaWYgKHR5cGVvZiBtb2QgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlcy5pbmRleE9mKG1vZCkgPCAwKSB7XG4gICAgICBtb2R1bGVzLnB1c2gobW9kKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHVzZShtb2R1bGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICBtb2R1bGUuZm9yRWFjaChtID0+IFN3aXBlci5pbnN0YWxsTW9kdWxlKG0pKTtcbiAgICAgIHJldHVybiBTd2lwZXI7XG4gICAgfVxuICAgIFN3aXBlci5pbnN0YWxsTW9kdWxlKG1vZHVsZSk7XG4gICAgcmV0dXJuIFN3aXBlcjtcbiAgfVxufVxuT2JqZWN0LmtleXMocHJvdG90eXBlcykuZm9yRWFjaChwcm90b3R5cGVHcm91cCA9PiB7XG4gIE9iamVjdC5rZXlzKHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdKS5mb3JFYWNoKHByb3RvTWV0aG9kID0+IHtcbiAgICBTd2lwZXIucHJvdG90eXBlW3Byb3RvTWV0aG9kXSA9IHByb3RvdHlwZXNbcHJvdG90eXBlR3JvdXBdW3Byb3RvTWV0aG9kXTtcbiAgfSk7XG59KTtcblN3aXBlci51c2UoW1Jlc2l6ZSwgT2JzZXJ2ZXJdKTtcblxuZXhwb3J0IHsgU3dpcGVyIGFzIFMsIGRlZmF1bHRzIGFzIGQgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgbiBhcyBuZXh0VGljaywgZCBhcyBub3cgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmZ1bmN0aW9uIE1vdXNld2hlZWwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbW91c2V3aGVlbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByZWxlYXNlT25FZGdlczogZmFsc2UsXG4gICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgZm9yY2VUb0F4aXM6IGZhbHNlLFxuICAgICAgc2Vuc2l0aXZpdHk6IDEsXG4gICAgICBldmVudHNUYXJnZXQ6ICdjb250YWluZXInLFxuICAgICAgdGhyZXNob2xkRGVsdGE6IG51bGwsXG4gICAgICB0aHJlc2hvbGRUaW1lOiBudWxsLFxuICAgICAgbm9Nb3VzZXdoZWVsQ2xhc3M6ICdzd2lwZXItbm8tbW91c2V3aGVlbCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubW91c2V3aGVlbCA9IHtcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuICBsZXQgdGltZW91dDtcbiAgbGV0IGxhc3RTY3JvbGxUaW1lID0gbm93KCk7XG4gIGxldCBsYXN0RXZlbnRCZWZvcmVTbmFwO1xuICBjb25zdCByZWNlbnRXaGVlbEV2ZW50cyA9IFtdO1xuICBmdW5jdGlvbiBub3JtYWxpemUoZSkge1xuICAgIC8vIFJlYXNvbmFibGUgZGVmYXVsdHNcbiAgICBjb25zdCBQSVhFTF9TVEVQID0gMTA7XG4gICAgY29uc3QgTElORV9IRUlHSFQgPSA0MDtcbiAgICBjb25zdCBQQUdFX0hFSUdIVCA9IDgwMDtcbiAgICBsZXQgc1ggPSAwO1xuICAgIGxldCBzWSA9IDA7IC8vIHNwaW5YLCBzcGluWVxuICAgIGxldCBwWCA9IDA7XG4gICAgbGV0IHBZID0gMDsgLy8gcGl4ZWxYLCBwaXhlbFlcblxuICAgIC8vIExlZ2FjeVxuICAgIGlmICgnZGV0YWlsJyBpbiBlKSB7XG4gICAgICBzWSA9IGUuZGV0YWlsO1xuICAgIH1cbiAgICBpZiAoJ3doZWVsRGVsdGEnIGluIGUpIHtcbiAgICAgIHNZID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhWSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuICAgICAgc1ggPSAtZS53aGVlbERlbHRhWCAvIDEyMDtcbiAgICB9XG5cbiAgICAvLyBzaWRlIHNjcm9sbGluZyBvbiBGRiB3aXRoIERPTU1vdXNlU2Nyb2xsXG4gICAgaWYgKCdheGlzJyBpbiBlICYmIGUuYXhpcyA9PT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgIHNYID0gc1k7XG4gICAgICBzWSA9IDA7XG4gICAgfVxuICAgIHBYID0gc1ggKiBQSVhFTF9TVEVQO1xuICAgIHBZID0gc1kgKiBQSVhFTF9TVEVQO1xuICAgIGlmICgnZGVsdGFZJyBpbiBlKSB7XG4gICAgICBwWSA9IGUuZGVsdGFZO1xuICAgIH1cbiAgICBpZiAoJ2RlbHRhWCcgaW4gZSkge1xuICAgICAgcFggPSBlLmRlbHRhWDtcbiAgICB9XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIXBYKSB7XG4gICAgICAvLyBpZiB1c2VyIHNjcm9sbHMgd2l0aCBzaGlmdCBoZSB3YW50cyBob3Jpem9udGFsIHNjcm9sbFxuICAgICAgcFggPSBwWTtcbiAgICAgIHBZID0gMDtcbiAgICB9XG4gICAgaWYgKChwWCB8fCBwWSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICAgIGlmIChlLmRlbHRhTW9kZSA9PT0gMSkge1xuICAgICAgICAvLyBkZWx0YSBpbiBMSU5FIHVuaXRzXG4gICAgICAgIHBYICo9IExJTkVfSEVJR0hUO1xuICAgICAgICBwWSAqPSBMSU5FX0hFSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbHRhIGluIFBBR0UgdW5pdHNcbiAgICAgICAgcFggKj0gUEFHRV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IFBBR0VfSEVJR0hUO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGwtYmFjayBpZiBzcGluIGNhbm5vdCBiZSBkZXRlcm1pbmVkXG4gICAgaWYgKHBYICYmICFzWCkge1xuICAgICAgc1ggPSBwWCA8IDEgPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmIChwWSAmJiAhc1kpIHtcbiAgICAgIHNZID0gcFkgPCAxID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3Bpblg6IHNYLFxuICAgICAgc3Bpblk6IHNZLFxuICAgICAgcGl4ZWxYOiBwWCxcbiAgICAgIHBpeGVsWTogcFlcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSAmJiBuZXdFdmVudC5kZWx0YSA8IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkge1xuICAgICAgLy8gUHJldmVudCBpZiBkZWx0YSBvZiB3aGVlbCBzY3JvbGwgZGVsdGEgaXMgYmVsb3cgY29uZmlndXJlZCB0aHJlc2hvbGRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lICYmIG5vdygpIC0gbGFzdFNjcm9sbFRpbWUgPCBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSkge1xuICAgICAgLy8gUHJldmVudCBpZiB0aW1lIGJldHdlZW4gc2Nyb2xscyBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtb3ZlbWVudCBpcyBOT1QgYmlnIGVub3VnaCBhbmRcbiAgICAvLyBpZiB0aGUgbGFzdCB0aW1lIHRoZSB1c2VyIHNjcm9sbGVkIHdhcyB0b28gY2xvc2UgdG8gdGhlIGN1cnJlbnQgb25lIChhdm9pZCBjb250aW51b3VzbHkgdHJpZ2dlcmluZyB0aGUgc2xpZGVyKTpcbiAgICAvLyAgIERvbid0IGdvIGFueSBmdXJ0aGVyIChhdm9pZCBpbnNpZ25pZmljYW50IHNjcm9sbCBtb3ZlbWVudCkuXG4gICAgaWYgKG5ld0V2ZW50LmRlbHRhID49IDYgJiYgbm93KCkgLSBsYXN0U2Nyb2xsVGltZSA8IDYwKSB7XG4gICAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gSWYgdXNlciBpcyBzY3JvbGxpbmcgdG93YXJkcyB0aGUgZW5kOlxuICAgIC8vICAgSWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBsYXRlc3Qgc2xpZGUgb3JcbiAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpc24ndCBtb3ZpbmcgcmlnaHQgbm93OlxuICAgIC8vICAgICBHbyB0byBuZXh0IHNsaWRlIGFuZFxuICAgIC8vICAgICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgIC8vIEVsc2UgKHRoZSB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBiZWdpbm5pbmcpIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgZmlyc3Qgc2xpZGUgb3JcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICBHbyB0byBwcmV2IHNsaWRlIGFuZFxuICAgIC8vICAgZW1pdCBhIHNjcm9sbCBldmVudC5cbiAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaWYgKCghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkgJiYgIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgICBlbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICB9XG4gICAgLy8gSWYgeW91IGdvdCBoZXJlIGlzIGJlY2F1c2UgYW4gYW5pbWF0aW9uIGhhcyBiZWVuIHRyaWdnZXJlZCBzbyBzdG9yZSB0aGUgY3VycmVudCB0aW1lXG4gICAgbGFzdFNjcm9sbFRpbWUgPSBuZXcgd2luZG93LkRhdGUoKS5nZXRUaW1lKCk7XG4gICAgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICBsZXQgZSA9IGV2ZW50O1xuICAgIGxldCBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG5cbiAgICAvLyBJZ25vcmUgZXZlbnQgaWYgdGhlIHRhcmdldCBvciBpdHMgcGFyZW50cyBoYXZlIHRoZSBzd2lwZXItbm8tbW91c2V3aGVlbCBjbGFzc1xuICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLm5vTW91c2V3aGVlbENsYXNzfWApKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgbGV0IHRhcmdldEVsID0gc3dpcGVyLmVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRFbENvbnRhaW5zVGFyZ2V0ID0gdGFyZ2V0RWwgJiYgdGFyZ2V0RWwuY29udGFpbnMoZS50YXJnZXQpO1xuICAgIGlmICghc3dpcGVyLm1vdXNlRW50ZXJlZCAmJiAhdGFyZ2V0RWxDb250YWluc1RhcmdldCAmJiAhcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50OyAvLyBqcXVlcnkgZml4XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBjb25zdCBydGxGYWN0b3IgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLTEgOiAxO1xuICAgIGNvbnN0IGRhdGEgPSBub3JtYWxpemUoZSk7XG4gICAgaWYgKHBhcmFtcy5mb3JjZVRvQXhpcykge1xuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvcjtlbHNlIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWSkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWCkpIGRlbHRhID0gLWRhdGEucGl4ZWxZO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpID8gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yIDogLWRhdGEucGl4ZWxZO1xuICAgIH1cbiAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChwYXJhbXMuaW52ZXJ0KSBkZWx0YSA9IC1kZWx0YTtcblxuICAgIC8vIEdldCB0aGUgc2Nyb2xsIHBvc2l0aW9uc1xuICAgIGxldCBwb3NpdGlvbnMgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICBpZiAocG9zaXRpb25zID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb25zID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGlmIChwb3NpdGlvbnMgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG5cbiAgICAvLyBXaGVuIGxvb3AgaXMgdHJ1ZTpcbiAgICAvLyAgICAgdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vIFdoZW4gbG9vcCBpcyBmYWxzZTpcbiAgICAvLyAgICAgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbnMgaXMgbm90IG9uIGVkZ2UsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zLFxuICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgZmFsc2UuXG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHRydWUgOiAhKHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKTtcbiAgICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlciAmJiBzd2lwZXIucGFyYW1zLm5lc3RlZCkgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUgfHwgIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBldmVudCBpbiBhIHZhcmlhYmxlIHdoaWNoIHN0b3JlcyB0aGUgcmVsZXZhbnQgZGF0YVxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSksXG4gICAgICAgIHJhdzogZXZlbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIEtlZXAgdGhlIG1vc3QgcmVjZW50IGV2ZW50c1xuICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcblxuICAgICAgLy8gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByZXZpb3VzIHJlY29yZGVkIGV2ZW50OlxuICAgICAgLy8gICBJZiBkaXJlY3Rpb24gaGFzIGNoYW5nZWQgb3JcbiAgICAgIC8vICAgaWYgdGhlIHNjcm9sbCBpcyBxdWlja2VyIHRoYW4gdGhlIHByZXZpb3VzIG9uZTpcbiAgICAgIC8vICAgICBBbmltYXRlIHRoZSBzbGlkZXIuXG4gICAgICAvLyBFbHNlICh0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB3aGVlbCBpcyBtb3ZlZCk6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuICAgICAgaWYgKHByZXZFdmVudCkge1xuICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXQncyB0aW1lIHRvIHJlbGVhc2UgdGhlIHNjcm9sbDpcbiAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cbiAgICAgIGlmIChyZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRnJlZW1vZGUgb3Igc2Nyb2xsQ29udGFpbmVyOlxuXG4gICAgICAvLyBJZiB3ZSByZWNlbnRseSBzbmFwcGVkIGFmdGVyIGEgbW9tZW50dW0gc2Nyb2xsLCB0aGVuIGlnbm9yZSB3aGVlbCBldmVudHNcbiAgICAgIC8vIHRvIGdpdmUgdGltZSBmb3IgdGhlIGRlY2VsZXJhdGlvbiB0byBmaW5pc2guIFN0b3AgaWdub3JpbmcgYWZ0ZXIgNTAwIG1zZWNzXG4gICAgICAvLyBvciBpZiBpdCdzIGEgbmV3IHNjcm9sbCAobGFyZ2VyIGRlbHRhIG9yIGludmVyc2Ugc2lnbiBhcyBsYXN0IGV2ZW50IGJlZm9yZVxuICAgICAgLy8gYW4gZW5kLW9mLW1vbWVudHVtIHNuYXApLlxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSlcbiAgICAgIH07XG4gICAgICBjb25zdCBpZ25vcmVXaGVlbEV2ZW50cyA9IGxhc3RFdmVudEJlZm9yZVNuYXAgJiYgbmV3RXZlbnQudGltZSA8IGxhc3RFdmVudEJlZm9yZVNuYXAudGltZSArIDUwMCAmJiBuZXdFdmVudC5kZWx0YSA8PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRlbHRhICYmIG5ld0V2ZW50LmRpcmVjdGlvbiA9PT0gbGFzdEV2ZW50QmVmb3JlU25hcC5kaXJlY3Rpb247XG4gICAgICBpZiAoIWlnbm9yZVdoZWVsRXZlbnRzKSB7XG4gICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgICAgICBjb25zdCB3YXNCZWdpbm5pbmcgPSBzd2lwZXIuaXNCZWdpbm5pbmc7XG4gICAgICAgIGNvbnN0IHdhc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgaWYgKCF3YXNCZWdpbm5pbmcgJiYgc3dpcGVyLmlzQmVnaW5uaW5nIHx8ICF3YXNFbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBuZXdFdmVudC5kaXJlY3Rpb24gPCAwID8gJ25leHQnIDogJ3ByZXYnLFxuICAgICAgICAgICAgYnlNb3VzZXdoZWVsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgICAgLy8gV2hlbiB3aGVlbCBzY3JvbGxpbmcgc3RhcnRzIHdpdGggc3RpY2t5IChha2Egc25hcCkgZW5hYmxlZCwgdGhlbiBkZXRlY3RcbiAgICAgICAgICAvLyB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGJ5IHN0b3JpbmcgcmVjZW50IChOPTE1Pykgd2hlZWwgZXZlbnRzLlxuICAgICAgICAgIC8vIDEuIGRvIGFsbCBOIGV2ZW50cyBoYXZlIGRlY3JlYXNpbmcgb3Igc2FtZSAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhP1xuICAgICAgICAgIC8vIDIuIGRpZCBhbGwgTiBldmVudHMgYXJyaXZlIGluIHRoZSBsYXN0IE0gKE09NTAwPykgbXNlY3M/XG4gICAgICAgICAgLy8gMy4gZG9lcyB0aGUgZWFybGllc3QgZXZlbnQgaGF2ZSBhbiAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhIHRoYXQnc1xuICAgICAgICAgIC8vICAgIGF0IGxlYXN0IFAgKFA9MT8pIGxhcmdlciB0aGFuIHRoZSBtb3N0IHJlY2VudCBldmVudCdzIGRlbHRhP1xuICAgICAgICAgIC8vIDQuIGRvZXMgdGhlIGxhdGVzdCBldmVudCBoYXZlIGEgZGVsdGEgdGhhdCdzIHNtYWxsZXIgdGhhbiBRIChRPTY/KSBwaXhlbHM/XG4gICAgICAgICAgLy8gSWYgMS00IGFyZSBcInllc1wiIHRoZW4gd2UncmUgbmVhciB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGRlY2VsZXJhdGlvbi5cbiAgICAgICAgICAvLyBTbmFwIGltbWVkaWF0ZWx5IGFuZCBpZ25vcmUgcmVtYWluaW5nIHdoZWVsIGV2ZW50cyBpbiB0aGlzIHNjcm9sbC5cbiAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZSBmb3IgXCJyZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsXCIgZGV0ZXJtaW5hdGlvbi5cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlbid0IHNhdGlzZmllZCwgdGhlbiB3YWl0IHRvIHNuYXAgdW50aWwgNTAwbXMgYWZ0ZXIgdGhlIGxhc3QgZXZlbnQuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSkge1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc2hpZnQoKTsgLy8gb25seSBzdG9yZSB0aGUgbGFzdCBOIGV2ZW50c1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHByZXZFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IHJlY2VudFdoZWVsRXZlbnRzW3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGZpcnN0RXZlbnQgPSByZWNlbnRXaGVlbEV2ZW50c1swXTtcbiAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcbiAgICAgICAgICBpZiAocHJldkV2ZW50ICYmIChuZXdFdmVudC5kZWx0YSA+IHByZXZFdmVudC5kZWx0YSB8fCBuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSAmJiBuZXdFdmVudC50aW1lIC0gZmlyc3RFdmVudC50aW1lIDwgNTAwICYmIGZpcnN0RXZlbnQuZGVsdGEgLSBuZXdFdmVudC5kZWx0YSA+PSAxICYmIG5ld0V2ZW50LmRlbHRhIDw9IDYpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGRlY2VsZXJhdGlvbiBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc28gdGhlcmUncyBubyBuZWVkXG4gICAgICAgICAgICAvLyB0byB3YWl0IGZvciBtb3JlIGV2ZW50cy4gU25hcCBBU0FQIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAvLyBBbHNvLCBiZWNhdXNlIHRoZXJlJ3Mgc29tZSByZW1haW5pbmcgbW9tZW50dW0gd2UnbGwgYmlhcyB0aGUgc25hcCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgb25nb2luZyBzY3JvbGwgYmVjYXVzZSBpdCdzIGJldHRlciBVWCBmb3IgdGhlIHNjcm9sbCB0byBzbmFwXG4gICAgICAgICAgICAvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYXMgdGhlIHNjcm9sbCBpbnN0ZWFkIG9mIHJldmVyc2luZyB0byBzbmFwLiAgVGhlcmVmb3JlLFxuICAgICAgICAgICAgLy8gaWYgaXQncyBhbHJlYWR5IHNjcm9sbGVkIG1vcmUgdGhhbiAyMCUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uLCBrZWVwIGdvaW5nLlxuICAgICAgICAgICAgY29uc3Qgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IG5ld0V2ZW50O1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgdGltZW91dCA9IG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBubyBkZWxheTsgbW92ZSBvbiBuZXh0IHRpY2tcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB0aGVuIHdlIGhhdmVuJ3QgZGV0ZWN0ZWQgdGhlIGVuZCBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc29cbiAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAvLyBmb3IgNTAwbXMuXG4gICAgICAgICAgICB0aW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzbmFwVG9UaHJlc2hvbGQgPSAwLjU7XG4gICAgICAgICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBuZXdFdmVudDtcbiAgICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbWl0IGV2ZW50XG4gICAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIGVtaXQoJ3Njcm9sbCcsIGUpO1xuXG4gICAgICAgIC8vIFN0b3AgYXV0b3BsYXlcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkgJiYgc3dpcGVyLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uKSBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICAvLyBSZXR1cm4gcGFnZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKHBhcmFtcy5yZWxlYXNlT25FZGdlcyAmJiAocG9zaXRpb24gPT09IHN3aXBlci5taW5UcmFuc2xhdGUoKSB8fCBwb3NpdGlvbiA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGV2ZW50cyhtZXRob2QpIHtcbiAgICBsZXQgdGFyZ2V0RWwgPSBzd2lwZXIuZWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuICAgIHRhcmdldEVsW21ldGhvZF0oJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyKTtcbiAgICB0YXJnZXRFbFttZXRob2RdKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGFyZ2V0RWxbbWV0aG9kXSgnd2hlZWwnLCBoYW5kbGUpO1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgaGFuZGxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygnYWRkRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZGlzYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQpIGVuYWJsZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZW5hYmxlKCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSBkaXNhYmxlKCk7XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5tb3VzZXdoZWVsLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE1vdXNld2hlZWwgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGUgYXMgZWxlbWVudENoaWxkcmVuLCBjIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoc3dpcGVyLCBvcmlnaW5hbFBhcmFtcywgcGFyYW1zLCBjaGVja1Byb3BzKSB7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgT2JqZWN0LmtleXMoY2hlY2tQcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXNba2V5XSAmJiBwYXJhbXMuYXV0byA9PT0gdHJ1ZSkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRDaGlsZHJlbihzd2lwZXIuZWwsIGAuJHtjaGVja1Byb3BzW2tleV19YClbMF07XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBjaGVja1Byb3BzW2tleV0pO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2hlY2tQcm9wc1trZXldO1xuICAgICAgICAgIHN3aXBlci5lbC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgICBvcmlnaW5hbFBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgeyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcblxuZnVuY3Rpb24gTmF2aWdhdGlvbihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogbnVsbCxcbiAgICAgIHByZXZFbDogbnVsbCxcbiAgICAgIGhpZGVPbkNsaWNrOiBmYWxzZSxcbiAgICAgIGRpc2FibGVkQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWRpc2FibGVkJyxcbiAgICAgIGhpZGRlbkNsYXNzOiAnc3dpcGVyLWJ1dHRvbi1oaWRkZW4nLFxuICAgICAgbG9ja0NsYXNzOiAnc3dpcGVyLWJ1dHRvbi1sb2NrJyxcbiAgICAgIG5hdmlnYXRpb25EaXNhYmxlZENsYXNzOiAnc3dpcGVyLW5hdmlnYXRpb24tZGlzYWJsZWQnXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLm5hdmlnYXRpb24gPSB7XG4gICAgbmV4dEVsOiBudWxsLFxuICAgIHByZXZFbDogbnVsbFxuICB9O1xuICBjb25zdCBtYWtlRWxlbWVudHNBcnJheSA9IGVsID0+IChBcnJheS5pc0FycmF5KGVsKSA/IGVsIDogW2VsXSkuZmlsdGVyKGUgPT4gISFlKTtcbiAgZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChlbCkge1xuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKV07XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHJlcy5sZW5ndGggPiAxICYmIHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKGVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWwgJiYgIXJlcykgcmV0dXJuIGVsO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA9PT0gMSkgcmVzID0gcmVzWzBdO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoZWwsIGRpc2FibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHN1YkVsKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtkaXNhYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKC4uLnBhcmFtcy5kaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICBpZiAoc3ViRWwudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHN1YkVsLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZCcgOiAncmVtb3ZlJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGNvbnN0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB0b2dnbGVFbChwcmV2RWwsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUVsKG5leHRFbCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b2dnbGVFbChwcmV2RWwsIHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpO1xuICAgIHRvZ2dsZUVsKG5leHRFbCwgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25QcmV2Jyk7XG4gIH1cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIGxldCBuZXh0RWwgPSBnZXRFbChwYXJhbXMubmV4dEVsKTtcbiAgICBsZXQgcHJldkVsID0gZ2V0RWwocGFyYW1zLnByZXZFbCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSk7XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGluaXRCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQgJiYgZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMubG9ja0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgIH07XG4gICAgbmV4dEVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ25leHQnKSk7XG4gICAgcHJldkVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ3ByZXYnKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCBkZXN0cm95QnV0dG9uID0gKGVsLCBkaXIpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcykpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICFwcmV2RWwuaW5jbHVkZXModGFyZ2V0RWwpICYmICFuZXh0RWwuaW5jbHVkZXModGFyZ2V0RWwpKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICBsZXQgaXNIaWRkZW47XG4gICAgICBpZiAobmV4dEVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IG5leHRFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldkVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IHByZXZFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCduYXZpZ2F0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvbkhpZGUnKTtcbiAgICAgIH1cbiAgICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGluaXQoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubmF2aWdhdGlvbkRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiZnVuY3Rpb24gY2xhc3Nlc1RvU2VsZWN0b3IoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBgLiR7Y2xhc3Nlcy50cmltKCkucmVwbGFjZSgvKFtcXC46IStcXC9dKS9nLCAnXFxcXCQxJykgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAucmVwbGFjZSgvIC9nLCAnLicpfWA7XG59XG5cbmV4cG9ydCB7IGNsYXNzZXNUb1NlbGVjdG9yIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNsYXNzZXNUb1NlbGVjdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2NsYXNzZXMtdG8tc2VsZWN0b3IubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBnIGFzIGVsZW1lbnRJbmRleCwgYSBhcyBlbGVtZW50UGFyZW50cyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBQYWdpbmF0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHBmeCA9ICdzd2lwZXItcGFnaW5hdGlvbic7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBidWxsZXRFbGVtZW50OiAnc3BhbicsXG4gICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLFxuICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICByZW5kZXJGcmFjdGlvbjogbnVsbCxcbiAgICAgIHJlbmRlckN1c3RvbTogbnVsbCxcbiAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgICAgLy8gJ2J1bGxldHMnIG9yICdwcm9ncmVzc2Jhcicgb3IgJ2ZyYWN0aW9uJyBvciAnY3VzdG9tJ1xuICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgZHluYW1pY01haW5CdWxsZXRzOiAxLFxuICAgICAgZm9ybWF0RnJhY3Rpb25DdXJyZW50OiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgZm9ybWF0RnJhY3Rpb25Ub3RhbDogbnVtYmVyID0+IG51bWJlcixcbiAgICAgIGJ1bGxldENsYXNzOiBgJHtwZnh9LWJ1bGxldGAsXG4gICAgICBidWxsZXRBY3RpdmVDbGFzczogYCR7cGZ4fS1idWxsZXQtYWN0aXZlYCxcbiAgICAgIG1vZGlmaWVyQ2xhc3M6IGAke3BmeH0tYCxcbiAgICAgIGN1cnJlbnRDbGFzczogYCR7cGZ4fS1jdXJyZW50YCxcbiAgICAgIHRvdGFsQ2xhc3M6IGAke3BmeH0tdG90YWxgLFxuICAgICAgaGlkZGVuQ2xhc3M6IGAke3BmeH0taGlkZGVuYCxcbiAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLWZpbGxgLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLW9wcG9zaXRlYCxcbiAgICAgIGNsaWNrYWJsZUNsYXNzOiBgJHtwZnh9LWNsaWNrYWJsZWAsXG4gICAgICBsb2NrQ2xhc3M6IGAke3BmeH0tbG9ja2AsXG4gICAgICBob3Jpem9udGFsQ2xhc3M6IGAke3BmeH0taG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgJHtwZnh9LXZlcnRpY2FsYCxcbiAgICAgIHBhZ2luYXRpb25EaXNhYmxlZENsYXNzOiBgJHtwZnh9LWRpc2FibGVkYFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5wYWdpbmF0aW9uID0ge1xuICAgIGVsOiBudWxsLFxuICAgIGJ1bGxldHM6IFtdXG4gIH07XG4gIGxldCBidWxsZXRTaXplO1xuICBsZXQgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgY29uc3QgbWFrZUVsZW1lbnRzQXJyYXkgPSBlbCA9PiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG4gIGZ1bmN0aW9uIGlzUGFnaW5hdGlvbkRpc2FibGVkKCkge1xuICAgIHJldHVybiAhc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCBBcnJheS5pc0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKSAmJiBzd2lwZXIucGFnaW5hdGlvbi5lbC5sZW5ndGggPT09IDA7XG4gIH1cbiAgZnVuY3Rpb24gc2V0U2lkZUJ1bGxldHMoYnVsbGV0RWwsIHBvc2l0aW9uKSB7XG4gICAgY29uc3Qge1xuICAgICAgYnVsbGV0QWN0aXZlQ2xhc3NcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghYnVsbGV0RWwpIHJldHVybjtcbiAgICBidWxsZXRFbCA9IGJ1bGxldEVsW2Ake3Bvc2l0aW9uID09PSAncHJldicgPyAncHJldmlvdXMnIDogJ25leHQnfUVsZW1lbnRTaWJsaW5nYF07XG4gICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICBidWxsZXRFbC5jbGFzc0xpc3QuYWRkKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufWApO1xuICAgICAgYnVsbGV0RWwgPSBidWxsZXRFbFtgJHtwb3NpdGlvbiA9PT0gJ3ByZXYnID8gJ3ByZXZpb3VzJyA6ICduZXh0J31FbGVtZW50U2libGluZ2BdO1xuICAgICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICAgIGJ1bGxldEVsLmNsYXNzTGlzdC5hZGQoYCR7YnVsbGV0QWN0aXZlQ2xhc3N9LSR7cG9zaXRpb259LSR7cG9zaXRpb259YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uQnVsbGV0Q2xpY2soZSkge1xuICAgIGNvbnN0IGJ1bGxldEVsID0gZS50YXJnZXQuY2xvc2VzdChjbGFzc2VzVG9TZWxlY3Rvcihzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKTtcbiAgICBpZiAoIWJ1bGxldEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXRFbCkgKiBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIGlmIChzd2lwZXIucmVhbEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gUmVuZGVyIHx8IFVwZGF0ZSBQYWdpbmF0aW9uIGJ1bGxldHMvaXRlbXNcbiAgICBjb25zdCBydGwgPSBzd2lwZXIucnRsO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIC8vIEN1cnJlbnQvVG90YWxcbiAgICBsZXQgY3VycmVudDtcbiAgICBsZXQgcHJldmlvdXNJbmRleDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c1JlYWxJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gTWF0aC5mbG9vcihzd2lwZXIucmVhbEluZGV4IC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIucmVhbEluZGV4O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNTbmFwSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5hY3RpdmVJbmRleCB8fCAwO1xuICAgIH1cbiAgICAvLyBUeXBlc1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBidWxsZXRzID0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cztcbiAgICAgIGxldCBmaXJzdEluZGV4O1xuICAgICAgbGV0IGxhc3RJbmRleDtcbiAgICAgIGxldCBtaWRJbmRleDtcbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgYnVsbGV0U2l6ZSA9IGVsZW1lbnRPdXRlclNpemUoYnVsbGV0c1swXSwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICAgICAgc3ViRWwuc3R5bGVbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA9IGAke2J1bGxldFNpemUgKiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpfXB4YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiBwcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggKz0gY3VycmVudCAtIChwcmV2aW91c0luZGV4IHx8IDApO1xuICAgICAgICAgIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPiBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkge1xuICAgICAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyAtIDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaXJzdEluZGV4ID0gTWF0aC5tYXgoY3VycmVudCAtIGR5bmFtaWNCdWxsZXRJbmRleCwgMCk7XG4gICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgIG1pZEluZGV4ID0gKGxhc3RJbmRleCArIGZpcnN0SW5kZXgpIC8gMjtcbiAgICAgIH1cbiAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXRFbCA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IFsuLi5bJycsICctbmV4dCcsICctbmV4dC1uZXh0JywgJy1wcmV2JywgJy1wcmV2LXByZXYnLCAnLW1haW4nXS5tYXAoc3VmZml4ID0+IGAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30ke3N1ZmZpeH1gKV0ubWFwKHMgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMuaW5jbHVkZXMoJyAnKSA/IHMuc3BsaXQoJyAnKSA6IHMpLmZsYXQoKTtcbiAgICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9SZW1vdmUpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZWwubGVuZ3RoID4gMSkge1xuICAgICAgICBidWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcbiAgICAgICAgICBjb25zdCBidWxsZXRJbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXQpO1xuICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgICAgICAgYnVsbGV0LnNldEF0dHJpYnV0ZSgncGFydCcsICdidWxsZXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGZpcnN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAncHJldicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAnbmV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW2N1cnJlbnRdO1xuICAgICAgICBpZiAoYnVsbGV0KSB7XG4gICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICAgICAgYnVsbGV0cy5mb3JFYWNoKChidWxsZXRFbCwgYnVsbGV0SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ1bGxldEVsLnNldEF0dHJpYnV0ZSgncGFydCcsIGJ1bGxldEluZGV4ID09PSBjdXJyZW50ID8gJ2J1bGxldC1hY3RpdmUnIDogJ2J1bGxldCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbZmlyc3RJbmRleF07XG4gICAgICAgICAgY29uc3QgbGFzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbbGFzdEluZGV4XTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJ1bGxldHNbaV0pIHtcbiAgICAgICAgICAgICAgYnVsbGV0c1tpXS5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGZpcnN0RGlzcGxheWVkQnVsbGV0LCAncHJldicpO1xuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGxhc3REaXNwbGF5ZWRCdWxsZXQsICduZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgY29uc3QgZHluYW1pY0J1bGxldHNMZW5ndGggPSBNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpO1xuICAgICAgICBjb25zdCBidWxsZXRzT2Zmc2V0ID0gKGJ1bGxldFNpemUgKiBkeW5hbWljQnVsbGV0c0xlbmd0aCAtIGJ1bGxldFNpemUpIC8gMiAtIG1pZEluZGV4ICogYnVsbGV0U2l6ZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UHJvcCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGJ1bGxldC5zdHlsZVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBvZmZzZXRQcm9wIDogJ3RvcCddID0gYCR7YnVsbGV0c09mZnNldH1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5mb3JFYWNoKChzdWJFbCwgc3ViRWxJbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAgIHN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmN1cnJlbnRDbGFzcykpLmZvckVhY2goZnJhY3Rpb25FbCA9PiB7XG4gICAgICAgICAgZnJhY3Rpb25FbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMudG90YWxDbGFzcykpLmZvckVhY2godG90YWxFbCA9PiB7XG4gICAgICAgICAgdG90YWxFbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvblRvdGFsKHRvdGFsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzYmFyRGlyZWN0aW9uO1xuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgICBwcm9ncmVzc2JhckRpcmVjdGlvbiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlID0gKGN1cnJlbnQgKyAxKSAvIHRvdGFsO1xuICAgICAgICBsZXQgc2NhbGVYID0gMTtcbiAgICAgICAgbGV0IHNjYWxlWSA9IDE7XG4gICAgICAgIGlmIChwcm9ncmVzc2JhckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVZID0gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS5mb3JFYWNoKHByb2dyZXNzRWwgPT4ge1xuICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoJHtzY2FsZVh9KSBzY2FsZVkoJHtzY2FsZVl9KWA7XG4gICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICAgc3ViRWwuaW5uZXJIVE1MID0gcGFyYW1zLnJlbmRlckN1c3RvbShzd2lwZXIsIGN1cnJlbnQgKyAxLCB0b3RhbCk7XG4gICAgICAgIGlmIChzdWJFbEluZGV4ID09PSAwKSBlbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgc3ViRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN1YkVsSW5kZXggPT09IDApIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzdWJFbCk7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25VcGRhdGUnLCBzdWJFbCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSA/IHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGxldCBwYWdpbmF0aW9uSFRNTCA9ICcnO1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBudW1iZXJPZkJ1bGxldHMgPiBzbGlkZXNMZW5ndGgpIHtcbiAgICAgICAgbnVtYmVyT2ZCdWxsZXRzID0gc2xpZGVzTGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJ1bGxldHM7IGkgKz0gMSkge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gYDwke3BhcmFtcy5idWxsZXRFbGVtZW50fSAke3N3aXBlci5pc0VsZW1lbnQgPyAncGFydD1cImJ1bGxldFwiJyA6ICcnfSBjbGFzcz1cIiR7cGFyYW1zLmJ1bGxldENsYXNzfVwiPjwvJHtwYXJhbXMuYnVsbGV0RWxlbWVudH0+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyRnJhY3Rpb24pIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyRnJhY3Rpb24uY2FsbChzd2lwZXIsIHBhcmFtcy5jdXJyZW50Q2xhc3MsIHBhcmFtcy50b3RhbENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtwYXJhbXMuY3VycmVudENsYXNzfVwiPjwvc3Bhbj5gICsgJyAvICcgKyBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy50b3RhbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gW107XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgIHN1YkVsLmlubmVySFRNTCA9IHBhZ2luYXRpb25IVE1MIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5wdXNoKC4uLnN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBlbFswXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5wYWdpbmF0aW9uLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHtcbiAgICAgIGVsOiAnc3dpcGVyLXBhZ2luYXRpb24nXG4gICAgfSk7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgbGV0IGVsO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbCA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5lbCk7XG4gICAgfVxuICAgIGlmICghZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKV07XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoIWVsIHx8IGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgIGVsID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCldO1xuICAgICAgLy8gY2hlY2sgaWYgaXQgYmVsb25ncyB0byBhbm90aGVyIG5lc3RlZCBTd2lwZXJcbiAgICAgIGlmIChlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVsID0gZWwuZmlsdGVyKHN1YkVsID0+IHtcbiAgICAgICAgICBpZiAoZWxlbWVudFBhcmVudHMoc3ViRWwsICcuc3dpcGVyJylbMF0gIT09IHN3aXBlci5lbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KVswXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA9PT0gMSkgZWwgPSBlbFswXTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYWdpbmF0aW9uLCB7XG4gICAgICBlbFxuICAgIH0pO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKC4uLihwYXJhbXMuY2xpY2thYmxlQ2xhc3MgfHwgJycpLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5tb2RpZmllckNsYXNzfSR7cGFyYW1zLnR5cGV9LWR5bmFtaWNgKTtcbiAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgICAgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJyAmJiBwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgc3ViRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJ1bGxldENsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZSguLi4ocGFyYW1zLmNsaWNrYWJsZUNsYXNzIHx8ICcnKS5zcGxpdCgnICcpKTtcbiAgICAgICAgICBzdWJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnVsbGV0Q2xpY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMpIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcy5zcGxpdCgnICcpKSk7XG4gIH1cbiAgb24oJ2NoYW5nZURpcmVjdGlvbicsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYWdpbmF0aW9uIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MsIHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICB9KTtcbiAgfSk7XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICByZW5kZXIoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdhY3RpdmVJbmRleENoYW5nZScsICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc25hcEluZGV4Q2hhbmdlJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJywgKCkgPT4ge1xuICAgIHJlbmRlcigpO1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlJyA6ICdhZGQnXShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2xvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBjb25zdCBlbCA9IG1ha2VFbGVtZW50c0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayAmJiBlbCAmJiBlbC5sZW5ndGggPiAwICYmICF0YXJnZXRFbC5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIChzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGlzSGlkZGVuID0gZWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25IaWRlJyk7XG4gICAgICB9XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC50b2dnbGUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKSk7XG4gICAgfVxuICAgIGluaXQoKTtcbiAgICByZW5kZXIoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcykpO1xuICAgIH1cbiAgICBkZXN0cm95KCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICByZW5kZXIsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgUGFnaW5hdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuXG4vKiBlc2xpbnQgbm8tdW5kZXJzY29yZS1kYW5nbGU6IFwib2ZmXCIgKi9cbi8qIGVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogXCJvZmZcIiAqL1xuZnVuY3Rpb24gQXV0b3BsYXkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdCxcbiAgICBwYXJhbXNcbiAgfSA9IF9yZWY7XG4gIHN3aXBlci5hdXRvcGxheSA9IHtcbiAgICBydW5uaW5nOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHRpbWVMZWZ0OiAwXG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgYXV0b3BsYXk6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgZGVsYXk6IDMwMDAsXG4gICAgICB3YWl0Rm9yVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgIHN0b3BPbkxhc3RTbGlkZTogZmFsc2UsXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiBmYWxzZSxcbiAgICAgIHBhdXNlT25Nb3VzZUVudGVyOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgcmFmO1xuICBsZXQgYXV0b3BsYXlEZWxheVRvdGFsID0gcGFyYW1zICYmIHBhcmFtcy5hdXRvcGxheSA/IHBhcmFtcy5hdXRvcGxheS5kZWxheSA6IDMwMDA7XG4gIGxldCBhdXRvcGxheURlbGF5Q3VycmVudCA9IHBhcmFtcyAmJiBwYXJhbXMuYXV0b3BsYXkgPyBwYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiAzMDAwO1xuICBsZXQgYXV0b3BsYXlUaW1lTGVmdDtcbiAgbGV0IGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGxldCB3YXNQYXVzZWQ7XG4gIGxldCBpc1RvdWNoZWQ7XG4gIGxldCBwYXVzZWRCeVRvdWNoO1xuICBsZXQgdG91Y2hTdGFydFRpbWVvdXQ7XG4gIGxldCBzbGlkZUNoYW5nZWQ7XG4gIGxldCBwYXVzZWRCeUludGVyYWN0aW9uO1xuICBsZXQgcGF1c2VkQnlQb2ludGVyRW50ZXI7XG4gIGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChlKSB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLndyYXBwZXJFbCkgcmV0dXJuO1xuICAgIGlmIChlLnRhcmdldCAhPT0gc3dpcGVyLndyYXBwZXJFbCkgcmV0dXJuO1xuICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgaWYgKHBhdXNlZEJ5UG9pbnRlckVudGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc3VtZSgpO1xuICB9XG4gIGNvbnN0IGNhbGNUaW1lTGVmdCA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgd2FzUGF1c2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdhc1BhdXNlZCkge1xuICAgICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBhdXRvcGxheVRpbWVMZWZ0O1xuICAgICAgd2FzUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVMZWZ0ID0gc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA/IGF1dG9wbGF5VGltZUxlZnQgOiBhdXRvcGxheVN0YXJ0VGltZSArIGF1dG9wbGF5RGVsYXlDdXJyZW50IC0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnRpbWVMZWZ0ID0gdGltZUxlZnQ7XG4gICAgZW1pdCgnYXV0b3BsYXlUaW1lTGVmdCcsIHRpbWVMZWZ0LCB0aW1lTGVmdCAvIGF1dG9wbGF5RGVsYXlUb3RhbCk7XG4gICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNhbGNUaW1lTGVmdCgpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXRTbGlkZURlbGF5ID0gKCkgPT4ge1xuICAgIGxldCBhY3RpdmVTbGlkZUVsO1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS1hY3RpdmUnKSlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF07XG4gICAgfVxuICAgIGlmICghYWN0aXZlU2xpZGVFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBjdXJyZW50U2xpZGVEZWxheSA9IHBhcnNlSW50KGFjdGl2ZVNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1hdXRvcGxheScpLCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRTbGlkZURlbGF5O1xuICB9O1xuICBjb25zdCBydW4gPSBkZWxheUZvcmNlID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIGNhbGNUaW1lTGVmdCgpO1xuICAgIGxldCBkZWxheSA9IHR5cGVvZiBkZWxheUZvcmNlID09PSAndW5kZWZpbmVkJyA/IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiBkZWxheUZvcmNlO1xuICAgIGF1dG9wbGF5RGVsYXlUb3RhbCA9IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGNvbnN0IGN1cnJlbnRTbGlkZURlbGF5ID0gZ2V0U2xpZGVEZWxheSgpO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKGN1cnJlbnRTbGlkZURlbGF5KSAmJiBjdXJyZW50U2xpZGVEZWxheSA+IDAgJiYgdHlwZW9mIGRlbGF5Rm9yY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWxheSA9IGN1cnJlbnRTbGlkZURlbGF5O1xuICAgICAgYXV0b3BsYXlEZWxheVRvdGFsID0gY3VycmVudFNsaWRlRGVsYXk7XG4gICAgICBhdXRvcGxheURlbGF5Q3VycmVudCA9IGN1cnJlbnRTbGlkZURlbGF5O1xuICAgIH1cbiAgICBhdXRvcGxheVRpbWVMZWZ0ID0gZGVsYXk7XG4gICAgY29uc3Qgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICAgIGNvbnN0IHByb2NlZWQgPSAoKSA9PiB7XG4gICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5yZXZlcnNlRGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICghc3dpcGVyLmlzQmVnaW5uaW5nIHx8IHN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIucGFyYW1zLnJld2luZCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVByZXYoc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAxLCBzcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFzd2lwZXIuaXNFbmQgfHwgc3dpcGVyLnBhcmFtcy5sb29wIHx8IHN3aXBlci5wYXJhbXMucmV3aW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlTmV4dChzcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfSBlbHNlIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGUpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbygwLCBzcGVlZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgZW1pdCgnYXV0b3BsYXknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHJ1bigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcHJvY2VlZCgpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBwcm9jZWVkKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICByZXR1cm4gZGVsYXk7XG4gIH07XG4gIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSB0cnVlO1xuICAgIHJ1bigpO1xuICAgIGVtaXQoJ2F1dG9wbGF5U3RhcnQnKTtcbiAgfTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBzd2lwZXIuYXV0b3BsYXkucnVubmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIGVtaXQoJ2F1dG9wbGF5U3RvcCcpO1xuICB9O1xuICBjb25zdCBwYXVzZSA9IChpbnRlcm5hbCwgcmVzZXQpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb2NlZWQgPSAoKSA9PiB7XG4gICAgICBlbWl0KCdhdXRvcGxheVBhdXNlJyk7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS53YWl0Rm9yVHJhbnNpdGlvbikge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdW1lKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBzd2lwZXIuYXV0b3BsYXkucGF1c2VkID0gdHJ1ZTtcbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIGlmIChzbGlkZUNoYW5nZWQpIHtcbiAgICAgICAgYXV0b3BsYXlUaW1lTGVmdCA9IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgICB9XG4gICAgICBzbGlkZUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHByb2NlZWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVsYXkgPSBhdXRvcGxheVRpbWVMZWZ0IHx8IHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGVsYXk7XG4gICAgYXV0b3BsYXlUaW1lTGVmdCA9IGRlbGF5IC0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gYXV0b3BsYXlTdGFydFRpbWUpO1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgYXV0b3BsYXlUaW1lTGVmdCA8IDAgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkgcmV0dXJuO1xuICAgIGlmIChhdXRvcGxheVRpbWVMZWZ0IDwgMCkgYXV0b3BsYXlUaW1lTGVmdCA9IDA7XG4gICAgcHJvY2VlZCgpO1xuICB9O1xuICBjb25zdCByZXN1bWUgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5pc0VuZCAmJiBhdXRvcGxheVRpbWVMZWZ0IDwgMCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBpZiAocGF1c2VkQnlJbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IGZhbHNlO1xuICAgICAgcnVuKGF1dG9wbGF5VGltZUxlZnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBydW4oKTtcbiAgICB9XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IGZhbHNlO1xuICAgIGVtaXQoJ2F1dG9wbGF5UmVzdW1lJyk7XG4gIH07XG4gIGNvbnN0IG9uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgcGF1c2UodHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvblBvaW50ZXJFbnRlciA9IGUgPT4ge1xuICAgIGlmIChlLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnKSByZXR1cm47XG4gICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgcGF1c2VkQnlQb2ludGVyRW50ZXIgPSB0cnVlO1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nIHx8IHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHJldHVybjtcbiAgICBwYXVzZSh0cnVlKTtcbiAgfTtcbiAgY29uc3Qgb25Qb2ludGVyTGVhdmUgPSBlID0+IHtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJykgcmV0dXJuO1xuICAgIHBhdXNlZEJ5UG9pbnRlckVudGVyID0gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgYXR0YWNoTW91c2VFdmVudHMgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucGF1c2VPbk1vdXNlRW50ZXIpIHtcbiAgICAgIHN3aXBlci5lbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCBvblBvaW50ZXJFbnRlcik7XG4gICAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgb25Qb2ludGVyTGVhdmUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGV0YWNoTW91c2VFdmVudHMgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsIG9uUG9pbnRlckVudGVyKTtcbiAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgb25Qb2ludGVyTGVhdmUpO1xuICB9O1xuICBjb25zdCBhdHRhY2hEb2N1bWVudEV2ZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH07XG4gIGNvbnN0IGRldGFjaERvY3VtZW50RXZlbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgfTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZW5hYmxlZCkge1xuICAgICAgYXR0YWNoTW91c2VFdmVudHMoKTtcbiAgICAgIGF0dGFjaERvY3VtZW50RXZlbnRzKCk7XG4gICAgICBzdGFydCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRldGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgZGV0YWNoRG9jdW1lbnRFdmVudHMoKTtcbiAgICBpZiAoc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH0pO1xuICBvbignX2ZyZWVNb2RlU3RhdGljUmVsZWFzZScsICgpID0+IHtcbiAgICBpZiAocGF1c2VkQnlUb3VjaCB8fCBwYXVzZWRCeUludGVyYWN0aW9uKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBwYXVzZSh0cnVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCAoX3MsIHNwZWVkLCBpbnRlcm5hbCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGlmIChpbnRlcm5hbCB8fCAhc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2UodHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVyRmlyc3RNb3ZlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uKSB7XG4gICAgICBzdG9wKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzVG91Y2hlZCA9IHRydWU7XG4gICAgcGF1c2VkQnlUb3VjaCA9IGZhbHNlO1xuICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICB0b3VjaFN0YXJ0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcGF1c2VkQnlJbnRlcmFjdGlvbiA9IHRydWU7XG4gICAgICBwYXVzZWRCeVRvdWNoID0gdHJ1ZTtcbiAgICAgIHBhdXNlKHRydWUpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuICBvbigndG91Y2hFbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nIHx8ICFpc1RvdWNoZWQpIHJldHVybjtcbiAgICBjbGVhclRpbWVvdXQodG91Y2hTdGFydFRpbWVvdXQpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2VkQnlUb3VjaCA9IGZhbHNlO1xuICAgICAgaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXVzZWRCeVRvdWNoICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmVzdW1lKCk7XG4gICAgcGF1c2VkQnlUb3VjaCA9IGZhbHNlO1xuICAgIGlzVG91Y2hlZCA9IGZhbHNlO1xuICB9KTtcbiAgb24oJ3NsaWRlQ2hhbmdlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIHNsaWRlQ2hhbmdlZCA9IHRydWU7XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5hdXRvcGxheSwge1xuICAgIHN0YXJ0LFxuICAgIHN0b3AsXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lXG4gIH0pO1xufVxuXG5leHBvcnQgeyBBdXRvcGxheSBhcyBkZWZhdWx0IH07XG4iLCAiZnVuY3Rpb24gZWZmZWN0SW5pdChwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGVmZmVjdCxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zLFxuICAgIHBlcnNwZWN0aXZlLFxuICAgIHJlY3JlYXRlU2hhZG93cyxcbiAgICBnZXRFZmZlY3RQYXJhbXNcbiAgfSA9IHBhcmFtcztcbiAgb24oJ2JlZm9yZUluaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2VmZmVjdH1gKTtcbiAgICBpZiAocGVyc3BlY3RpdmUgJiYgcGVyc3BlY3RpdmUoKSkge1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9M2RgKTtcbiAgICB9XG4gICAgY29uc3Qgb3ZlcndyaXRlUGFyYW1zUmVzdWx0ID0gb3ZlcndyaXRlUGFyYW1zID8gb3ZlcndyaXRlUGFyYW1zKCkgOiB7fTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNsYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAocmVjcmVhdGVTaGFkb3dzKSB7XG4gICAgICBpZiAoIWdldEVmZmVjdFBhcmFtcyB8fCAhZ2V0RWZmZWN0UGFyYW1zKCkuc2xpZGVTaGFkb3dzKSByZXR1cm47XG4gICAgICAvLyByZW1vdmUgc2hhZG93c1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLmZvckVhY2goc2hhZG93RWwgPT4gc2hhZG93RWwucmVtb3ZlKCkpO1xuICAgICAgfSk7XG4gICAgICAvLyBjcmVhdGUgbmV3IG9uZVxuICAgICAgcmVjcmVhdGVTaGFkb3dzKCk7XG4gICAgfVxuICB9KTtcbiAgbGV0IHJlcXVpcmVVcGRhdGVPblZpcnR1YWw7XG4gIG9uKCd2aXJ0dWFsVXBkYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgaWYgKCFzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IHRydWU7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAocmVxdWlyZVVwZGF0ZU9uVmlydHVhbCAmJiBzd2lwZXIuc2xpZGVzICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBlZmZlY3RJbml0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGVmZmVjdFRhcmdldChlZmZlY3RQYXJhbXMsIHNsaWRlRWwpIHtcbiAgY29uc3QgdHJhbnNmb3JtRWwgPSBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpO1xuICBpZiAodHJhbnNmb3JtRWwgIT09IHNsaWRlRWwpIHtcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZS5iYWNrZmFjZVZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZVsnLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5J10gPSAnaGlkZGVuJztcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRWw7XG59XG5cbmV4cG9ydCB7IGVmZmVjdFRhcmdldCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgaiBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBkdXJhdGlvbixcbiAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICBhbGxTbGlkZXNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBnZXRTbGlkZSA9IGVsID0+IHtcbiAgICBpZiAoIWVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIGFzc3VtZSBzaGFkb3cgcm9vdFxuICAgICAgY29uc3Qgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QgPT09IGVsLnBhcmVudE5vZGUpWzBdO1xuICAgICAgcmV0dXJuIHNsaWRlO1xuICAgIH1cbiAgICByZXR1cm4gZWwucGFyZW50RWxlbWVudDtcbiAgfTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIGxldCBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCB0cmFuc2l0aW9uRW5kVGFyZ2V0O1xuICAgIGlmIChhbGxTbGlkZXMpIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzLmZpbHRlcih0cmFuc2Zvcm1FbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gdHJhbnNmb3JtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgPyBnZXRTbGlkZSh0cmFuc2Zvcm1FbCkgOiB0cmFuc2Zvcm1FbDtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5nZXRTbGlkZUluZGV4KGVsKSA9PT0gYWN0aXZlSW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJhbnNpdGlvbkVuZFRhcmdldC5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGVsLCAoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBhcyBlIH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmFkZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBsZXQgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xpZGVPcGFjaXR5ID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhzbGlkZUVsLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVFbC5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gZWZmZWN0VGFyZ2V0KHBhcmFtcywgc2xpZGVFbCk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS5vcGFjaXR5ID0gc2xpZGVPcGFjaXR5O1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICAgIGFsbFNsaWRlczogdHJ1ZVxuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0RmFkZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IFN3aXBlciBmcm9tIFwic3dpcGVyXCI7XG5pbXBvcnQge1xuXHRBdXRvcGxheSxcblx0R3JpZCxcblx0TW91c2V3aGVlbCxcblx0TmF2aWdhdGlvbixcblx0UGFnaW5hdGlvbixcblx0VGh1bWJzLFxuXHRFZmZlY3RGYWRlLFxuXHRTY3JvbGxiYXIsXG59IGZyb20gXCJzd2lwZXIvbW9kdWxlc1wiO1xuXG4vKipcbiAqIEBwYXJhbSBzd2lwZXJJbml0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2lwZXJJbml0KCkge1xuXHQkKFwiLnN3aXBlci1jb2x1bW4tYXV0b1wiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcblx0XHQvLyBDb25maWd1cmF0aW9uIGZsYWdzdmlkZW9TZXR0aW5nXG5cdFx0Y29uc3QgY29uZmlnID0ge1xuXHRcdFx0bG9vcDogJHRoaXMuaGFzQ2xhc3MoXCJzd2lwZXItbG9vcFwiKSxcblx0XHRcdHRvdWNoTW92ZTogJHRoaXMuaGFzQ2xhc3MoXCJhbGxvdy10b3VjaE1vdmVcIikgfHwgdHJ1ZSxcblx0XHRcdG1vdXNlV2hlZWw6ICR0aGlzLmhhc0NsYXNzKFwiYWxsb3ctbW91c2VXaGVlbFwiKSA/IHsgZm9yY2VUb0F4aXM6IHRydWUgfSA6IGZhbHNlLFxuXHRcdFx0YXV0b0hlaWdodDogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvLWhlaWdodFwiKSxcblx0XHRcdGhhc1ZpZGVvOiAkdGhpcy5oYXNDbGFzcyhcImF1dG8tZGV0ZWN0LXZpZGVvXCIpLFxuXHRcdFx0cHJvZ3Jlc3NiYXI6ICR0aGlzLmhhc0NsYXNzKFwicHJvZ3Jlc3NiYXJcIiksXG5cdFx0XHRjZW50ZXI6ICR0aGlzLmhhc0NsYXNzKFwiY2VudGVyXCIpLFxuXHRcdFx0dGltZTogJHRoaXMuYXR0cihcImRhdGEtdGltZVwiKSB8fCAzNTAwLFxuXHRcdFx0YXV0b3BsYXk6ICR0aGlzLmhhc0NsYXNzKFwiYXV0b3BsYXlcIiksXG5cdFx0XHRpbmZpbml0ZTogJHRoaXMuaGFzQ2xhc3MoXCJzd2lwZXItaW5maW5pdGVcIiksXG5cdFx0XHRzY3JvbGxiYXI6ICR0aGlzLmhhc0NsYXNzKFwic3dpcGVyLXNjcm9sbGJhclwiKSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgY29uZmlnSW5maW5pdGUgPSB7XG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0dGltZTogMzUwMCxcblx0XHRcdGdyYWJDdXJzb3I6IHRydWUsXG5cdFx0XHRmcmVlTW9kZTogdHJ1ZSxcblx0XHRcdHNwZWVkOiAyMDAwLFxuXHRcdFx0c2xpZGVzUGVyVmlldzogNCxcblx0XHRcdGJyZWFrcG9pbnRzOiB7XG5cdFx0XHRcdDc2ODoge1xuXHRcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdDEwMjQ6IHtcblx0XHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA4LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdGF1dG9wbGF5OiB7XG5cdFx0XHRcdGRlbGF5OiAwLjUsXG5cdFx0XHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdC8vIEFkZCB1bmlxdWUgaWRlbnRpZmllciBjbGFzc1xuXHRcdCR0aGlzLmFkZENsYXNzKGBzd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH1gKTtcblxuXHRcdC8vIENyZWF0ZSBzd2lwZXIgd2l0aCBvcHRpbWl6ZWQgb3B0aW9uc1xuXHRcdG5ldyBTd2lwZXIoYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLnN3aXBlcmAsIHtcblx0XHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uLCBNb3VzZXdoZWVsLCBBdXRvcGxheV0sXG5cdFx0XHRzcGVlZDogNTAwLFxuXHRcdFx0b2JzZXJ2ZXI6IHRydWUsXG5cdFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblx0XHRcdHNwYWNlQmV0d2VlbjogMCxcblx0XHRcdGxvb3A6IGNvbmZpZy5sb29wLFxuXHRcdFx0Li4uKGNvbmZpZy5hdXRvcGxheSAmJiB7XG5cdFx0XHRcdGF1dG9wbGF5OiB7XG5cdFx0XHRcdFx0ZGVsYXk6IGNvbmZpZy50aW1lLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSksXG5cdFx0XHQuLi4oY29uZmlnLnNjcm9sbGJhciAmJiB7XG5cdFx0XHRcdHNjcm9sbGJhcjoge1xuXHRcdFx0XHRcdGVsOiBgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuc3dpcGVyLXNjcm9sbGJhci1zbGlkZWAsXG5cdFx0XHRcdFx0Ly8gaGlkZTogZmFsc2UsXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlOiB0cnVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSksXG5cdFx0XHQuLi4oY29uZmlnLmNlbnRlciAmJiB7XG5cdFx0XHRcdGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuXHRcdFx0fSksXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcblx0XHRcdHBhZ2luYXRpb246IHtcblx0XHRcdFx0ZWw6IGAuc3dpcGVyLWNvbHVtbi1hdXRvLWlkLSR7aW5kZXh9IC5zd2lwZXItcGFnaW5hdGlvbmAsXG5cdFx0XHRcdGNsaWNrYWJsZTogdHJ1ZSxcblx0XHRcdFx0Li4uKGNvbmZpZy5wcm9ncmVzc2JhciAmJiB7XG5cdFx0XHRcdFx0dHlwZTogXCJwcm9ncmVzc2JhclwiLFxuXHRcdFx0XHR9KSxcblx0XHRcdH0sXG5cdFx0XHQuLi4oY29uZmlnLmluZmluaXRlICYmIHtcblx0XHRcdFx0Li4uY29uZmlnSW5maW5pdGUsXG5cdFx0XHR9KSxcblx0XHRcdG1vdXNld2hlZWw6IGNvbmZpZy5tb3VzZVdoZWVsLFxuXHRcdFx0YWxsb3dUb3VjaE1vdmU6IGNvbmZpZy50b3VjaE1vdmUsXG5cdFx0XHRuYXZpZ2F0aW9uOiB7XG5cdFx0XHRcdHByZXZFbDogYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLmJ0bi1wcmV2YCxcblx0XHRcdFx0bmV4dEVsOiBgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuYnRuLW5leHRgLFxuXHRcdFx0fSxcblx0XHRcdHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG5cdFx0XHRhdXRvSGVpZ2h0OiBjb25maWcuYXV0b0hlaWdodCxcblx0XHRcdG9uOiB7XG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uICgpIHt9LFxuXHRcdFx0XHRzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkge30sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9KTtcblx0c3dpcGVyQmFubmVyKCk7XG59XG5mdW5jdGlvbiBzd2lwZXJCYW5uZXIoKSB7XG5cdGNvbnN0IHN3aXBlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTEgLnN3aXBlclwiKTtcblx0aWYgKCFzd2lwZXJFbCkgcmV0dXJuO1xuXG5cdGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoc3dpcGVyRWwsIHtcblx0XHRtb2R1bGVzOiBbUGFnaW5hdGlvbiwgTmF2aWdhdGlvbiwgRWZmZWN0RmFkZSwgQXV0b3BsYXldLFxuXHRcdGxvb3A6IHRydWUsXG5cdFx0ZWZmZWN0OiBcImZhZGVcIixcblx0XHQvLyBhdXRvcGxheToge1xuXHRcdC8vIFx0ZGVsYXk6IDM1MDAsXG5cdFx0Ly8gXHRkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG5cdFx0Ly8gfSxcblx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRcdHNwZWVkOiA3MDAsXG5cdFx0cGFnaW5hdGlvbjogeyBlbDogXCIuaG9tZS0xIC5zd2lwZXItcGFnaW5hdGlvblwiLCBjbGlja2FibGU6IHRydWUgfSxcblx0XHRuYXZpZ2F0aW9uOiB7IG5leHRFbDogXCIuaG9tZS0xIC5idG4tbmV4dFwiLCBwcmV2RWw6IFwiLmhvbWUtMSAuYnRuLXByZXZcIiB9LFxuXHR9KTtcblxuXHRmdW5jdGlvbiBoYW5kbGVWaWRlbyhzbGlkZSkge1xuXHRcdGlmICghc2xpZGUpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCB2aWRlbyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcblx0XHRpZiAoIXZpZGVvKSByZXR1cm4gZmFsc2U7XG5cblx0XHRzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuXG5cdFx0aWYgKHZpZGVvLnJlYWR5U3RhdGUgPCAyKSB7XG5cdFx0XHR2aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgKCkgPT4gdmlkZW8ucGxheSgpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlkZW8ucGxheSgpO1xuXHRcdH1cblxuXHRcdHZpZGVvLm9uZW5kZWQgPSAoKSA9PiBzd2lwZXIuc2xpZGVOZXh0KCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBIYW5kbGUgcGxheS9wYXVzZSBpY29uIGNsaWNrXG5cdGNvbnN0IHBsYXlJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaG9tZS0xIC5wbGF5LWljb25cIik7XG5cdHBsYXlJY29ucy5mb3JFYWNoKChwbGF5SWNvbikgPT4ge1xuXHRcdHBsYXlJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3Qgc2xpZGUgPSBwbGF5SWNvbi5jbG9zZXN0KFwiLnN3aXBlci1zbGlkZVwiKTtcblx0XHRcdGNvbnN0IHZpZGVvID0gc2xpZGUucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuXHRcdFx0Y29uc3QgaWNvbiA9IHBsYXlJY29uLnF1ZXJ5U2VsZWN0b3IoXCJpXCIpO1xuXG5cdFx0XHRpZiAoIXZpZGVvKSByZXR1cm47XG5cblx0XHRcdGlmICh2aWRlby5wYXVzZWQpIHtcblx0XHRcdFx0dmlkZW8ucGxheSgpO1xuXHRcdFx0XHRpY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJmYS1wbGF5XCIpO1xuXHRcdFx0XHRpY29uLmNsYXNzTGlzdC5hZGQoXCJmYS1wYXVzZVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZpZGVvLnBhdXNlKCk7XG5cdFx0XHRcdGljb24uY2xhc3NMaXN0LnJlbW92ZShcImZhLXBhdXNlXCIpO1xuXHRcdFx0XHRpY29uLmNsYXNzTGlzdC5hZGQoXCJmYS1wbGF5XCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRzd2lwZXIub24oXCJzbGlkZUNoYW5nZVRyYW5zaXRpb25FbmRcIiwgKCkgPT4ge1xuXHRcdHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCB2ID0gc2xpZGUucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuXHRcdFx0Y29uc3QgaWNvbiA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCIucGxheS1pY29uIGlcIik7XG5cdFx0XHRpZiAodiAmJiBpbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG5cdFx0XHRcdHYucGF1c2UoKTtcblx0XHRcdFx0di5jdXJyZW50VGltZSA9IDA7XG5cdFx0XHRcdHYub25lbmRlZCA9IG51bGw7XG5cdFx0XHRcdGlmIChpY29uKSB7XG5cdFx0XHRcdFx0aWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZmEtcGF1c2VcIik7XG5cdFx0XHRcdFx0aWNvbi5jbGFzc0xpc3QuYWRkKFwiZmEtcGxheVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY3VycmVudFNsaWRlID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuXHRcdGNvbnN0IGN1cnJlbnRJY29uID0gY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCIucGxheS1pY29uIGlcIik7XG5cdFx0Y29uc3QgaXNWaWRlbyA9IGhhbmRsZVZpZGVvKGN1cnJlbnRTbGlkZSk7XG5cdFx0aWYgKCFpc1ZpZGVvKSB7XG5cdFx0XHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcblx0XHR9IGVsc2UgaWYgKGN1cnJlbnRJY29uKSB7XG5cdFx0XHRjdXJyZW50SWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZmEtcGxheVwiKTtcblx0XHRcdGN1cnJlbnRJY29uLmNsYXNzTGlzdC5hZGQoXCJmYS1wYXVzZVwiKTtcblx0XHR9XG5cdH0pO1xuXG5cdGlmIChzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF0pIHtcblx0XHRoYW5kbGVWaWRlbyhzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF0pO1xuXHR9XG59XG5cbi8vIFByb2R1Y3QgRGV0YWlsXG4vLyBmdW5jdGlvbiBzd2lwZXJQcm9kdWN0RGV0YWlsKCkge1xuLy8gXHRjb25zdCBzd2lwZXJUaHVtYiA9IG5ldyBTd2lwZXIoXCIucHJvZHVjdC1kZXRhaWwtMSAudGh1bWIgLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW01vdXNld2hlZWxdLFxuLy8gXHRcdHNwZWVkOiA3MDAsXG4vLyBcdFx0b2JzZXJ2ZXI6IHRydWUsXG4vLyBcdFx0b2JzZXJ2ZVBhcmVudHM6IHRydWUsXG4vLyBcdFx0c2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcbi8vIFx0XHRyZXdpbmQ6IHRydWUsXG4vLyBcdFx0YWxsb3dUb3VjaE1vdmU6IGZhbHNlLFxuLy8gXHRcdGRpcmVjdGlvbjogXCJ2ZXJ0aWNhbFwiLFxuLy8gXHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0c3BhY2VCZXR3ZWVuOiA0LFxuLy8gXHRcdGJyZWFrcG9pbnRzOiB7XG4vLyBcdFx0XHQ1NzY6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogNCxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiA4LFxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdDc2ODoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDEyLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdDEwMjQ6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogNCxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiA4LFxuLy8gXHRcdFx0fSxcblxuLy8gXHRcdFx0MTkyMDoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDI0LFxuLy8gXHRcdFx0fSxcbi8vIFx0XHR9LFxuLy8gXHR9KTtcblxuLy8gXHRjb25zdCBzd2lwZXJEZXRhaWwgPSBuZXcgU3dpcGVyKFwiLnByb2R1Y3QtZGV0YWlsLTEgLm1haW4gLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW1RodW1icywgTmF2aWdhdGlvbiwgQXV0b3BsYXldLFxuLy8gXHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0c2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4vLyBcdFx0cmV3aW5kOiB0cnVlLFxuLy8gXHRcdHRodW1iczoge1xuLy8gXHRcdFx0c3dpcGVyOiBzd2lwZXJUaHVtYixcbi8vIFx0XHR9LFxuLy8gXHRcdC8vIGF1dG9wbGF5OiB7XG4vLyBcdFx0Ly8gXHRkZWxheTogNDUwMCxcbi8vIFx0XHQvLyBcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbi8vIFx0XHQvLyB9LFxuLy8gXHRcdHNwZWVkOiA3MDAsXG4vLyBcdFx0b2JzZXJ2ZXI6IHRydWUsXG4vLyBcdFx0b2JzZXJ2ZVBhcmVudHM6IHRydWUsXG4vLyBcdFx0bmF2aWdhdGlvbjoge1xuLy8gXHRcdFx0cHJldkVsOiBcIi5wcm9kdWN0LWRldGFpbC0xIC5idXR0b24tcHJldlwiLFxuLy8gXHRcdFx0bmV4dEVsOiBcIi5wcm9kdWN0LWRldGFpbC0xIC5idXR0b24tbmV4dFwiLFxuLy8gXHRcdH0sXG4vLyBcdH0pO1xuXG4vLyBcdC8vIEdcdTAwRTFuIHJhIHdpbmRvdyBcdTAxMTFcdTFFQzMgc1x1MUVFRCBkXHUxRUU1bmcgYlx1MDBFQW4gbmdvXHUwMEUwaVxuLy8gXHR3aW5kb3cucHJvZHVjdERldGFpbFN3aXBlciA9IHtcbi8vIFx0XHRzd2lwZXJUaHVtYixcbi8vIFx0XHRzd2lwZXJEZXRhaWwsXG4vLyBcdH07XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIHN3aXBlckdyaWQoKSB7XG4vLyBcdGNvbnN0IHN3aXBlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlclwiKTtcblxuLy8gXHRpZiAoIXN3aXBlckVsKSByZXR1cm47XG5cbi8vIFx0Y29uc3QgbmV4dEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlci1idXR0b24tbmV4dFwiKTtcbi8vIFx0Y29uc3QgcHJldkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lLTcgLnN3aXBlci1idXR0b24tcHJldlwiKTtcbi8vIFx0Y29uc3Qgc2Nyb2xsYmFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWUtNyAuc3dpcGVyLXNjcm9sbGJhclwiKTtcblxuLy8gXHRuZXcgU3dpcGVyKHN3aXBlckVsLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5LCBOYXZpZ2F0aW9uLCBHcmlkLCBTY3JvbGxiYXJdLFxuLy8gXHRcdHNsaWRlc1BlclZpZXc6IDIsXG4vLyBcdFx0c3BhY2VCZXR3ZWVuOiAwLFxuLy8gXHRcdHJld2luZDogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblxuLy8gXHRcdGdyaWQ6IHtcbi8vIFx0XHRcdGZpbGw6IFwicm93XCIsXG4vLyBcdFx0XHRyb3dzOiAxLFxuLy8gXHRcdH0sXG5cbi8vIFx0XHRuYXZpZ2F0aW9uOiB7XG4vLyBcdFx0XHRuZXh0RWwsXG4vLyBcdFx0XHRwcmV2RWwsXG4vLyBcdFx0fSxcblxuLy8gXHRcdHNjcm9sbGJhcjoge1xuLy8gXHRcdFx0ZWw6IHNjcm9sbGJhckVsLFxuLy8gXHRcdFx0ZHJhZ2dhYmxlOiB0cnVlLFxuLy8gXHRcdH0sXG5cbi8vIFx0XHRicmVha3BvaW50czoge1xuLy8gXHRcdFx0NzY4OiB7IHNsaWRlc1BlclZpZXc6IDMsIHNwYWNlQmV0d2VlbjogMCwgZ3JpZDogeyByb3dzOiAxIH0gfSxcbi8vIFx0XHRcdDEyMDA6IHsgc2xpZGVzUGVyVmlldzogMywgc3BhY2VCZXR3ZWVuOiAwIH0sXG4vLyBcdFx0XHQxOTIwOiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMCxcbi8vIFx0XHRcdFx0Z3JpZDoge1xuLy8gXHRcdFx0XHRcdGZpbGw6IFwicm93XCIsXG4vLyBcdFx0XHRcdFx0cm93czogMixcbi8vIFx0XHRcdFx0fSxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcblxuLy8gXHRcdG9uOiB7XG4vLyBcdFx0XHRyZXNpemUoc3cpIHtcbi8vIFx0XHRcdFx0c3cudXBkYXRlKCk7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0YnJlYWtwb2ludChzdykge1xuLy8gXHRcdFx0XHRzdy51cGRhdGUoKTtcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0fSk7XG4vLyB9XG5cbi8vIEluZGljYXRvciBzbGlkZVxuXG4vLyBmdW5jdGlvbiBzd2lwZXJWYWx1ZSgpIHtcbi8vIFx0Y29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihcIi5ob21lLTMgLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5LCBTY3JvbGxiYXJdLFxuLy8gXHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0c2xpZGVzUGVyVmlldzogMixcbi8vIFx0XHRmcmVlTW9kZTogdHJ1ZSxcbi8vIFx0XHR3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuLy8gXHRcdGxvb3A6IHRydWUsXG4vLyBcdFx0Z3JhYkN1cnNvcjogdHJ1ZSxcbi8vIFx0XHRzY3JvbGxiYXI6IHtcbi8vIFx0XHRcdGVsOiBcIi5zd2lwZXItc2Nyb2xsYmFyXCIsXG4vLyBcdFx0XHRoaWRlOiBmYWxzZSxcbi8vIFx0XHRcdGRyYWdnYWJsZTogdHJ1ZSxcbi8vIFx0XHR9LFxuLy8gXHRcdGJyZWFrcG9pbnRzOiB7XG4vLyBcdFx0XHQ3Njg6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogMyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAyNCxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0XHQxMDI0OiB7XG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdH0sXG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBzd2lwZVBhcnRuZXJUb3AoKSB7XG4vLyBcdGNvbnN0IHN3aXBlclBhcnRuZXIgPSBuZXcgU3dpcGVyKFwiLnNlY3Rpb25uLXBhcnRlciAuc2xpZGUtdG9wIC5zd2lwZXJcIiwge1xuLy8gXHRcdG1vZHVsZXM6IFtBdXRvcGxheV0sXG4vLyBcdFx0bG9vcDogdHJ1ZSxcbi8vIFx0XHRzbGlkZXNQZXJWaWV3OiAzLFxuLy8gXHRcdHNwYWNlQmV0d2VlbjogMTIsXG5cbi8vIFx0XHRicmVha3BvaW50czoge1xuLy8gXHRcdFx0NzY4OiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMTIsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0MTAyNDoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdDE5MjA6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogNyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAyMCxcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0XHRzcGVlZDogMjAwMCxcbi8vIFx0XHRhdXRvcGxheToge1xuLy8gXHRcdFx0ZGVsYXk6IDAuNSxcbi8vIFx0XHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbi8vIFx0XHRcdHJldmVyc2VEaXJlY3Rpb246IGZhbHNlLCAvLyBcdTIxOTAgY2hcdTFFQTF5IHRcdTFFRUIgcGhcdTFFQTNpIHNhbmcgdHJcdTAwRTFpXG4vLyBcdFx0fSxcbi8vIFx0XHRmcmVlTW9kZTogdHJ1ZSxcbi8vIFx0fSk7XG4vLyB9XG5cbi8vIGZ1bmN0aW9uIHN3aXBlUGFydG5lckJvdHRvbSgpIHtcbi8vIFx0Y29uc3Qgc3dpcGVyUGFydG5lciA9IG5ldyBTd2lwZXIoXCIuc2VjdGlvbm4tcGFydGVyIC5zbGlkZS1ib3R0b20gLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW0F1dG9wbGF5XSxcbi8vIFx0XHRsb29wOiB0cnVlLFxuLy8gXHRcdHNsaWRlc1BlclZpZXc6IDMsXG4vLyBcdFx0c3BhY2VCZXR3ZWVuOiAxMixcblxuLy8gXHRcdGJyZWFrcG9pbnRzOiB7XG4vLyBcdFx0XHQ3Njg6IHtcbi8vIFx0XHRcdFx0c2xpZGVzUGVyVmlldzogMyxcbi8vIFx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAxMixcbi8vIFx0XHRcdH0sXG4vLyBcdFx0XHQxMDI0OiB7XG4vLyBcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDQsXG4vLyBcdFx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0MTkyMDoge1xuLy8gXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiA3LFxuLy8gXHRcdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHR9LFxuLy8gXHRcdHNwZWVkOiAyMDAwLFxuLy8gXHRcdGF1dG9wbGF5OiB7XG4vLyBcdFx0XHRkZWxheTogMC41LFxuLy8gXHRcdFx0ZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuLy8gXHRcdFx0cmV2ZXJzZURpcmVjdGlvbjogdHJ1ZSwgLy8gXHUyMTkwIGNoXHUxRUExeSB0XHUxRUVCIHBoXHUxRUEzaSBzYW5nIHRyXHUwMEUxaVxuLy8gXHRcdH0sXG4vLyBcdFx0ZnJlZU1vZGU6IHRydWUsXG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBzd2lwZXJIaXN0b3J5KCkge1xuLy8gXHRjb25zdCBBVVRPX1BMQVlfREVMQVkgPSAzNTAwO1xuXG4vLyBcdC8vIC8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgc2xpZGUgbnVtYmVyc1xuLy8gXHQvLyBjb25zdCB1cGRhdGVTbGlkZU51bWJlcnMgPSAoc3dpcGVyKSA9PiB7XG4vLyBcdC8vIFx0Ly8gR2V0IHRvdGFsIHNsaWRlcyBleGNsdWRpbmcgZHVwbGljYXRlcyAoZm9yIGxvb3AgbW9kZSlcbi8vIFx0Ly8gXHRjb25zdCB0b3RhbFNsaWRlcyA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKFxuLy8gXHQvLyBcdFx0KHNsaWRlKSA9PiAhc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZVwiKVxuLy8gXHQvLyBcdCkubGVuZ3RoO1xuXG4vLyBcdC8vIFx0Ly8gVXBkYXRlIGVhY2ggc2xpZGUgd2l0aCBpdHMgbnVtYmVyXG4vLyBcdC8vIFx0c3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcbi8vIFx0Ly8gXHRcdC8vIFNraXAgZHVwbGljYXRlIHNsaWRlc1xuLy8gXHQvLyBcdFx0aWYgKHNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhcInN3aXBlci1zbGlkZS1kdXBsaWNhdGVcIikpIHJldHVybjtcblxuLy8gXHQvLyBcdFx0Y29uc3QgbnVtYmVyRWwgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKFwiLm51bWJlclwiKTtcbi8vIFx0Ly8gXHRcdGlmIChudW1iZXJFbCkge1xuLy8gXHQvLyBcdFx0XHQvLyBDYWxjdWxhdGUgYWN0dWFsIHNsaWRlIG51bWJlciAoYWNjb3VudGluZyBmb3IgbG9vcCBtb2RlKVxuLy8gXHQvLyBcdFx0XHRjb25zdCBzbGlkZU51bWJlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IGluZGV4IC0gc3dpcGVyLmxvb3BlZFNsaWRlcyArIDEgOiBpbmRleCArIDE7XG5cbi8vIFx0Ly8gXHRcdFx0bnVtYmVyRWwudGV4dENvbnRlbnQgPSBgJHtTdHJpbmcoc2xpZGVOdW1iZXIpLnBhZFN0YXJ0KDIsIFwiMFwiKX0vJHtTdHJpbmcoXG4vLyBcdC8vIFx0XHRcdFx0dG90YWxTbGlkZXNcbi8vIFx0Ly8gXHRcdFx0KS5wYWRTdGFydCgyLCBcIjBcIil9YDtcbi8vIFx0Ly8gXHRcdH1cbi8vIFx0Ly8gXHR9KTtcbi8vIFx0Ly8gfTtcblxuLy8gXHQvLyBTd2lwZXIgY2hvIHRodW1ibmFpbFxuLy8gXHRjb25zdCB0aHVtYlN3aXBlciA9IG5ldyBTd2lwZXIoXCIuYWJvdXQtNCAudGh1bWIgLnN3aXBlclwiLCB7XG4vLyBcdFx0bW9kdWxlczogW05hdmlnYXRpb24sIE1vdXNld2hlZWxdLFxuLy8gXHRcdHNwZWVkOiAxMDAwLFxuLy8gXHRcdGFsbG93VG91Y2hNb3ZlOiBmYWxzZSwgLy8gQ2hvIHBoXHUwMEU5cCBkaSBjaHV5XHUxRUMzbiBiXHUxRUIxbmcgY1x1MUVBM20gXHUxRUU5bmdcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcbi8vIFx0XHRpbml0aWFsU2xpZGU6IDIsXG4vLyBcdFx0Y2VudGVyZWRTbGlkZXM6IHRydWUsXG4vLyBcdFx0c2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4vLyBcdFx0c2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcbi8vIFx0XHRyZXdpbmQ6IHRydWUsXG5cbi8vIFx0XHRvbjoge1xuLy8gXHRcdFx0aW5pdDogZnVuY3Rpb24gKHN3aXBlcikge1xuLy8gXHRcdFx0XHRoYW5kbGVWaXNpYmxlU2xpZGUoc3dpcGVyKTtcbi8vIFx0XHRcdFx0Ly8gdXBkYXRlU2xpZGVOdW1iZXJzKHN3aXBlcik7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdFx0c2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIChzd2lwZXIpIHtcbi8vIFx0XHRcdFx0aGFuZGxlVmlzaWJsZVNsaWRlKHN3aXBlcik7XG4vLyBcdFx0XHR9LFxuLy8gXHRcdH0sXG4vLyBcdH0pO1xuXG4vLyBcdC8vIFN3aXBlciBjaFx1MDBFRG5oIGNobyBwaFx1MUVBN24gY2hpIHRpXHUxRUJGdFxuLy8gXHRjb25zdCBtYWluU3dpcGVyID0gbmV3IFN3aXBlcihcIi5hYm91dC00IC5tYWluIC5zd2lwZXJcIiwge1xuLy8gXHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBUaHVtYnMsIEF1dG9wbGF5XSxcbi8vIFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuLy8gXHRcdHJld2luZDogdHJ1ZSxcbi8vIFx0XHRzcGVlZDogMTAwMCxcbi8vIFx0XHRvYnNlcnZlcjogdHJ1ZSxcbi8vIFx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcbi8vIFx0XHRhdXRvSGVpZ2h0OiB0cnVlLFxuLy8gXHRcdGluaXRpYWxTbGlkZTogMiwgLy8gXHUwMTEwXHUxRUQzbmcgYlx1MUVEOSB2XHUxRURCaSB0aHVtYlN3aXBlciBcdTAxMTFcdTFFQzMgc2xpZGUgYWN0aXZlIFx1MUVERiBnaVx1MUVFRmFcbi8vIFx0XHRuYXZpZ2F0aW9uOiB7XG4vLyBcdFx0XHRuZXh0RWw6IFwiLmFib3V0LTQgLmJ0bi1uZXh0XCIsXG4vLyBcdFx0XHRwcmV2RWw6IFwiLmFib3V0LTQgLmJ0bi1wcmV2XCIsXG4vLyBcdFx0fSxcbi8vIFx0XHR0aHVtYnM6IHtcbi8vIFx0XHRcdHN3aXBlcjogdGh1bWJTd2lwZXIsXG4vLyBcdFx0fSxcbi8vIFx0XHRsb29wOiB0cnVlLCAvLyBRdWF5IGxcdTFFQTFpIHNsaWRlIFx1MDExMVx1MUVBN3Uga2hpIFx1MDExMVx1MUVCRm4gc2xpZGUgY3VcdTFFRDFpXG4vLyBcdFx0b246IHtcbi8vIFx0XHRcdGluaXQ6IGZ1bmN0aW9uIChzd2lwZXIpIHtcbi8vIFx0XHRcdFx0aGFuZGxlVmlzaWJsZVNsaWRlKHN3aXBlcik7IC8vIEdcdTFFQ0RpIGhcdTAwRTBtIGtoaSBTd2lwZXIgY2hcdTAwRURuaCBcdTAxMTFcdTAxQjBcdTFFRTNjIGtoXHUxRURGaSB0XHUxRUExb1xuLy8gXHRcdFx0XHQvLyBcdTAxMTBcdTFFQTNtIGJcdTFFQTNvIHRodW1iU3dpcGVyIGNcdTAxNjluZyB1cGRhdGUgXHUwMTExXHUwMEZBbmdcbi8vIFx0XHRcdFx0aWYgKHRodW1iU3dpcGVyKSB7XG4vLyBcdFx0XHRcdFx0dGh1bWJTd2lwZXIuc2xpZGVUbygxLCAwKTtcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSxcbi8vIFx0XHRcdHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoc3dpcGVyKSB7XG4vLyBcdFx0XHRcdGhhbmRsZVZpc2libGVTbGlkZShzd2lwZXIpOyAvLyBHXHUxRUNEaSBoXHUwMEUwbSBraGkgc2xpZGUgY2hcdTAwRURuaCB0aGF5IFx1MDExMVx1MUVENWlcbi8vIFx0XHRcdH0sXG4vLyBcdFx0fSxcbi8vIFx0fSk7XG5cbi8vIFx0Ly8gSGFuZGxlIGF1dG9wbGF5IChpZiBuZWVkZWQpXG4vLyBcdGhhbmRsZUF1dG9wbGF5KEFVVE9fUExBWV9ERUxBWSwgbWFpblN3aXBlcik7XG5cbi8vIFx0Ly8gSGFuZGxlIHRoZSB2aXNpYmxlIHNsaWRlIGVmZmVjdFxuLy8gXHRmdW5jdGlvbiBoYW5kbGVWaXNpYmxlU2xpZGUoc3dpcGVyKSB7XG4vLyBcdFx0Y29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4vLyBcdFx0Y29uc3QgYWxsU2xpZGVzID0gc3dpcGVyLnNsaWRlcztcblxuLy8gXHRcdC8vIENsZWFyIGV4aXN0aW5nIFwic2hvdy1zbGlkZVwiIGNsYXNzZXNcbi8vIFx0XHRhbGxTbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcbi8vIFx0XHRcdHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXNsaWRlXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0Ly8gR2V0IHRoZSBzdXJyb3VuZGluZyBzbGlkZXNcbi8vIFx0XHRjb25zdCBzbGlkZUJlZm9yZVByZXYgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4IC0gMV07XG4vLyBcdFx0Y29uc3Qgc2xpZGVCZWZvcmVQcmV2MiA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXggLSAyXTtcbi8vIFx0XHRjb25zdCBzbGlkZUJlZm9yZVByZXYzID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleCAtIDNdO1xuLy8gXHRcdGNvbnN0IHNsaWRlQWZ0ZXJOZXh0ID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleCArIDFdO1xuLy8gXHRcdGNvbnN0IHNsaWRlQWZ0ZXJOZXh0MiA9IHN3aXBlci5zbGlkZXNbYWN0aXZlSW5kZXggKyAyXTtcbi8vIFx0XHRjb25zdCBzbGlkZUFmdGVyTmV4dDMgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4ICsgM107XG4vLyBcdFx0Y29uc3QgYWN0aXZlU2xpZGUgPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XTtcblxuLy8gXHRcdC8vIEFkZCB0aGUgXCJzaG93LXNsaWRlXCIgY2xhc3MgdG8gc3Vycm91bmRpbmcgYW5kIGFjdGl2ZSBzbGlkZXNcbi8vIFx0XHRpZiAoc2xpZGVCZWZvcmVQcmV2KSBzbGlkZUJlZm9yZVByZXYuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQmVmb3JlUHJldjIpIHNsaWRlQmVmb3JlUHJldjIuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQmVmb3JlUHJldjMpIHNsaWRlQmVmb3JlUHJldjMuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQWZ0ZXJOZXh0KSBzbGlkZUFmdGVyTmV4dC5jbGFzc0xpc3QuYWRkKFwic2hvdy1zbGlkZVwiKTtcbi8vIFx0XHRpZiAoc2xpZGVBZnRlck5leHQyKSBzbGlkZUFmdGVyTmV4dDIuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdFx0aWYgKHNsaWRlQWZ0ZXJOZXh0Mykgc2xpZGVBZnRlck5leHQzLmNsYXNzTGlzdC5hZGQoXCJzaG93LXNsaWRlXCIpO1xuLy8gXHRcdGlmIChhY3RpdmVTbGlkZSkgYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZChcInNob3ctc2xpZGVcIik7XG4vLyBcdH1cbi8vIH1cblxuLy8gZnVuY3Rpb24gaGFuZGxlQXV0b3BsYXkodGltZW91dCwgc3dpcGVyLCBwcmV2ZW50TW91c2VFbnRlciA9IGZhbHNlLCB0aHVtYlN3aXBlciA9IG51bGwpIHtcbi8vIFx0aWYgKCFzd2lwZXIgfHwgIXN3aXBlci5lbCB8fCAhJChzd2lwZXIuZWwpLmxlbmd0aCkgcmV0dXJuO1xuXG4vLyBcdGxldCBzdG9wU2xpZGVJbW1lZGlhdGUgPSAkKHN3aXBlci5lbFswXSkucGFyZW50KCkuaGFzQ2xhc3MoXCJhdXRvLWRldGVjdC12aWRlb1wiKTtcbi8vIFx0aWYgKHN0b3BTbGlkZUltbWVkaWF0ZSkgcmV0dXJuO1xuXG4vLyBcdC8vIENvbmZpZ3VyZSBhdXRvcGxheVxuLy8gXHRzd2lwZXIucGFyYW1zLmF1dG9wbGF5ID0ge1xuLy8gXHRcdGRlbGF5OiB0aW1lb3V0LFxuLy8gXHRcdGRpc2FibGVPbkludGVyYWN0aW9uOiAhcHJldmVudE1vdXNlRW50ZXIsXG4vLyBcdFx0cGF1c2VPbk1vdXNlRW50ZXI6ICFwcmV2ZW50TW91c2VFbnRlcixcbi8vIFx0fTtcblxuLy8gXHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcblxuLy8gXHRjb25zdCBuYXZpZ2F0aW9uRWwgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4vLyBcdGlmIChuYXZpZ2F0aW9uRWwpIHtcbi8vIFx0XHRsZXQgaXNSZWFjaEVuZCA9IGZhbHNlO1xuLy8gXHRcdGxldCBpc1JlYWNoU3RhcnQgPSBmYWxzZTtcblxuLy8gXHRcdHN3aXBlci5vbihcImJlZm9yZVNsaWRlQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuLy8gXHRcdFx0aXNSZWFjaEVuZCA9IHN3aXBlci5pc0VuZDtcbi8vIFx0XHRcdGlzUmVhY2hTdGFydCA9IHN3aXBlci5pc0JlZ2lubmluZztcbi8vIFx0XHR9KTtcblxuLy8gXHRcdCQobmF2aWdhdGlvbkVsLnByZXZFbCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4vLyBcdFx0XHRpZiAoaXNSZWFjaFN0YXJ0KSByZXR1cm47XG5cbi8vIFx0XHRcdHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4vLyBcdFx0XHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0JChuYXZpZ2F0aW9uRWwubmV4dEVsKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbi8vIFx0XHRcdGlmIChpc1JlYWNoRW5kKSByZXR1cm47XG5cbi8vIFx0XHRcdHN3aXBlci5hdXRvcGxheS5zdG9wKCk7XG4vLyBcdFx0XHRzd2lwZXIuYXV0b3BsYXkuc3RhcnQoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuLy8gXHR9XG5cbi8vIFx0aWYgKHRodW1iU3dpcGVyKSB7XG4vLyBcdFx0dGh1bWJTd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuLy8gXHRcdFx0c3dpcGVyLmF1dG9wbGF5LnN0b3AoKTtcbi8vIFx0XHRcdCQoc3dpcGVyLmVsKS5hdHRyKFwiZGF0YS1hdXRvLXBsYXlcIiwgXCJzdG9wXCIpO1xuLy8gXHRcdH0pO1xuXG4vLyBcdFx0dGh1bWJTd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuLy8gXHRcdFx0c3dpcGVyLmF1dG9wbGF5LnN0YXJ0KCk7XG4vLyBcdFx0fSk7XG4vLyBcdH1cbi8vIH1cbiIsICIvKipcbiAqIGFuaW1lLmpzIC0gRVNNXG4gKiBAdmVyc2lvbiB2NC4wLjFcbiAqIEBhdXRob3IgSnVsaWFuIEdhcm5pZXJcbiAqIEBsaWNlbnNlIE1JVFxuICogQGNvcHlyaWdodCAoYykgMjAyNSBKdWxpYW4gR2FybmllclxuICogQHNlZSBodHRwczovL2FuaW1lanMuY29tXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c1BhcmFtc1xuICogQHByb3BlcnR5IHtudW1iZXJ8c3RyaW5nfSBbaWRdXG4gKiBAcHJvcGVydHkge1BlcmNlbnRhZ2VLZXlmcmFtZXN8RHVyYXRpb25LZXlmcmFtZXN9IFtrZXlmcmFtZXNdXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbcGxheWJhY2tFYXNlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwbGF5YmFja1JhdGVdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyYW1lUmF0ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGJvb2xlYW59IFtsb29wXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmV2ZXJzZWRdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbHRlcm5hdGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58U2Nyb2xsT2JzZXJ2ZXJ9IFthdXRvcGxheV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfEZ1bmN0aW9uVmFsdWV9IFtkdXJhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfEZ1bmN0aW9uVmFsdWV9IFtkZWxheV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbG9vcERlbGF5XVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKiBAcHJvcGVydHkgeydub25lJ3wncmVwbGFjZSd8J2JsZW5kJ3xjb21wb3NpdGlvblR5cGVzfSBbY29tcG9zaXRpb25dXG4gKiBAcHJvcGVydHkgeyh2OiBhbnkpID0+IGFueX0gW21vZGlmaWVyXVxuICogQHByb3BlcnR5IHsodGlja2FibGU6IFRpY2thYmxlKSA9PiB2b2lkfSBbb25CZWdpbl1cbiAqIEBwcm9wZXJ0eSB7KHRpY2thYmxlOiBUaWNrYWJsZSkgPT4gdm9pZH0gW29uQmVmb3JlVXBkYXRlXVxuICogQHByb3BlcnR5IHsodGlja2FibGU6IFRpY2thYmxlKSA9PiB2b2lkfSBbb25VcGRhdGVdXG4gKiBAcHJvcGVydHkgeyh0aWNrYWJsZTogVGlja2FibGUpID0+IHZvaWR9IFtvbkxvb3BdXG4gKiBAcHJvcGVydHkgeyh0aWNrYWJsZTogVGlja2FibGUpID0+IHZvaWR9IFtvblBhdXNlXVxuICogQHByb3BlcnR5IHsodGlja2FibGU6IFRpY2thYmxlKSA9PiB2b2lkfSBbb25Db21wbGV0ZV1cbiAqIEBwcm9wZXJ0eSB7KHJlbmRlcmFibGU6IFJlbmRlcmFibGUpID0+IHZvaWR9IFtvblJlbmRlcl1cbiAqL1xuXG4vKiogQHR5cGVkZWYge0pTQW5pbWF0aW9ufFRpbWVsaW5lfSBSZW5kZXJhYmxlICovXG4vKiogQHR5cGVkZWYge1RpbWVyfFJlbmRlcmFibGV9IFRpY2thYmxlICovXG4vKiogQHR5cGVkZWYge1RpbWVyJkpTQW5pbWF0aW9uJlRpbWVsaW5lfSBDYWxsYmFja0FyZ3VtZW50ICovXG4vKiogQHR5cGVkZWYge0FuaW1hdGFibGV8VGlja2FibGV8RHJhZ2dhYmxlfFNjcm9sbE9ic2VydmVyfFNjb3BlfSBSZXZlcnRpYmxlICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEVhc2luZ0Z1bmN0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeygnbGluZWFyJ3wnbGluZWFyKHgxLCB4MiAyNSUsIHgzKSd8J2luJ3wnb3V0J3wnaW5PdXQnfCdpblF1YWQnfCdvdXRRdWFkJ3wnaW5PdXRRdWFkJ3wnaW5DdWJpYyd8J291dEN1YmljJ3wnaW5PdXRDdWJpYyd8J2luUXVhcnQnfCdvdXRRdWFydCd8J2luT3V0UXVhcnQnfCdpblF1aW50J3wnb3V0UXVpbnQnfCdpbk91dFF1aW50J3wnaW5TaW5lJ3wnb3V0U2luZSd8J2luT3V0U2luZSd8J2luQ2lyYyd8J291dENpcmMnfCdpbk91dENpcmMnfCdpbkV4cG8nfCdvdXRFeHBvJ3wnaW5PdXRFeHBvJ3wnaW5Cb3VuY2UnfCdvdXRCb3VuY2UnfCdpbk91dEJvdW5jZSd8J2luQmFjayd8J291dEJhY2snfCdpbk91dEJhY2snfCdpbkVsYXN0aWMnfCdvdXRFbGFzdGljJ3wnaW5PdXRFbGFzdGljJ3wnaXJyZWd1bGFyJ3wnY3ViaWNCZXppZXInfCdzdGVwcyd8J2luKHAgPSAxLjY3NSknfCdvdXQocCA9IDEuNjc1KSd8J2luT3V0KHAgPSAxLjY3NSknfCdpbkJhY2sob3ZlcnNob290ID0gMS43MDE1OCknfCdvdXRCYWNrKG92ZXJzaG9vdCA9IDEuNzAxNTgpJ3wnaW5PdXRCYWNrKG92ZXJzaG9vdCA9IDEuNzAxNTgpJ3wnaW5FbGFzdGljKGFtcGxpdHVkZSA9IDEsIHBlcmlvZCA9IC4zKSd8J291dEVsYXN0aWMoYW1wbGl0dWRlID0gMSwgcGVyaW9kID0gLjMpJ3wnaW5PdXRFbGFzdGljKGFtcGxpdHVkZSA9IDEsIHBlcmlvZCA9IC4zKSd8J2lycmVndWxhcihsZW5ndGggPSAxMCwgcmFuZG9tbmVzcyA9IDEpJ3wnY3ViaWNCZXppZXIoeDEsIHkxLCB4MiwgeTIpJ3wnc3RlcHMoc3RlcHMgPSAxMCknKX0gRWFzZVN0cmluZ1BhcmFtTmFtZXNcbiAqL1xuXG4vLyBBIGhhY2sgdG8gZ2V0IGJvdGggZWFzZSBuYW1lcyBzdWdnZXN0aW9ucyBBTkQgYWxsb3cgYW55IHN0cmluZ3Ncbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjk3MjkjaXNzdWVjb21tZW50LTQ2MDM0NjQyMVxuLyoqIEB0eXBlZGVmIHsoU3RyaW5nICYge30pfEVhc2VTdHJpbmdQYXJhbU5hbWVzfEVhc2luZ0Z1bmN0aW9ufFNwcmluZ30gRWFzaW5nUGFyYW0gKi9cblxuLyoqIEB0eXBlZGVmIHtIVE1MRWxlbWVudHxTVkdFbGVtZW50fSBET01UYXJnZXQgKi9cbi8qKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgYW55Pn0gSlNUYXJnZXQgKi9cbi8qKiBAdHlwZWRlZiB7RE9NVGFyZ2V0fEpTVGFyZ2V0fSBUYXJnZXQgKi9cbi8qKiBAdHlwZWRlZiB7VGFyZ2V0fE5vZGVMaXN0fFN0cmluZ30gVGFyZ2V0U2VsZWN0b3IgKi9cbi8qKiBAdHlwZWRlZiB7RE9NVGFyZ2V0fE5vZGVMaXN0fFN0cmluZ30gRE9NVGFyZ2V0U2VsZWN0b3IgKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPERPTVRhcmdldFNlbGVjdG9yPnxET01UYXJnZXRTZWxlY3Rvcn0gRE9NVGFyZ2V0c1BhcmFtICovXG4vKiogQHR5cGVkZWYge0FycmF5LjxET01UYXJnZXQ+fSBET01UYXJnZXRzQXJyYXkgKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPEpTVGFyZ2V0PnxKU1RhcmdldH0gSlNUYXJnZXRzUGFyYW0gKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPEpTVGFyZ2V0Pn0gSlNUYXJnZXRzQXJyYXkgKi9cbi8qKiBAdHlwZWRlZiB7QXJyYXkuPFRhcmdldFNlbGVjdG9yPnxUYXJnZXRTZWxlY3Rvcn0gVGFyZ2V0c1BhcmFtICovXG4vKiogQHR5cGVkZWYge0FycmF5LjxUYXJnZXQ+fSBUYXJnZXRzQXJyYXkgKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgRnVuY3Rpb25WYWx1ZVxuICogQHBhcmFtIHtUYXJnZXR9IHRhcmdldCAtIFRoZSBhbmltYXRlZCB0YXJnZXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIFRoZSB0YXJnZXQgaW5kZXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBUaGUgdG90YWwgbnVtYmVyIG9mIGFuaW1hdGVkIHRhcmdldHNcbiAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd8VHdlZW5PYmplY3RWYWx1ZXxBcnJheS48TnVtYmVyfFN0cmluZ3xUd2Vlbk9iamVjdFZhbHVlPn1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBUd2Vlbk1vZGlmaWVyXG4gKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSBUaGUgYW5pbWF0ZWQgdmFsdWVcbiAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gQ29sb3JBcnJheSAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAY2FsbGJhY2sgQ2FsbGJhY2tcbiAqIEBwYXJhbSB7VH0gc2VsZiAtIFJldHVybnMgaXRzZWxmXG4gKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gW2VdXG4gKiBAcmV0dXJuIHsqfVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtvYmplY3R9IFRcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRpY2thYmxlQ2FsbGJhY2tzXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFQ+fSBbb25CZWdpbl1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvbkJlZm9yZVVwZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvblVwZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvbkxvb3BdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFQ+fSBbb25QYXVzZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvbkNvbXBsZXRlXVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtvYmplY3R9IFRcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlcmFibGVDYWxsYmFja3NcbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8VD59IFtvblJlbmRlcl1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFR3ZWVuXG4gKiBAcHJvcGVydHkge051bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7SlNBbmltYXRpb259IHBhcmVudFxuICogQHByb3BlcnR5IHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcHJvcGVydHkge1RhcmdldH0gdGFyZ2V0XG4gKiBAcHJvcGVydHkge1N0cmluZ3xOdW1iZXJ9IF92YWx1ZVxuICogQHByb3BlcnR5IHtGdW5jdGlvbnxudWxsfSBfZnVuY1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gX2Vhc2VcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IF9mcm9tTnVtYmVyc1xuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gX3RvTnVtYmVyc1xuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gX3N0cmluZ3NcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfZnJvbU51bWJlclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF90b051bWJlclxuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gX251bWJlcnNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfbnVtYmVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gX3VuaXRcbiAqIEBwcm9wZXJ0eSB7VHdlZW5Nb2RpZmllcn0gX21vZGlmaWVyXG4gKiBAcHJvcGVydHkge051bWJlcn0gX2N1cnJlbnRUaW1lXG4gKiBAcHJvcGVydHkge051bWJlcn0gX2RlbGF5XG4gKiBAcHJvcGVydHkge051bWJlcn0gX3VwZGF0ZUR1cmF0aW9uXG4gKiBAcHJvcGVydHkge051bWJlcn0gX3N0YXJ0VGltZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9jaGFuZ2VEdXJhdGlvblxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9hYnNvbHV0ZVN0YXJ0VGltZVxuICogQHByb3BlcnR5IHt0d2VlblR5cGVzfSBfdHdlZW5UeXBlXG4gKiBAcHJvcGVydHkge3ZhbHVlVHlwZXN9IF92YWx1ZVR5cGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfY29tcG9zaXRpb25cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBfaXNPdmVybGFwcGVkXG4gKiBAcHJvcGVydHkge051bWJlcn0gX2lzT3ZlcnJpZGRlblxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9yZW5kZXJUcmFuc2Zvcm1zXG4gKiBAcHJvcGVydHkge1R3ZWVufSBfcHJldlJlcFxuICogQHByb3BlcnR5IHtUd2Vlbn0gX25leHRSZXBcbiAqIEBwcm9wZXJ0eSB7VHdlZW59IF9wcmV2QWRkXG4gKiBAcHJvcGVydHkge1R3ZWVufSBfbmV4dEFkZFxuICogQHByb3BlcnR5IHtUd2Vlbn0gX3ByZXZcbiAqIEBwcm9wZXJ0eSB7VHdlZW59IF9uZXh0XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBUd2VlbkRlY29tcG9zZWRWYWx1ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHQgLSBUeXBlXG4gKiBAcHJvcGVydHkge051bWJlcn0gbiAtIFNpbmdsZSBudW1iZXIgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB1IC0gVmFsdWUgdW5pdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IG8gLSBWYWx1ZSBvcGVyYXRvclxuICogQHByb3BlcnR5IHtBcnJheS48TnVtYmVyPn0gZCAtIEFycmF5IG9mIE51bWJlcnMgKGluIGNhc2Ugb2YgY29tcGxleCB2YWx1ZSB0eXBlKVxuICogQHByb3BlcnR5IHtBcnJheS48U3RyaW5nPn0gcyAtIFN0cmluZ3MgKGluIGNhc2Ugb2YgY29tcGxleCB2YWx1ZSB0eXBlKVxuICovXG5cbi8qKiBAdHlwZWRlZiB7e19oZWFkOiBudWxsfFR3ZWVuLCBfdGFpbDogbnVsbHxUd2Vlbn19IFR3ZWVuUHJvcGVydHlTaWJsaW5ncyAqL1xuLyoqIEB0eXBlZGVmIHtSZWNvcmQ8U3RyaW5nLCBUd2VlblByb3BlcnR5U2libGluZ3M+fSBUd2Vlbkxvb2t1cHMgKi9cbi8qKiBAdHlwZWRlZiB7V2Vha01hcC48VGFyZ2V0LCBUd2Vlbkxvb2t1cHM+fSBUd2VlblJlcGxhY2VMb29rdXBzICovXG4vKiogQHR5cGVkZWYge01hcC48VGFyZ2V0LCBUd2Vlbkxvb2t1cHM+fSBUd2VlbkFkZGl0aXZlTG9va3VwcyAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRpbWVyT3B0aW9uc1xuICogQHByb3BlcnR5IHtOdW1iZXJ8U3RyaW5nfSBbaWRdXG4gKiBAcHJvcGVydHkge1R3ZWVuUGFyYW1WYWx1ZX0gW2R1cmF0aW9uXVxuICogQHByb3BlcnR5IHtUd2VlblBhcmFtVmFsdWV9IFtkZWxheV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbG9vcERlbGF5XVxuICogQHByb3BlcnR5IHtCb29sZWFufSBbcmV2ZXJzZWRdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFthbHRlcm5hdGVdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW58TnVtYmVyfSBbbG9vcF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxTY3JvbGxPYnNlcnZlcn0gW2F1dG9wbGF5XVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtmcmFtZVJhdGVdXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3BsYXliYWNrUmF0ZV1cbiAqL1xuXG4vKipcblxuLyoqXG4gKiBAdHlwZWRlZiB7VGltZXJPcHRpb25zICYgVGlja2FibGVDYWxsYmFja3M8VGltZXI+fSBUaW1lclBhcmFtc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge051bWJlcnxTdHJpbmd8RnVuY3Rpb25WYWx1ZX0gVHdlZW5QYXJhbVZhbHVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7VHdlZW5QYXJhbVZhbHVlfFtUd2VlblBhcmFtVmFsdWUsIFR3ZWVuUGFyYW1WYWx1ZV19IFR3ZWVuUHJvcFZhbHVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KFN0cmluZyAmIHt9KXwnbm9uZSd8J3JlcGxhY2UnfCdibGVuZCd8Y29tcG9zaXRpb25UeXBlc30gVHdlZW5Db21wb3NpdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVHdlZW5QYXJhbXNPcHRpb25zXG4gKiBAcHJvcGVydHkge1R3ZWVuUGFyYW1WYWx1ZX0gW2R1cmF0aW9uXVxuICogQHByb3BlcnR5IHtUd2VlblBhcmFtVmFsdWV9IFtkZWxheV1cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtlYXNlXVxuICogQHByb3BlcnR5IHtUd2Vlbk1vZGlmaWVyfSBbbW9kaWZpZXJdXG4gKiBAcHJvcGVydHkge1R3ZWVuQ29tcG9zaXRpb259IFtjb21wb3NpdGlvbl1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFR3ZWVuVmFsdWVzXG4gKiBAcHJvcGVydHkge1R3ZWVuUGFyYW1WYWx1ZX0gW2Zyb21dXG4gKiBAcHJvcGVydHkge1R3ZWVuUHJvcFZhbHVlfSBbdG9dXG4gKiBAcHJvcGVydHkge1R3ZWVuUHJvcFZhbHVlfSBbZnJvbVRvXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1R3ZWVuUGFyYW1zT3B0aW9ucyAmIFR3ZWVuVmFsdWVzfSBUd2VlbktleVZhbHVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7QXJyYXkuPFR3ZWVuS2V5VmFsdWV8VHdlZW5Qcm9wVmFsdWU+fSBBcnJheVN5bnRheFZhbHVlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7VHdlZW5QYXJhbVZhbHVlfEFycmF5U3ludGF4VmFsdWV8VHdlZW5LZXlWYWx1ZX0gVHdlZW5PcHRpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7UGFydGlhbDx7dG86IFR3ZWVuUGFyYW1WYWx1ZXxBcnJheS48VHdlZW5QYXJhbVZhbHVlPjsgZnJvbTogVHdlZW5QYXJhbVZhbHVlfEFycmF5LjxUd2VlblBhcmFtVmFsdWU+OyBmcm9tVG86IFR3ZWVuUGFyYW1WYWx1ZXxBcnJheS48VHdlZW5QYXJhbVZhbHVlPjt9Pn0gVHdlZW5PYmplY3RWYWx1ZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGVyY2VudGFnZUtleWZyYW1lT3B0aW9uc1xuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgVHdlZW5QYXJhbVZhbHVlPn0gUGVyY2VudGFnZUtleWZyYW1lUGFyYW1zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgUGVyY2VudGFnZUtleWZyYW1lUGFyYW1zICYgUGVyY2VudGFnZUtleWZyYW1lT3B0aW9ucz59IFBlcmNlbnRhZ2VLZXlmcmFtZXNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtBcnJheTxSZWNvcmQ8U3RyaW5nLCBUd2Vlbk9wdGlvbnMgfCBUd2Vlbk1vZGlmaWVyIHwgYm9vbGVhbj4gJiBUd2VlblBhcmFtc09wdGlvbnM+fSBEdXJhdGlvbktleWZyYW1lc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtQZXJjZW50YWdlS2V5ZnJhbWVzfER1cmF0aW9uS2V5ZnJhbWVzfSBba2V5ZnJhbWVzXVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW3BsYXliYWNrRWFzZV1cbiAqL1xuXG4vLyBUT0RPOiBDdXJyZW50bHkgc2V0dGluZyBUd2Vlbk1vZGlmaWVyIHRvIHRoZSBpbnRlcnNlY3RlZCBSZWNvcmQ8PiBtYWtlcyB0aGUgRnVuY3Rpb25WYWx1ZSB0eXBlIHRhcmdldCBwYXJhbSBhbnkgaWYgb25seSBvbmUgcGFyYW1ldGVyIGlzIHNldFxuLyoqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgVHdlZW5PcHRpb25zIHwgQ2FsbGJhY2s8SlNBbmltYXRpb24+IHwgVHdlZW5Nb2RpZmllciB8IGJvb2xlYW4gfCBQZXJjZW50YWdlS2V5ZnJhbWVzIHwgRHVyYXRpb25LZXlmcmFtZXMgfCBTY3JvbGxPYnNlcnZlcj4gJiBUaW1lck9wdGlvbnMgJiBBbmltYXRpb25PcHRpb25zICYgVHdlZW5QYXJhbXNPcHRpb25zICYgVGlja2FibGVDYWxsYmFja3M8SlNBbmltYXRpb24+ICYgUmVuZGVyYWJsZUNhbGxiYWNrczxKU0FuaW1hdGlvbj59IEFuaW1hdGlvblBhcmFtc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGltZWxpbmVPcHRpb25zXG4gKiBAcHJvcGVydHkge0RlZmF1bHRzUGFyYW1zfSBbZGVmYXVsdHNdXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbcGxheWJhY2tFYXNlXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1RpbWVyT3B0aW9ucyAmIFRpbWVsaW5lT3B0aW9ucyAmIFRpY2thYmxlQ2FsbGJhY2tzPFRpbWVsaW5lPiAmIFJlbmRlcmFibGVDYWxsYmFja3M8VGltZWxpbmU+fSBUaW1lbGluZVBhcmFtc1xuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEFuaW1hdGFibGVQcm9wZXJ0eVNldHRlclxuICogQHBhcmFtICB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fSB0b1xuICogQHBhcmFtICB7TnVtYmVyfSBbZHVyYXRpb25dXG4gKiBAcGFyYW0gIHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKiBAcmV0dXJuIHtBbmltYXRhYmxlT2JqZWN0fVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEFuaW1hdGFibGVQcm9wZXJ0eUdldHRlclxuICogQHJldHVybiB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0FuaW1hdGFibGVQcm9wZXJ0eVNldHRlciAmIEFuaW1hdGFibGVQcm9wZXJ0eUdldHRlcn0gQW5pbWF0YWJsZVByb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7QW5pbWF0YWJsZSAmIFJlY29yZDxTdHJpbmcsIEFuaW1hdGFibGVQcm9wZXJ0eT59IEFuaW1hdGFibGVPYmplY3RcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGFibGVQcm9wZXJ0eVBhcmFtc09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdW5pdF1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5QYXJhbVZhbHVlfSBbZHVyYXRpb25dXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEBwcm9wZXJ0eSB7VHdlZW5Nb2RpZmllcn0gW21vZGlmaWVyXVxuICogQHByb3BlcnR5IHtUd2VlbkNvbXBvc2l0aW9ufSBbY29tcG9zaXRpb25dXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7UmVjb3JkPFN0cmluZywgVHdlZW5QYXJhbVZhbHVlIHwgRWFzaW5nUGFyYW0gfCBUd2Vlbk1vZGlmaWVyIHwgVHdlZW5Db21wb3NpdGlvbiB8IEFuaW1hdGFibGVQcm9wZXJ0eVBhcmFtc09wdGlvbnM+ICYgQW5pbWF0YWJsZVByb3BlcnR5UGFyYW1zT3B0aW9uc30gQW5pbWF0YWJsZVBhcmFtc1xuICovXG5cblxuLy8gRW52aXJvbm1lbnRzXG5cbi8vIFRPRE86IERvIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UncmUgcnVubmluZyBpbnNpZGUgYSB3b3JrZXIgP1xuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKiBAdHlwZSB7T2JqZWN0fE51bGx9ICovXG5jb25zdCB3aW4gPSBpc0Jyb3dzZXIgPyB3aW5kb3cgOiBudWxsO1xuXG4vKiogQHR5cGUge0RvY3VtZW50fSAqL1xuY29uc3QgZG9jID0gaXNCcm93c2VyID8gZG9jdW1lbnQgOiBudWxsO1xuXG4vLyBFbnVtc1xuXG4vKiogQGVudW0ge051bWJlcn0gKi9cbmNvbnN0IHR3ZWVuVHlwZXMgPSB7XG4gIE9CSkVDVDogMCxcbiAgQVRUUklCVVRFOiAxLFxuICBDU1M6IDIsXG4gIFRSQU5TRk9STTogMyxcbiAgQ1NTX1ZBUjogNCxcbn07XG5cbi8qKiBAZW51bSB7TnVtYmVyfSAqL1xuY29uc3QgdmFsdWVUeXBlcyA9IHtcbiAgTlVNQkVSOiAwLFxuICBVTklUOiAxLFxuICBDT0xPUjogMixcbiAgQ09NUExFWDogMyxcbn07XG5cbi8qKiBAZW51bSB7TnVtYmVyfSAqL1xuY29uc3QgdGlja01vZGVzID0ge1xuICBOT05FOiAwLFxuICBBVVRPOiAxLFxuICBGT1JDRTogMixcbn07XG5cbi8qKiBAZW51bSB7TnVtYmVyfSAqL1xuY29uc3QgY29tcG9zaXRpb25UeXBlcyA9IHtcbiAgcmVwbGFjZTogMCxcbiAgbm9uZTogMSxcbiAgYmxlbmQ6IDIsXG59O1xuXG4vLyBDYWNoZSBzeW1ib2xzXG5cbmNvbnN0IGlzUmVnaXN0ZXJlZFRhcmdldFN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgaXNEb21TeW1ib2wgPSBTeW1ib2woKTtcbmNvbnN0IGlzU3ZnU3ltYm9sID0gU3ltYm9sKCk7XG5jb25zdCB0cmFuc2Zvcm1zU3ltYm9sID0gU3ltYm9sKCk7XG5jb25zdCBtb3JwaFBvaW50c1N5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgcHJveHlUYXJnZXRTeW1ib2wgPSBTeW1ib2woKTtcblxuLy8gTnVtYmVyc1xuXG5jb25zdCBtaW5WYWx1ZSA9IDFlLTExO1xuY29uc3QgbWF4VmFsdWUgPSAxZTEyO1xuY29uc3QgSyA9IDFlMztcbmNvbnN0IG1heEZwcyA9IDEyMDtcblxuLy8gU3RyaW5nc1xuXG5jb25zdCBlbXB0eVN0cmluZyA9ICcnO1xuY29uc3Qgc2hvcnRUcmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuXG5zaG9ydFRyYW5zZm9ybXMuc2V0KCd4JywgJ3RyYW5zbGF0ZVgnKTtcbnNob3J0VHJhbnNmb3Jtcy5zZXQoJ3knLCAndHJhbnNsYXRlWScpO1xuc2hvcnRUcmFuc2Zvcm1zLnNldCgneicsICd0cmFuc2xhdGVaJyk7XG5cbmNvbnN0IHZhbGlkVHJhbnNmb3JtcyA9IFtcbiAgJ3RyYW5zbGF0ZVgnLFxuICAndHJhbnNsYXRlWScsXG4gICd0cmFuc2xhdGVaJyxcbiAgJ3JvdGF0ZScsXG4gICdyb3RhdGVYJyxcbiAgJ3JvdGF0ZVknLFxuICAncm90YXRlWicsXG4gICdzY2FsZScsXG4gICdzY2FsZVgnLFxuICAnc2NhbGVZJyxcbiAgJ3NjYWxlWicsXG4gICdza2V3JyxcbiAgJ3NrZXdYJyxcbiAgJ3NrZXdZJyxcbiAgJ3BlcnNwZWN0aXZlJyxcbiAgJ21hdHJpeCcsXG4gICdtYXRyaXgzZCcsXG5dO1xuXG5jb25zdCB0cmFuc2Zvcm1zRnJhZ21lbnRTdHJpbmdzID0gdmFsaWRUcmFuc2Zvcm1zLnJlZHVjZSgoYSwgdikgPT4gKHsuLi5hLCBbdl06IHYgKyAnKCd9KSwge30pO1xuXG4vLyBGdW5jdGlvbnNcblxuLyoqIEByZXR1cm4ge3ZvaWR9ICovXG5jb25zdCBub29wID0gKCkgPT4ge307XG5cbi8vIFJlZ2V4XG5cbmNvbnN0IGhleFRlc3RSZ3ggPSAvKF4jKFtcXGRhLWZdezN9KXsxLDJ9JCl8KF4jKFtcXGRhLWZdezR9KXsxLDJ9JCkvaTtcbmNvbnN0IHJnYkV4ZWNSZ3ggPSAvcmdiXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccypcXCkvaTtcbmNvbnN0IHJnYmFFeGVjUmd4ID0gL3JnYmFcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKC0/XFxkK3wtP1xcZCouXFxkKylcXHMqXFwpL2k7XG5jb25zdCBoc2xFeGVjUmd4ID0gL2hzbFxcKFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKVxccyosXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspJVxccyosXFxzKigtP1xcZCt8LT9cXGQqLlxcZCspJVxccypcXCkvaTtcbmNvbnN0IGhzbGFFeGVjUmd4ID0gL2hzbGFcXChcXHMqKC0/XFxkK3wtP1xcZCouXFxkKylcXHMqLFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKSVcXHMqLFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKSVcXHMqLFxccyooLT9cXGQrfC0/XFxkKi5cXGQrKVxccypcXCkvaTtcbi8vIGV4cG9ydCBjb25zdCBkaWdpdFdpdGhFeHBvbmVudFJneCA9IC9bLStdP1xcZCpcXC4/XFxkKyg/OltlRV1bLStdP1xcZCspPy9nO1xuY29uc3QgZGlnaXRXaXRoRXhwb25lbnRSZ3ggPSAvWy0rXT9cXGQqXFwuP1xcZCsoPzplWy0rXT9cXGQpPy9naTtcbi8vIGV4cG9ydCBjb25zdCB1bml0c0V4ZWNSZ3ggPSAvXihbLStdP1xcZCpcXC4/XFxkKyg/OltlRV1bLStdP1xcZCspPykrKFthLXpdK3wlKSQvaTtcbmNvbnN0IHVuaXRzRXhlY1JneCA9IC9eKFstK10/XFxkKlxcLj9cXGQrKD86ZVstK10/XFxkKyk/KShbYS16XSt8JSkkL2k7XG5jb25zdCBsb3dlckNhc2VSZ3ggPSAvKFthLXpdKShbQS1aXSkvZztcbmNvbnN0IHRyYW5zZm9ybXNFeGVjUmd4ID0gLyhcXHcrKShcXChbXildK1xcKSspL2c7IC8vIE1hdGNoIGlubGluZSB0cmFuc2Zvcm1zIHdpdGggY2FjbCgpIHZhbHVlcywgcmV0dXJucyB0aGUgdmFsdWUgd3JhcHBlZCBpbiAoKVxuY29uc3QgcmVsYXRpdmVWYWx1ZXNFeGVjUmd4ID0gLyhcXCo9fFxcKz18LT0pLztcblxuXG5cblxuLyoqIEB0eXBlIHtEZWZhdWx0c1BhcmFtc30gKi9cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBpZDogbnVsbCxcbiAga2V5ZnJhbWVzOiBudWxsLFxuICBwbGF5YmFja0Vhc2U6IG51bGwsXG4gIHBsYXliYWNrUmF0ZTogMSxcbiAgZnJhbWVSYXRlOiBtYXhGcHMsXG4gIGxvb3A6IDAsXG4gIHJldmVyc2VkOiBmYWxzZSxcbiAgYWx0ZXJuYXRlOiBmYWxzZSxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIGR1cmF0aW9uOiBLLFxuICBkZWxheTogMCxcbiAgbG9vcERlbGF5OiAwLFxuICBlYXNlOiAnb3V0KDIpJyxcbiAgY29tcG9zaXRpb246IGNvbXBvc2l0aW9uVHlwZXMucmVwbGFjZSxcbiAgbW9kaWZpZXI6IHYgPT4gdixcbiAgb25CZWdpbjogbm9vcCxcbiAgb25CZWZvcmVVcGRhdGU6IG5vb3AsXG4gIG9uVXBkYXRlOiBub29wLFxuICBvbkxvb3A6IG5vb3AsXG4gIG9uUGF1c2U6IG5vb3AsXG4gIG9uQ29tcGxldGU6IG5vb3AsXG4gIG9uUmVuZGVyOiBub29wLFxufTtcblxuY29uc3QgZ2xvYmFscyA9IHtcbiAgLyoqIEB0eXBlIHtEZWZhdWx0c1BhcmFtc30gKi9cbiAgZGVmYXVsdHMsXG4gIC8qKiBAdHlwZSB7RG9jdW1lbnR8RE9NVGFyZ2V0fSAqL1xuICByb290OiBkb2MsXG4gIC8qKiBAdHlwZSB7U2NvcGV9ICovXG4gIHNjb3BlOiBudWxsLFxuICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgcHJlY2lzaW9uOiA0LFxuICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgdGltZVNjYWxlOiAxLFxuICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgdGlja1RocmVzaG9sZDogMjAwLFxufTtcblxuY29uc3QgZ2xvYmFsVmVyc2lvbnMgPSB7IHZlcnNpb246ICc0LjAuMScsIGVuZ2luZTogbnVsbCB9O1xuXG5pZiAoaXNCcm93c2VyKSB7XG4gIGlmICghd2luLkFuaW1lSlMpIHdpbi5BbmltZUpTID0gW107XG4gIHdpbi5BbmltZUpTLnB1c2goZ2xvYmFsVmVyc2lvbnMpO1xufVxuXG4vLyBTdHJpbmdzXG5cbi8qKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuY29uc3QgdG9Mb3dlckNhc2UgPSBzdHIgPT4gc3RyLnJlcGxhY2UobG93ZXJDYXNlUmd4LCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuXG4vKipcbiAqIFByaW9yaXRpemUgdGhpcyBtZXRob2QgaW5zdGVhZCBvZiByZWdleCB3aGVuIHBvc3NpYmxlXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0clxuICogQHBhcmFtICB7U3RyaW5nfSBzdWJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmNvbnN0IHN0cmluZ1N0YXJ0c1dpdGggPSAoc3RyLCBzdWIpID0+IHN0ci5pbmRleE9mKHN1YikgPT09IDA7XG5cbi8vIFRpbWVcbi8vIE5vdGU6IERhdGUubm93IGlzIHVzZWQgaW5zdGVhZCBvZiBwZXJmb3JtYW5jZS5ub3cgc2luY2UgaXQgaXMgcHJlY2lzZSBlbm91Z2ggZm9yIHRpbWluZ3MgY2FsY3VsYXRpb25zLCBwZXJmb3JtcyBzbGlnaHRseSBmYXN0ZXIgYW5kIHdvcmtzIGluIE5vZGUuanMgZW52aXJvbmVtZW50LlxuY29uc3Qgbm93ID0gRGF0ZS5ub3c7XG5cbi8vIFR5cGVzIGNoZWNrZXJzXG5cbmNvbnN0IGlzQXJyID0gQXJyYXkuaXNBcnJheTtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge2EgaXMgUmVjb3JkPFN0cmluZywgYW55Pn0gKi9cbmNvbnN0IGlzT2JqID0gYSA9PiBhICYmIGEuY29uc3RydWN0b3IgPT09IE9iamVjdDtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge2EgaXMgTnVtYmVyfSAqL1xuY29uc3QgaXNOdW0gPSBhID0+IHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oYSk7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHthIGlzIFN0cmluZ30gKi9cbmNvbnN0IGlzU3RyID0gYSA9PiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHthIGlzIEZ1bmN0aW9ufSAqL1xuY29uc3QgaXNGbmMgPSBhID0+IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nO1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7YSBpcyB1bmRlZmluZWR9ICovXG5jb25zdCBpc1VuZCA9IGEgPT4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnO1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7YSBpcyBudWxsIHwgdW5kZWZpbmVkfSAqL1xuY29uc3QgaXNOaWwgPSBhID0+IGlzVW5kKGEpIHx8IGEgPT09IG51bGw7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHthIGlzIFNWR0VsZW1lbnR9ICovXG5jb25zdCBpc1N2ZyA9IGEgPT4gaXNCcm93c2VyICYmIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7Qm9vbGVhbn0gKi9cbmNvbnN0IGlzSGV4ID0gYSA9PiBoZXhUZXN0Umd4LnRlc3QoYSk7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHtCb29sZWFufSAqL1xuY29uc3QgaXNSZ2IgPSBhID0+IHN0cmluZ1N0YXJ0c1dpdGgoYSwgJ3JnYicpO1xuLyoqQHBhcmFtIHthbnl9IGEgQHJldHVybiB7Qm9vbGVhbn0gKi9cbmNvbnN0IGlzSHNsID0gYSA9PiBzdHJpbmdTdGFydHNXaXRoKGEsICdoc2wnKTtcbi8qKkBwYXJhbSB7YW55fSBhIEByZXR1cm4ge0Jvb2xlYW59ICovXG5jb25zdCBpc0NvbCA9IGEgPT4gaXNIZXgoYSkgfHwgaXNSZ2IoYSkgfHwgaXNIc2woYSk7XG4vKipAcGFyYW0ge2FueX0gYSBAcmV0dXJuIHtCb29sZWFufSAqL1xuY29uc3QgaXNLZXkgPSBhID0+ICFnbG9iYWxzLmRlZmF1bHRzLmhhc093blByb3BlcnR5KGEpO1xuXG4vLyBOdW1iZXJcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ8U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgcGFyc2VOdW1iZXIgPSBzdHIgPT4gaXNTdHIoc3RyKSA/XG4gIHBhcnNlRmxvYXQoLyoqIEB0eXBlIHtTdHJpbmd9ICovKHN0cikpIDpcbiAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHN0cik7XG5cbi8vIE1hdGhcblxuY29uc3QgcG93ID0gTWF0aC5wb3c7XG5jb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuY29uc3Qgc2luID0gTWF0aC5zaW47XG5jb25zdCBjb3MgPSBNYXRoLmNvcztcbmNvbnN0IGFicyA9IE1hdGguYWJzO1xuY29uc3QgZXhwID0gTWF0aC5leHA7XG5jb25zdCBjZWlsID0gTWF0aC5jZWlsO1xuY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuY29uc3QgYXNpbiA9IE1hdGguYXNpbjtcbmNvbnN0IG1heCA9IE1hdGgubWF4O1xuY29uc3QgYXRhbjIgPSBNYXRoLmF0YW4yO1xuY29uc3QgUEkgPSBNYXRoLlBJO1xuY29uc3QgX3JvdW5kID0gTWF0aC5yb3VuZDtcblxuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gdlxuICogQHBhcmFtICB7TnVtYmVyfSBtaW5cbiAqIEBwYXJhbSAge051bWJlcn0gbWF4XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGNsYW1wID0gKHYsIG1pbiwgbWF4KSA9PiB2IDwgbWluID8gbWluIDogdiA+IG1heCA/IG1heCA6IHY7XG5cbmNvbnN0IHBvd0NhY2hlID0ge307XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGRlY2ltYWxMZW5ndGhcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3Qgcm91bmQgPSAodiwgZGVjaW1hbExlbmd0aCkgPT4ge1xuICBpZiAoZGVjaW1hbExlbmd0aCA8IDApIHJldHVybiB2O1xuICBpZiAoIWRlY2ltYWxMZW5ndGgpIHJldHVybiBfcm91bmQodik7XG4gIGxldCBwID0gcG93Q2FjaGVbZGVjaW1hbExlbmd0aF07XG4gIGlmICghcCkgcCA9IHBvd0NhY2hlW2RlY2ltYWxMZW5ndGhdID0gMTAgKiogZGVjaW1hbExlbmd0aDtcbiAgcmV0dXJuIF9yb3VuZCh2ICogcCkgLyBwO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEBwYXJhbSAge051bWJlcnxBcnJheTxOdW1iZXI+fSBpbmNyZW1lbnRcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3Qgc25hcCA9ICh2LCBpbmNyZW1lbnQpID0+IGlzQXJyKGluY3JlbWVudCkgPyBpbmNyZW1lbnQucmVkdWNlKChjbG9zZXN0LCBjdikgPT4gKGFicyhjdiAtIHYpIDwgYWJzKGNsb3Nlc3QgLSB2KSA/IGN2IDogY2xvc2VzdCkpIDogaW5jcmVtZW50ID8gX3JvdW5kKHYgLyBpbmNyZW1lbnQpICogaW5jcmVtZW50IDogdjtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGVuZFxuICogQHBhcmFtICB7TnVtYmVyfSBwcm9ncmVzc1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBpbnRlcnBvbGF0ZSA9IChzdGFydCwgZW5kLCBwcm9ncmVzcykgPT4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogcHJvZ3Jlc3M7XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGNsYW1wSW5maW5pdHkgPSB2ID0+IHYgPT09IEluZmluaXR5ID8gbWF4VmFsdWUgOiB2ID09PSAtSW5maW5pdHkgPyAtMWUxMiA6IHY7XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGNsYW1wWmVybyA9IHYgPT4gdiA8IG1pblZhbHVlID8gbWluVmFsdWUgOiB2O1xuXG4vLyBBcnJheXNcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUW119IGFcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuY29uc3QgY2xvbmVBcnJheSA9IGEgPT4gaXNBcnIoYSkgPyBbIC4uLmEgXSA6IGE7XG5cbi8vIE9iamVjdHNcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFVcbiAqIEBwYXJhbSB7VH0gbzFcbiAqIEBwYXJhbSB7VX0gbzJcbiAqIEByZXR1cm4ge1QgJiBVfVxuICovXG5jb25zdCBtZXJnZU9iamVjdHMgPSAobzEsIG8yKSA9PiB7XG4gIGNvbnN0IG1lcmdlZCA9IC8qKiBAdHlwZSB7VCAmIFV9ICovKHsgLi4ubzEgfSk7XG4gIGZvciAobGV0IHAgaW4gbzIpIHtcbiAgICBjb25zdCBvMXAgPSAvKiogQHR5cGUge1QgJiBVfSAqLyhvMSlbcF07XG4gICAgbWVyZ2VkW3BdID0gaXNVbmQobzFwKSA/IC8qKiBAdHlwZSB7VCAmIFV9ICovKG8yKVtwXSA6IG8xcDtcbiAgfSAgcmV0dXJuIG1lcmdlZDtcbn07XG5cbi8vIExpbmtlZCBsaXN0c1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtyZXZlcnNlXVxuICogQHBhcmFtIHtTdHJpbmd9IFtwcmV2UHJvcF1cbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmV4dFByb3BdXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoQ2hpbGRyZW4gPSAocGFyZW50LCBjYWxsYmFjaywgcmV2ZXJzZSwgcHJldlByb3AgPSAnX3ByZXYnLCBuZXh0UHJvcCA9ICdfbmV4dCcpID0+IHtcbiAgbGV0IG5leHQgPSBwYXJlbnQuX2hlYWQ7XG4gIGxldCBhZGp1c3RlZE5leHRQcm9wID0gbmV4dFByb3A7XG4gIGlmIChyZXZlcnNlKSB7XG4gICAgbmV4dCA9IHBhcmVudC5fdGFpbDtcbiAgICBhZGp1c3RlZE5leHRQcm9wID0gcHJldlByb3A7XG4gIH1cbiAgd2hpbGUgKG5leHQpIHtcbiAgICBjb25zdCBjdXJyZW50TmV4dCA9IG5leHRbYWRqdXN0ZWROZXh0UHJvcF07XG4gICAgY2FsbGJhY2sobmV4dCk7XG4gICAgbmV4dCA9IGN1cnJlbnROZXh0O1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge09iamVjdH0gcGFyZW50XG4gKiBAcGFyYW0gIHtPYmplY3R9IGNoaWxkXG4gKiBAcGFyYW0gIHtTdHJpbmd9IFtwcmV2UHJvcF1cbiAqIEBwYXJhbSAge1N0cmluZ30gW25leHRQcm9wXVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuY29uc3QgcmVtb3ZlQ2hpbGQgPSAocGFyZW50LCBjaGlsZCwgcHJldlByb3AgPSAnX3ByZXYnLCBuZXh0UHJvcCA9ICdfbmV4dCcpID0+IHtcbiAgY29uc3QgcHJldiA9IGNoaWxkW3ByZXZQcm9wXTtcbiAgY29uc3QgbmV4dCA9IGNoaWxkW25leHRQcm9wXTtcbiAgcHJldiA/IHByZXZbbmV4dFByb3BdID0gbmV4dCA6IHBhcmVudC5faGVhZCA9IG5leHQ7XG4gIG5leHQgPyBuZXh0W3ByZXZQcm9wXSA9IHByZXYgOiBwYXJlbnQuX3RhaWwgPSBwcmV2O1xuICBjaGlsZFtwcmV2UHJvcF0gPSBudWxsO1xuICBjaGlsZFtuZXh0UHJvcF0gPSBudWxsO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHBhcmVudFxuICogQHBhcmFtICB7T2JqZWN0fSBjaGlsZFxuICogQHBhcmFtICB7RnVuY3Rpb259IFtzb3J0TWV0aG9kXVxuICogQHBhcmFtICB7U3RyaW5nfSBwcmV2UHJvcFxuICogQHBhcmFtICB7U3RyaW5nfSBuZXh0UHJvcFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuY29uc3QgYWRkQ2hpbGQgPSAocGFyZW50LCBjaGlsZCwgc29ydE1ldGhvZCwgcHJldlByb3AgPSAnX3ByZXYnLCBuZXh0UHJvcCA9ICdfbmV4dCcpID0+IHtcbiAgbGV0IHByZXYgPSBwYXJlbnQuX3RhaWw7XG4gIHdoaWxlIChwcmV2ICYmIHNvcnRNZXRob2QgJiYgc29ydE1ldGhvZChwcmV2LCBjaGlsZCkpIHByZXYgPSBwcmV2W3ByZXZQcm9wXTtcbiAgY29uc3QgbmV4dCA9IHByZXYgPyBwcmV2W25leHRQcm9wXSA6IHBhcmVudC5faGVhZDtcbiAgcHJldiA/IHByZXZbbmV4dFByb3BdID0gY2hpbGQgOiBwYXJlbnQuX2hlYWQgPSBjaGlsZDtcbiAgbmV4dCA/IG5leHRbcHJldlByb3BdID0gY2hpbGQgOiBwYXJlbnQuX3RhaWwgPSBjaGlsZDtcbiAgY2hpbGRbcHJldlByb3BdID0gcHJldjtcbiAgY2hpbGRbbmV4dFByb3BdID0gbmV4dDtcbn07XG5cbi8qXG4gKiBCYXNlIGNsYXNzIHRvIGNvbnRyb2wgZnJhbWVyYXRlIGFuZCBwbGF5YmFjayByYXRlLlxuICogSW5oZXJpdGVkIGJ5IEVuZ2luZSwgVGltZXIsIEFuaW1hdGlvbiBhbmQgVGltZWxpbmUuXG4gKi9cbmNsYXNzIENsb2NrIHtcblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IFtpbml0VGltZV0gKi9cbiAgY29uc3RydWN0b3IoaW5pdFRpbWUgPSAwKSB7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5kZWx0YVRpbWUgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gaW5pdFRpbWU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fZWxhcHNlZFRpbWUgPSBpbml0VGltZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9zdGFydFRpbWUgPSBpbml0VGltZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9sYXN0VGltZSA9IGluaXRUaW1lO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3NjaGVkdWxlZFRpbWUgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2ZyYW1lRHVyYXRpb24gPSByb3VuZChLIC8gbWF4RnBzLCAwKTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9mcHMgPSBtYXhGcHM7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fc3BlZWQgPSAxO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLl9oYXNDaGlsZHJlbiA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7VGlja2FibGV8VHdlZW59ICovXG4gICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtUaWNrYWJsZXxUd2Vlbn0gKi9cbiAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgfVxuXG4gIGdldCBmcHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZwcztcbiAgfVxuXG4gIHNldCBmcHMoZnJhbWVSYXRlKSB7XG4gICAgY29uc3QgcHJldmlvdXNGcmFtZUR1cmF0aW9uID0gdGhpcy5fZnJhbWVEdXJhdGlvbjtcbiAgICBjb25zdCBmciA9ICtmcmFtZVJhdGU7XG4gICAgY29uc3QgZnBzID0gZnIgPCBtaW5WYWx1ZSA/IG1pblZhbHVlIDogZnI7XG4gICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IHJvdW5kKEsgLyBmcHMsIDApO1xuICAgIHRoaXMuX2ZwcyA9IGZwcztcbiAgICB0aGlzLl9mcmFtZUR1cmF0aW9uID0gZnJhbWVEdXJhdGlvbjtcbiAgICB0aGlzLl9zY2hlZHVsZWRUaW1lICs9IGZyYW1lRHVyYXRpb24gLSBwcmV2aW91c0ZyYW1lRHVyYXRpb247XG4gIH1cblxuICBnZXQgc3BlZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xuICB9XG5cbiAgc2V0IHNwZWVkKHBsYXliYWNrUmF0ZSkge1xuICAgIGNvbnN0IHBiciA9ICtwbGF5YmFja1JhdGU7XG4gICAgdGhpcy5fc3BlZWQgPSBwYnIgPCBtaW5WYWx1ZSA/IG1pblZhbHVlIDogcGJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gdGltZVxuICAgKiBAcmV0dXJuIHt0aWNrTW9kZXN9XG4gICAqL1xuICByZXF1ZXN0VGljayh0aW1lKSB7XG4gICAgY29uc3Qgc2NoZWR1bGVkVGltZSA9IHRoaXMuX3NjaGVkdWxlZFRpbWU7XG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSB0aGlzLl9lbGFwc2VkVGltZTtcbiAgICB0aGlzLl9lbGFwc2VkVGltZSArPSAodGltZSAtIGVsYXBzZWRUaW1lKTtcbiAgICAvLyBJZiB0aGUgZWxhcHNlZCB0aW1lIGlzIGxvd2VyIHRoYW4gdGhlIHNjaGVkdWxlZCB0aW1lXG4gICAgLy8gdGhpcyBtZWFucyBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCB0byBoaXQgb25lIGZyYW1lRHVyYXRpb25cbiAgICAvLyBzbyBza2lwIHRoYXQgZnJhbWVcbiAgICBpZiAoZWxhcHNlZFRpbWUgPCBzY2hlZHVsZWRUaW1lKSByZXR1cm4gdGlja01vZGVzLk5PTkU7XG4gICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IHRoaXMuX2ZyYW1lRHVyYXRpb247XG4gICAgY29uc3QgZnJhbWVEZWx0YSA9IGVsYXBzZWRUaW1lIC0gc2NoZWR1bGVkVGltZTtcbiAgICAvLyBFbnN1cmVzIHRoYXQgX3NjaGVkdWxlZFRpbWUgcHJvZ3Jlc3NlcyBpbiBzdGVwcyBvZiBhdCBsZWFzdCAxIGZyYW1lRHVyYXRpb24uXG4gICAgLy8gU2tpcHMgYWhlYWQgaWYgdGhlIGFjdHVhbCBlbGFwc2VkIHRpbWUgaXMgaGlnaGVyLlxuICAgIHRoaXMuX3NjaGVkdWxlZFRpbWUgKz0gZnJhbWVEZWx0YSA8IGZyYW1lRHVyYXRpb24gPyBmcmFtZUR1cmF0aW9uIDogZnJhbWVEZWx0YTtcbiAgICByZXR1cm4gdGlja01vZGVzLkFVVE87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSB0aW1lXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGNvbXB1dGVEZWx0YVRpbWUodGltZSkge1xuICAgIGNvbnN0IGRlbHRhID0gdGltZSAtIHRoaXMuX2xhc3RUaW1lO1xuICAgIHRoaXMuZGVsdGFUaW1lID0gZGVsdGE7XG4gICAgdGhpcy5fbGFzdFRpbWUgPSB0aW1lO1xuICAgIHJldHVybiBkZWx0YTtcbiAgfVxuXG59XG5cblxuXG5cbi8qKlxuICogQHBhcmFtICB7VGlja2FibGV9IHRpY2thYmxlXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVcbiAqIEBwYXJhbSAge051bWJlcn0gbXV0ZUNhbGxiYWNrc1xuICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcm5hbFJlbmRlclxuICogQHBhcmFtICB7dGlja01vZGVzfSB0aWNrTW9kZVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCByZW5kZXIgPSAodGlja2FibGUsIHRpbWUsIG11dGVDYWxsYmFja3MsIGludGVybmFsUmVuZGVyLCB0aWNrTW9kZSkgPT4ge1xuXG4gIGNvbnN0IHBhcmVudCA9IHRpY2thYmxlLnBhcmVudDtcbiAgY29uc3QgZHVyYXRpb24gPSB0aWNrYWJsZS5kdXJhdGlvbjtcbiAgY29uc3QgY29tcGxldGVkID0gdGlja2FibGUuY29tcGxldGVkO1xuICBjb25zdCBpdGVyYXRpb25EdXJhdGlvbiA9IHRpY2thYmxlLml0ZXJhdGlvbkR1cmF0aW9uO1xuICBjb25zdCBpdGVyYXRpb25Db3VudCA9IHRpY2thYmxlLml0ZXJhdGlvbkNvdW50O1xuICBjb25zdCBfY3VycmVudEl0ZXJhdGlvbiA9IHRpY2thYmxlLl9jdXJyZW50SXRlcmF0aW9uO1xuICBjb25zdCBfbG9vcERlbGF5ID0gdGlja2FibGUuX2xvb3BEZWxheTtcbiAgY29uc3QgX3JldmVyc2VkID0gdGlja2FibGUuX3JldmVyc2VkO1xuICBjb25zdCBfYWx0ZXJuYXRlID0gdGlja2FibGUuX2FsdGVybmF0ZTtcbiAgY29uc3QgX2hhc0NoaWxkcmVuID0gdGlja2FibGUuX2hhc0NoaWxkcmVuO1xuICBjb25zdCB0aWNrYWJsZURlbGF5ID0gdGlja2FibGUuX2RlbGF5O1xuICBjb25zdCB0aWNrYWJsZVByZXZBYnNvbHV0ZVRpbWUgPSB0aWNrYWJsZS5fY3VycmVudFRpbWU7IC8vIFRPRE86IHJlbmFtZSAuX2N1cnJlbnRUaW1lIHRvIC5fYWJzb2x1dGVDdXJyZW50VGltZVxuXG4gIGNvbnN0IHRpY2thYmxlRW5kVGltZSA9IHRpY2thYmxlRGVsYXkgKyBpdGVyYXRpb25EdXJhdGlvbjtcbiAgY29uc3QgdGlja2FibGVBYnNvbHV0ZVRpbWUgPSB0aW1lIC0gdGlja2FibGVEZWxheTtcbiAgY29uc3QgdGlja2FibGVQcmV2VGltZSA9IGNsYW1wKHRpY2thYmxlUHJldkFic29sdXRlVGltZSwgLXRpY2thYmxlRGVsYXksIGR1cmF0aW9uKTtcbiAgY29uc3QgdGlja2FibGVDdXJyZW50VGltZSA9IGNsYW1wKHRpY2thYmxlQWJzb2x1dGVUaW1lLCAtdGlja2FibGVEZWxheSwgZHVyYXRpb24pO1xuICBjb25zdCBkZWx0YVRpbWUgPSB0aWNrYWJsZUFic29sdXRlVGltZSAtIHRpY2thYmxlUHJldkFic29sdXRlVGltZTtcbiAgY29uc3QgaXNDdXJyZW50VGltZUFib3ZlWmVybyA9IHRpY2thYmxlQ3VycmVudFRpbWUgPiAwO1xuICBjb25zdCBpc0N1cnJlbnRUaW1lRXF1YWxPckFib3ZlRHVyYXRpb24gPSB0aWNrYWJsZUN1cnJlbnRUaW1lID49IGR1cmF0aW9uO1xuICBjb25zdCBpc1NldHRlciA9IGR1cmF0aW9uIDw9IG1pblZhbHVlO1xuICBjb25zdCBmb3JjZWRUaWNrID0gdGlja01vZGUgPT09IHRpY2tNb2Rlcy5GT1JDRTtcblxuICBsZXQgaXNPZGQgPSAwO1xuICBsZXQgaXRlcmF0aW9uRWxhcHNlZFRpbWUgPSB0aWNrYWJsZUFic29sdXRlVGltZTtcbiAgLy8gUmVuZGVyIGNoZWNrc1xuICAvLyBVc2VkIHRvIGFsc28gY2hlY2sgaWYgdGhlIGNoaWxkcmVuIGhhdmUgcmVuZGVyZWQgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgb25SZW5kZXIgY2FsbGJhY2sgb24gdGhlIHBhcmVudCB0aW1lclxuICBsZXQgaGFzUmVuZGVyZWQgPSAwO1xuXG4gIC8vIEV4ZWN1dGUgdGhlIFwiZXhwZW5zaXZlXCIgaXRlcmF0aW9ucyBjYWxjdWxhdGlvbnMgb25seSB3aGVuIG5lY2Vzc2FyeVxuICBpZiAoaXRlcmF0aW9uQ291bnQgPiAxKSB7XG4gICAgLy8gYml0d2lzZSBOT1Qgb3BlcmF0b3Igc2VlbXMgdG8gYmUgZ2VuZXJhbGx5IGZhc3RlciB0aGFuIE1hdGguZmxvb3IoKSBhY3Jvc3MgYnJvd3NlcnNcbiAgICBjb25zdCBjdXJyZW50SXRlcmF0aW9uID0gfn4odGlja2FibGVDdXJyZW50VGltZSAvIChpdGVyYXRpb25EdXJhdGlvbiArIChpc0N1cnJlbnRUaW1lRXF1YWxPckFib3ZlRHVyYXRpb24gPyAwIDogX2xvb3BEZWxheSkpKTtcbiAgICB0aWNrYWJsZS5fY3VycmVudEl0ZXJhdGlvbiA9IGNsYW1wKGN1cnJlbnRJdGVyYXRpb24sIDAsIGl0ZXJhdGlvbkNvdW50KTtcbiAgICAvLyBQcmV2ZW50IHRoZSBpdGVyYXRpb24gY291bnQgdG8gZ28gYWJvdmUgdGhlIG1heCBpdGVyYXRpb25zIHdoZW4gcmVhY2hpbmcgdGhlIGVuZCBvZiB0aGUgYW5pbWF0aW9uXG4gICAgaWYgKGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbikgdGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb24tLTtcbiAgICBpc09kZCA9IHRpY2thYmxlLl9jdXJyZW50SXRlcmF0aW9uICUgMjtcbiAgICBpdGVyYXRpb25FbGFwc2VkVGltZSA9IHRpY2thYmxlQ3VycmVudFRpbWUgJSAoaXRlcmF0aW9uRHVyYXRpb24gKyBfbG9vcERlbGF5KSB8fCAwO1xuICB9XG5cbiAgLy8gQ2hlY2tzIGlmIGV4YWN0bHkgb25lIG9mIF9yZXZlcnNlZCBhbmQgKF9hbHRlcm5hdGUgJiYgaXNPZGQpIGlzIHRydWVcbiAgY29uc3QgaXNSZXZlcnNlZCA9IF9yZXZlcnNlZCBeIChfYWx0ZXJuYXRlICYmIGlzT2RkKTtcbiAgY29uc3QgX2Vhc2UgPSAvKiogQHR5cGUge1JlbmRlcmFibGV9ICovKHRpY2thYmxlKS5fZWFzZTtcbiAgbGV0IGl0ZXJhdGlvblRpbWUgPSBpc0N1cnJlbnRUaW1lRXF1YWxPckFib3ZlRHVyYXRpb24gPyBpc1JldmVyc2VkID8gMCA6IGR1cmF0aW9uIDogaXNSZXZlcnNlZCA/IGl0ZXJhdGlvbkR1cmF0aW9uIC0gaXRlcmF0aW9uRWxhcHNlZFRpbWUgOiBpdGVyYXRpb25FbGFwc2VkVGltZTtcbiAgaWYgKF9lYXNlKSBpdGVyYXRpb25UaW1lID0gaXRlcmF0aW9uRHVyYXRpb24gKiBfZWFzZShpdGVyYXRpb25UaW1lIC8gaXRlcmF0aW9uRHVyYXRpb24pIHx8IDA7XG4gIGNvbnN0IGlzUnVubmluZ0JhY2t3YXJkcyA9IChwYXJlbnQgPyBwYXJlbnQuYmFja3dhcmRzIDogdGlja2FibGVBYnNvbHV0ZVRpbWUgPCB0aWNrYWJsZVByZXZBYnNvbHV0ZVRpbWUpID8gIWlzUmV2ZXJzZWQgOiAhIWlzUmV2ZXJzZWQ7XG5cbiAgdGlja2FibGUuX2N1cnJlbnRUaW1lID0gdGlja2FibGVBYnNvbHV0ZVRpbWU7XG4gIHRpY2thYmxlLl9pdGVyYXRpb25UaW1lID0gaXRlcmF0aW9uVGltZTtcbiAgdGlja2FibGUuYmFja3dhcmRzID0gaXNSdW5uaW5nQmFja3dhcmRzO1xuXG4gIGlmIChpc0N1cnJlbnRUaW1lQWJvdmVaZXJvICYmICF0aWNrYWJsZS5iZWdhbikge1xuICAgIHRpY2thYmxlLmJlZ2FuID0gdHJ1ZTtcbiAgICBpZiAoIW11dGVDYWxsYmFja3MgJiYgIShwYXJlbnQgJiYgKGlzUnVubmluZ0JhY2t3YXJkcyB8fCAhcGFyZW50LmJlZ2FuKSkpIHtcbiAgICAgIHRpY2thYmxlLm9uQmVnaW4oLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0aWNrYWJsZSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0aWNrYWJsZUFic29sdXRlVGltZSA8PSAwKSB7XG4gICAgdGlja2FibGUuYmVnYW4gPSBmYWxzZTtcbiAgfVxuXG4gIC8vIE9ubHkgdHJpZ2dlcnMgb25Mb29wIGZvciB0aWNrYWJsZSB3aXRob3V0IGNoaWxkcmVuLCBvdGhlcndpc2UgY2FsbCB0aGUgdGhlIG9uTG9vcCBjYWxsYmFjayBpbiB0aGUgdGljayBmdW5jdGlvblxuICAvLyBNYWtlIHN1cmUgdG8gdHJpZ2dlciB0aGUgb25Mb29wIGJlZm9yZSByZW5kZXJpbmcgdG8gYWxsb3cgLnJlZnJlc2goKSB0byBwaWNrdXAgdGhlIGN1cnJlbnQgdmFsdWVzXG4gIGlmICghbXV0ZUNhbGxiYWNrcyAmJiAhX2hhc0NoaWxkcmVuICYmIGlzQ3VycmVudFRpbWVBYm92ZVplcm8gJiYgdGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb24gIT09IF9jdXJyZW50SXRlcmF0aW9uKSB7XG4gICAgdGlja2FibGUub25Mb29wKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgfVxuXG4gIGlmIChcbiAgICBmb3JjZWRUaWNrIHx8XG4gICAgdGlja01vZGUgPT09IHRpY2tNb2Rlcy5BVVRPICYmIChcbiAgICAgIHRpbWUgPj0gdGlja2FibGVEZWxheSAmJiB0aW1lIDw9IHRpY2thYmxlRW5kVGltZSB8fCAvLyBOb3JtYWwgcmVuZGVyXG4gICAgICB0aW1lIDw9IHRpY2thYmxlRGVsYXkgJiYgdGlja2FibGVQcmV2VGltZSA+IHRpY2thYmxlRGVsYXkgfHwgLy8gUGxheWhlYWQgaXMgYmVmb3JlIHRoZSBhbmltYXRpb24gc3RhcnQgdGltZSBzbyBtYWtlIHN1cmUgdGhlIGFuaW1hdGlvbiBpcyBhdCBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgICAgdGltZSA+PSB0aWNrYWJsZUVuZFRpbWUgJiYgdGlja2FibGVQcmV2VGltZSAhPT0gZHVyYXRpb24gLy8gUGxheWhlYWQgaXMgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBlbmQgdGltZSBzbyBtYWtlIHN1cmUgdGhlIGFuaW1hdGlvbiBpcyBhdCBpdHMgZW5kIHN0YXRlXG4gICAgKSB8fFxuICAgIGl0ZXJhdGlvblRpbWUgPj0gdGlja2FibGVFbmRUaW1lICYmIHRpY2thYmxlUHJldlRpbWUgIT09IGR1cmF0aW9uIHx8XG4gICAgaXRlcmF0aW9uVGltZSA8PSB0aWNrYWJsZURlbGF5ICYmIHRpY2thYmxlUHJldlRpbWUgPiAwIHx8XG4gICAgdGltZSA8PSB0aWNrYWJsZVByZXZUaW1lICYmIHRpY2thYmxlUHJldlRpbWUgPT09IGR1cmF0aW9uICYmIGNvbXBsZXRlZCB8fCAvLyBGb3JjZSBhIHJlbmRlciBpZiBhIHNlZWsgb2NjdXJzIG9uIGFuIGNvbXBsZXRlZCBhbmltYXRpb25cbiAgICBpc0N1cnJlbnRUaW1lRXF1YWxPckFib3ZlRHVyYXRpb24gJiYgIWNvbXBsZXRlZCAmJiBpc1NldHRlciAvLyBUaGlzIHByZXZlbnRzIDAgZHVyYXRpb24gdGlja2FibGVzIHRvIGJlIHNraXBwZWRcbiAgKSB7XG5cbiAgICBpZiAoaXNDdXJyZW50VGltZUFib3ZlWmVybykge1xuICAgICAgLy8gVHJpZ2dlciBvblVwZGF0ZSBjYWxsYmFjayBiZWZvcmUgcmVuZGVyaW5nXG4gICAgICB0aWNrYWJsZS5jb21wdXRlRGVsdGFUaW1lKHRpY2thYmxlUHJldlRpbWUpO1xuICAgICAgaWYgKCFtdXRlQ2FsbGJhY2tzKSB0aWNrYWJsZS5vbkJlZm9yZVVwZGF0ZSgvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRpY2thYmxlKSk7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgdHdlZW5zIHJlbmRlcmluZ1xuICAgIGlmICghX2hhc0NoaWxkcmVuKSB7XG5cbiAgICAgIC8vIFRpbWUgaGFzIGp1bXBlZCBtb3JlIHRoYW4gZ2xvYmFscy50aWNrVGhyZXNob2xkIHNvIGNvbnNpZGVyIHRoaXMgdGljayBtYW51YWxcbiAgICAgIGNvbnN0IGZvcmNlZFJlbmRlciA9IGZvcmNlZFRpY2sgfHwgKGlzUnVubmluZ0JhY2t3YXJkcyA/IGRlbHRhVGltZSAqIC0xIDogZGVsdGFUaW1lKSA+PSBnbG9iYWxzLnRpY2tUaHJlc2hvbGQ7XG4gICAgICBjb25zdCBhYnNvbHV0ZVRpbWUgPSB0aWNrYWJsZS5fb2Zmc2V0ICsgKHBhcmVudCA/IHBhcmVudC5fb2Zmc2V0IDogMCkgKyB0aWNrYWJsZURlbGF5ICsgaXRlcmF0aW9uVGltZTtcblxuICAgICAgLy8gT25seSBBbmltYXRpb24gY2FuIGhhdmUgdHdlZW5zLCBUaW1lciByZXR1cm5zIHVuZGVmaW5lZFxuICAgICAgbGV0IHR3ZWVuID0gLyoqIEB0eXBlIHtUd2Vlbn0gKi8oLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8odGlja2FibGUpLl9oZWFkKTtcbiAgICAgIGxldCB0d2VlblRhcmdldDtcbiAgICAgIGxldCB0d2VlblN0eWxlO1xuICAgICAgbGV0IHR3ZWVuVGFyZ2V0VHJhbnNmb3JtcztcbiAgICAgIGxldCB0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzO1xuICAgICAgbGV0IHR3ZWVuVHJhbnNmb3Jtc05lZWRVcGRhdGUgPSAwO1xuXG4gICAgICB3aGlsZSAodHdlZW4pIHtcblxuICAgICAgICBjb25zdCB0d2VlbkNvbXBvc2l0aW9uID0gdHdlZW4uX2NvbXBvc2l0aW9uO1xuICAgICAgICBjb25zdCB0d2VlbkN1cnJlbnRUaW1lID0gdHdlZW4uX2N1cnJlbnRUaW1lO1xuICAgICAgICBjb25zdCB0d2VlbkNoYW5nZUR1cmF0aW9uID0gdHdlZW4uX2NoYW5nZUR1cmF0aW9uO1xuICAgICAgICBjb25zdCB0d2VlbkFic0VuZFRpbWUgPSB0d2Vlbi5fYWJzb2x1dGVTdGFydFRpbWUgKyB0d2Vlbi5fY2hhbmdlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHR3ZWVuTmV4dFJlcCA9IHR3ZWVuLl9uZXh0UmVwO1xuICAgICAgICBjb25zdCB0d2VlblByZXZSZXAgPSB0d2Vlbi5fcHJldlJlcDtcbiAgICAgICAgY29uc3QgdHdlZW5IYXNDb21wb3NpdGlvbiA9IHR3ZWVuQ29tcG9zaXRpb24gIT09IGNvbXBvc2l0aW9uVHlwZXMubm9uZTtcblxuICAgICAgICBpZiAoKGZvcmNlZFJlbmRlciB8fCAoXG4gICAgICAgICAgICAodHdlZW5DdXJyZW50VGltZSAhPT0gdHdlZW5DaGFuZ2VEdXJhdGlvbiB8fCBhYnNvbHV0ZVRpbWUgPD0gdHdlZW5BYnNFbmRUaW1lICsgKHR3ZWVuTmV4dFJlcCA/IHR3ZWVuTmV4dFJlcC5fZGVsYXkgOiAwKSkgJiZcbiAgICAgICAgICAgICh0d2VlbkN1cnJlbnRUaW1lICE9PSAwIHx8IGFic29sdXRlVGltZSA+PSB0d2Vlbi5fYWJzb2x1dGVTdGFydFRpbWUpXG4gICAgICAgICAgKSkgJiYgKCF0d2Vlbkhhc0NvbXBvc2l0aW9uIHx8IChcbiAgICAgICAgICAgICF0d2Vlbi5faXNPdmVycmlkZGVuICYmXG4gICAgICAgICAgICAoIXR3ZWVuLl9pc092ZXJsYXBwZWQgfHwgYWJzb2x1dGVUaW1lIDw9IHR3ZWVuQWJzRW5kVGltZSkgJiZcbiAgICAgICAgICAgICghdHdlZW5OZXh0UmVwIHx8ICh0d2Vlbk5leHRSZXAuX2lzT3ZlcnJpZGRlbiB8fCBhYnNvbHV0ZVRpbWUgPD0gdHdlZW5OZXh0UmVwLl9hYnNvbHV0ZVN0YXJ0VGltZSkpICYmXG4gICAgICAgICAgICAoIXR3ZWVuUHJldlJlcCB8fCAodHdlZW5QcmV2UmVwLl9pc092ZXJyaWRkZW4gfHwgKGFic29sdXRlVGltZSA+PSAodHdlZW5QcmV2UmVwLl9hYnNvbHV0ZVN0YXJ0VGltZSArIHR3ZWVuUHJldlJlcC5fY2hhbmdlRHVyYXRpb24pICsgdHdlZW4uX2RlbGF5KSkpXG4gICAgICAgICAgKSlcbiAgICAgICAgKSB7XG5cbiAgICAgICAgICBjb25zdCB0d2Vlbk5ld1RpbWUgPSB0d2Vlbi5fY3VycmVudFRpbWUgPSBjbGFtcChpdGVyYXRpb25UaW1lIC0gdHdlZW4uX3N0YXJ0VGltZSwgMCwgdHdlZW5DaGFuZ2VEdXJhdGlvbik7XG4gICAgICAgICAgY29uc3QgdHdlZW5Qcm9ncmVzcyA9IHR3ZWVuLl9lYXNlKHR3ZWVuTmV3VGltZSAvIHR3ZWVuLl91cGRhdGVEdXJhdGlvbik7XG4gICAgICAgICAgY29uc3QgdHdlZW5Nb2RpZmllciA9IHR3ZWVuLl9tb2RpZmllcjtcbiAgICAgICAgICBjb25zdCB0d2VlblZhbHVlVHlwZSA9IHR3ZWVuLl92YWx1ZVR5cGU7XG4gICAgICAgICAgY29uc3QgdHdlZW5UeXBlID0gdHdlZW4uX3R3ZWVuVHlwZTtcbiAgICAgICAgICBjb25zdCB0d2VlbklzT2JqZWN0ID0gdHdlZW5UeXBlID09PSB0d2VlblR5cGVzLk9CSkVDVDtcbiAgICAgICAgICBjb25zdCB0d2VlbklzTnVtYmVyID0gdHdlZW5WYWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuTlVNQkVSO1xuICAgICAgICAgIC8vIE9ubHkgcm91bmQgdGhlIGluLWJldHdlZW4gZnJhbWVzIHZhbHVlcyBpZiB0aGUgZmluYWwgdmFsdWUgaXMgYSBzdHJpbmdcbiAgICAgICAgICBjb25zdCB0d2VlblByZWNpc2lvbiA9ICh0d2VlbklzTnVtYmVyICYmIHR3ZWVuSXNPYmplY3QpIHx8IHR3ZWVuUHJvZ3Jlc3MgPT09IDAgfHwgdHdlZW5Qcm9ncmVzcyA9PT0gMSA/IC0xIDogZ2xvYmFscy5wcmVjaXNpb247XG5cbiAgICAgICAgICAvLyBSZWNvbXBvc2UgdHdlZW4gdmFsdWVcbiAgICAgICAgICAvKiogQHR5cGUge1N0cmluZ3xOdW1iZXJ9ICovXG4gICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgICAgICAgIGxldCBudW1iZXI7XG5cbiAgICAgICAgICBpZiAodHdlZW5Jc051bWJlcikge1xuICAgICAgICAgICAgdmFsdWUgPSBudW1iZXIgPSAvKiogQHR5cGUge051bWJlcn0gKi8odHdlZW5Nb2RpZmllcihyb3VuZChpbnRlcnBvbGF0ZSh0d2Vlbi5fZnJvbU51bWJlciwgdHdlZW4uX3RvTnVtYmVyLCAgdHdlZW5Qcm9ncmVzcyksIHR3ZWVuUHJlY2lzaW9uICkpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR3ZWVuVmFsdWVUeXBlID09PSB2YWx1ZVR5cGVzLlVOSVQpIHtcbiAgICAgICAgICAgIC8vIFJvdW5kaW5nIHRoZSB2YWx1ZXMgc3BlZWQgdXAgc3RyaW5nIGNvbXBvc2l0aW9uXG4gICAgICAgICAgICBudW1iZXIgPSAvKiogQHR5cGUge051bWJlcn0gKi8odHdlZW5Nb2RpZmllcihyb3VuZChpbnRlcnBvbGF0ZSh0d2Vlbi5fZnJvbU51bWJlciwgdHdlZW4uX3RvTnVtYmVyLCAgdHdlZW5Qcm9ncmVzcyksIHR3ZWVuUHJlY2lzaW9uKSkpO1xuICAgICAgICAgICAgdmFsdWUgPSBgJHtudW1iZXJ9JHt0d2Vlbi5fdW5pdH1gO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHdlZW5WYWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuQ09MT1IpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gdHdlZW4uX2Zyb21OdW1iZXJzO1xuICAgICAgICAgICAgY29uc3QgdG4gPSB0d2Vlbi5fdG9OdW1iZXJzO1xuICAgICAgICAgICAgY29uc3QgciA9IHJvdW5kKGNsYW1wKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKGludGVycG9sYXRlKGZuWzBdLCB0blswXSwgdHdlZW5Qcm9ncmVzcykpKSwgMCwgMjU1KSwgMCk7XG4gICAgICAgICAgICBjb25zdCBnID0gcm91bmQoY2xhbXAoLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHR3ZWVuTW9kaWZpZXIoaW50ZXJwb2xhdGUoZm5bMV0sIHRuWzFdLCB0d2VlblByb2dyZXNzKSkpLCAwLCAyNTUpLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSByb3VuZChjbGFtcCgvKiogQHR5cGUge051bWJlcn0gKi8odHdlZW5Nb2RpZmllcihpbnRlcnBvbGF0ZShmblsyXSwgdG5bMl0sIHR3ZWVuUHJvZ3Jlc3MpKSksIDAsIDI1NSksIDApO1xuICAgICAgICAgICAgY29uc3QgYSA9IGNsYW1wKC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKHJvdW5kKGludGVycG9sYXRlKGZuWzNdLCB0blszXSwgdHdlZW5Qcm9ncmVzcyksIHR3ZWVuUHJlY2lzaW9uKSkpLCAwLCAxKTtcbiAgICAgICAgICAgIHZhbHVlID0gYHJnYmEoJHtyfSwke2d9LCR7Yn0sJHthfSlgO1xuICAgICAgICAgICAgaWYgKHR3ZWVuSGFzQ29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgY29uc3QgbnMgPSB0d2Vlbi5fbnVtYmVycztcbiAgICAgICAgICAgICAgbnNbMF0gPSByO1xuICAgICAgICAgICAgICBuc1sxXSA9IGc7XG4gICAgICAgICAgICAgIG5zWzJdID0gYjtcbiAgICAgICAgICAgICAgbnNbM10gPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHdlZW5WYWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuQ09NUExFWCkge1xuICAgICAgICAgICAgdmFsdWUgPSB0d2Vlbi5fc3RyaW5nc1swXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBsID0gdHdlZW4uX3RvTnVtYmVycy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgbiA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbk1vZGlmaWVyKHJvdW5kKGludGVycG9sYXRlKHR3ZWVuLl9mcm9tTnVtYmVyc1tqXSwgdHdlZW4uX3RvTnVtYmVyc1tqXSwgdHdlZW5Qcm9ncmVzcyksIHR3ZWVuUHJlY2lzaW9uKSkpO1xuICAgICAgICAgICAgICBjb25zdCBzID0gdHdlZW4uX3N0cmluZ3NbaiArIDFdO1xuICAgICAgICAgICAgICB2YWx1ZSArPSBgJHtzID8gbiArIHMgOiBufWA7XG4gICAgICAgICAgICAgIGlmICh0d2Vlbkhhc0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdHdlZW4uX251bWJlcnNbal0gPSBuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRm9yIGFkZGl0aXZlIHR3ZWVucyBhbmQgQW5pbWF0YWJsZXNcbiAgICAgICAgICBpZiAodHdlZW5IYXNDb21wb3NpdGlvbikge1xuICAgICAgICAgICAgdHdlZW4uX251bWJlciA9IG51bWJlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsUmVuZGVyICYmIHR3ZWVuQ29tcG9zaXRpb24gIT09IGNvbXBvc2l0aW9uVHlwZXMuYmxlbmQpIHtcblxuICAgICAgICAgICAgY29uc3QgdHdlZW5Qcm9wZXJ0eSA9IHR3ZWVuLnByb3BlcnR5O1xuICAgICAgICAgICAgdHdlZW5UYXJnZXQgPSB0d2Vlbi50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh0d2VlbklzT2JqZWN0KSB7XG4gICAgICAgICAgICAgIHR3ZWVuVGFyZ2V0W3R3ZWVuUHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgICAgLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHR3ZWVuVGFyZ2V0KS5zZXRBdHRyaWJ1dGUodHdlZW5Qcm9wZXJ0eSwgLyoqIEB0eXBlIHtTdHJpbmd9ICovKHZhbHVlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0d2VlblN0eWxlID0gLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHR3ZWVuVGFyZ2V0KS5zdHlsZTtcbiAgICAgICAgICAgICAgaWYgKHR3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk0pIHtcbiAgICAgICAgICAgICAgICBpZiAodHdlZW5UYXJnZXQgIT09IHR3ZWVuVGFyZ2V0VHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgICAgICAgdHdlZW5UYXJnZXRUcmFuc2Zvcm1zID0gdHdlZW5UYXJnZXQ7XG4gICAgICAgICAgICAgICAgICAvLyBOT1RFOiBSZWZlcmVuY2luZyB0aGUgY2FjaGVkVHJhbnNmb3JtcyBpbiB0aGUgdHdlZW4gcHJvcGVydHkgZGlyZWN0bHkgY2FuIGJlIGEgbGl0dGxlIGJpdCBmYXN0ZXIgYnV0IGFwcGVhcnMgdG8gaW5jcmVhc2UgbWVtb3J5IHVzYWdlLlxuICAgICAgICAgICAgICAgICAgdHdlZW5UYXJnZXRUcmFuc2Zvcm1zUHJvcGVydGllcyA9IHR3ZWVuVGFyZ2V0W3RyYW5zZm9ybXNTeW1ib2xdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzW3R3ZWVuUHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdHdlZW5UcmFuc2Zvcm1zTmVlZFVwZGF0ZSA9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodHdlZW5UeXBlID09PSB0d2VlblR5cGVzLkNTUykge1xuICAgICAgICAgICAgICAgIHR3ZWVuU3R5bGVbdHdlZW5Qcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuQ1NTX1ZBUikge1xuICAgICAgICAgICAgICAgIHR3ZWVuU3R5bGUuc2V0UHJvcGVydHkodHdlZW5Qcm9wZXJ0eSwvKiogQHR5cGUge1N0cmluZ30gKi8odmFsdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNDdXJyZW50VGltZUFib3ZlWmVybykgaGFzUmVuZGVyZWQgPSAxO1xuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZWQgZm9yIGNvbXBvc2luZyB0aW1lbGluZSB0d2VlbnMgd2l0aG91dCBoYXZpbmcgdG8gZG8gYSByZWFsIHJlbmRlclxuICAgICAgICAgICAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOT1RFOiBQb3NzaWJsZSBpbXByb3ZlbWVudDogVXNlIHRyYW5zbGF0ZSh4LHkpIC8gdHJhbnNsYXRlM2QoeCx5LHopIHN5bnRheFxuICAgICAgICAvLyB0byByZWR1Y2UgbWVtb3J5IHVzYWdlIG9uIHN0cmluZyBjb21wb3NpdGlvblxuICAgICAgICBpZiAodHdlZW5UcmFuc2Zvcm1zTmVlZFVwZGF0ZSAmJiB0d2Vlbi5fcmVuZGVyVHJhbnNmb3Jtcykge1xuICAgICAgICAgIGxldCBzdHIgPSBlbXB0eVN0cmluZztcbiAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdHdlZW5UYXJnZXRUcmFuc2Zvcm1zUHJvcGVydGllcykge1xuICAgICAgICAgICAgc3RyICs9IGAke3RyYW5zZm9ybXNGcmFnbWVudFN0cmluZ3Nba2V5XX0ke3R3ZWVuVGFyZ2V0VHJhbnNmb3Jtc1Byb3BlcnRpZXNba2V5XX0pIGA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHR3ZWVuU3R5bGUudHJhbnNmb3JtID0gc3RyO1xuICAgICAgICAgIHR3ZWVuVHJhbnNmb3Jtc05lZWRVcGRhdGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdHdlZW4gPSB0d2Vlbi5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmIGhhc1JlbmRlcmVkKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKHRpY2thYmxlKS5vblJlbmRlcigvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqLyh0aWNrYWJsZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghbXV0ZUNhbGxiYWNrcyAmJiBpc0N1cnJlbnRUaW1lQWJvdmVaZXJvKSB7XG4gICAgICB0aWNrYWJsZS5vblVwZGF0ZSgvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRpY2thYmxlKSk7XG4gICAgfVxuXG4gIH1cblxuICAvLyBFbmQgdHdlZW5zIHJlbmRlcmluZ1xuXG4gIC8vIEhhbmRsZSBzZXR0ZXJzIG9uIHRpbWVsaW5lIGRpZmZlcmVudGx5IGFuZCBhbGxvdyByZS10cmlnZXJpbmcgdGhlIG9uQ29tcGxldGUgY2FsbGJhY2sgd2hlbiBzZWVraW5nIGJhY2t3YXJkc1xuICBpZiAocGFyZW50ICYmIGlzU2V0dGVyKSB7XG4gICAgaWYgKCFtdXRlQ2FsbGJhY2tzICYmIChcbiAgICAgIChwYXJlbnQuYmVnYW4gJiYgIWlzUnVubmluZ0JhY2t3YXJkcyAmJiB0aWNrYWJsZUFic29sdXRlVGltZSA+PSBkdXJhdGlvbiAmJiAhY29tcGxldGVkKSB8fFxuICAgICAgKGlzUnVubmluZ0JhY2t3YXJkcyAmJiB0aWNrYWJsZUFic29sdXRlVGltZSA8PSBtaW5WYWx1ZSAmJiBjb21wbGV0ZWQpXG4gICAgKSkge1xuICAgICAgdGlja2FibGUub25Db21wbGV0ZSgvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRpY2thYmxlKSk7XG4gICAgICB0aWNrYWJsZS5jb21wbGV0ZWQgPSAhaXNSdW5uaW5nQmFja3dhcmRzO1xuICAgIH1cbiAgLy8gSWYgY3VycmVudFRpbWUgaXMgYm90aCBhYm92ZSAwIGFuZCBhdCBsZWFzdCBlcXVhbHMgdG8gZHVyYXRpb24sIGhhbmRsZXMgbm9ybWFsIG9uQ29tcGxldGUgb3IgaW5maW5pdGUgbG9vcHNcbiAgfSBlbHNlIGlmIChpc0N1cnJlbnRUaW1lQWJvdmVaZXJvICYmIGlzQ3VycmVudFRpbWVFcXVhbE9yQWJvdmVEdXJhdGlvbikge1xuICAgIGlmIChpdGVyYXRpb25Db3VudCA9PT0gSW5maW5pdHkpIHtcbiAgICAgIC8vIE9mZnNldCB0aGUgdGlja2FibGUgX3N0YXJ0VGltZSB3aXRoIGl0cyBkdXJhdGlvbiB0byByZXNldCBfY3VycmVudFRpbWUgdG8gMCBhbmQgY29udGludWUgdGhlIGluZmluaXRlIHRpbWVyXG4gICAgICB0aWNrYWJsZS5fc3RhcnRUaW1lICs9IHRpY2thYmxlLmR1cmF0aW9uO1xuICAgIH0gZWxzZSBpZiAodGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb24gPj0gaXRlcmF0aW9uQ291bnQgLSAxKSB7XG4gICAgICAvLyBCeSBzZXR0aW5nIHBhdXNlZCB0byB0cnVlLCB3ZSB0ZWxsIHRoZSBlbmdpbmUgbG9vcCB0byBub3QgcmVuZGVyIHRoaXMgdGlja2FibGUgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgbGlzdCBvbiB0aGUgbmV4dCB0aWNrXG4gICAgICB0aWNrYWJsZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgaWYgKCFjb21wbGV0ZWQgJiYgIV9oYXNDaGlsZHJlbikge1xuICAgICAgICAvLyBJZiB0aGUgdGlja2FibGUgaGFzIGNoaWxkcmVuLCB0cmlnZ2VycyBvbkNvbXBsZXRlKCkgb25seSB3aGVuIGFsbCBjaGlsZHJlbiBoYXZlIGNvbXBsZXRlZCBpbiB0aGUgdGljayBmdW5jdGlvblxuICAgICAgICB0aWNrYWJsZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIW11dGVDYWxsYmFja3MgJiYgIShwYXJlbnQgJiYgKGlzUnVubmluZ0JhY2t3YXJkcyB8fCAhcGFyZW50LmJlZ2FuKSkpIHtcbiAgICAgICAgICB0aWNrYWJsZS5vbkNvbXBsZXRlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGlja2FibGUpKTtcbiAgICAgICAgICB0aWNrYWJsZS5fcmVzb2x2ZSgvKiogQHR5cGUge0NhbGxiYWNrQXJndW1lbnR9ICovKHRpY2thYmxlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIC8vIE90aGVyd2lzZSBzZXQgdGhlIGNvbXBsZXRlZCBmbGFnIHRvIGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgdGlja2FibGUuY29tcGxldGVkID0gZmFsc2U7XG4gIH1cblxuICAvLyBOT1RFOiBoYXNSZW5kZXJlZCAqIGRpcmVjdGlvbiAobmVnYXRpdmUgZm9yIGJhY2t3YXJkcykgdGhpcyB3YXkgd2UgY2FuIHJlbW92ZSB0aGUgdGlja2FibGUuYmFja3dhcmRzIHByb3BlcnR5IGNvbXBsZXRseSA/XG4gIHJldHVybiBoYXNSZW5kZXJlZDtcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGlja2FibGV9IHRpY2thYmxlXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVcbiAqIEBwYXJhbSAge051bWJlcn0gbXV0ZUNhbGxiYWNrc1xuICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcm5hbFJlbmRlclxuICogQHBhcmFtICB7TnVtYmVyfSB0aWNrTW9kZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuY29uc3QgdGljayA9ICh0aWNrYWJsZSwgdGltZSwgbXV0ZUNhbGxiYWNrcywgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2RlKSA9PiB7XG4gIGNvbnN0IF9jdXJyZW50SXRlcmF0aW9uID0gdGlja2FibGUuX2N1cnJlbnRJdGVyYXRpb247XG4gIHJlbmRlcih0aWNrYWJsZSwgdGltZSwgbXV0ZUNhbGxiYWNrcywgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2RlKTtcbiAgaWYgKHRpY2thYmxlLl9oYXNDaGlsZHJlbikge1xuICAgIGNvbnN0IHRsID0gLyoqIEB0eXBlIHtUaW1lbGluZX0gKi8odGlja2FibGUpO1xuICAgIGNvbnN0IHRsSXNSdW5uaW5nQmFja3dhcmRzID0gdGwuYmFja3dhcmRzO1xuICAgIGNvbnN0IHRsQ2hpbGRyZW5UaW1lID0gaW50ZXJuYWxSZW5kZXIgPyB0aW1lIDogdGwuX2l0ZXJhdGlvblRpbWU7XG4gICAgY29uc3QgdGxDaWxkcmVuVGlja1RpbWUgPSBub3coKTtcblxuICAgIGxldCB0bENoaWxkcmVuSGFzUmVuZGVyZWQgPSAwO1xuICAgIGxldCB0bENoaWxkcmVuSGF2ZUNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICAvLyBJZiB0aGUgdGltZWxpbmUgaGFzIGxvb3BlZCBmb3J3YXJkLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IHRyaWdnZXJzIGNoaWxkcmVuIHNraXBwZWQgY2FsbGJhY2tzXG4gICAgaWYgKCFpbnRlcm5hbFJlbmRlciAmJiB0bC5fY3VycmVudEl0ZXJhdGlvbiAhPT0gX2N1cnJlbnRJdGVyYXRpb24pIHtcbiAgICAgIGNvbnN0IHRsSXRlcmF0aW9uRHVyYXRpb24gPSB0bC5pdGVyYXRpb25EdXJhdGlvbjtcbiAgICAgIGZvckVhY2hDaGlsZHJlbih0bCwgKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKCF0bElzUnVubmluZ0JhY2t3YXJkcykge1xuICAgICAgICAgIC8vIEZvcmNlIGFuIGludGVybmFsIHJlbmRlciB0byB0cmlnZ2VyIHRoZSBjYWxsYmFja3MgaWYgdGhlIGNoaWxkIGhhcyBub3QgY29tcGxldGVkIG9uIGxvb3BcbiAgICAgICAgICBpZiAoIWNoaWxkLmNvbXBsZXRlZCAmJiAhY2hpbGQuYmFja3dhcmRzICYmIGNoaWxkLl9jdXJyZW50VGltZSA8IGNoaWxkLml0ZXJhdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICByZW5kZXIoY2hpbGQsIHRsSXRlcmF0aW9uRHVyYXRpb24sIG11dGVDYWxsYmFja3MsIDEsIHRpY2tNb2Rlcy5GT1JDRSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFJlc2V0IHRoZWlyIGJlZ2FuIGFuZCBjb21wbGV0ZWQgZmxhZ3MgdG8gYWxsb3cgcmV0cmlnZXJpbmcgY2FsbGJhY2tzIG9uIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgIGNoaWxkLmJlZ2FuID0gZmFsc2U7XG4gICAgICAgICAgY2hpbGQuY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY2hpbGREdXJhdGlvbiA9IGNoaWxkLmR1cmF0aW9uO1xuICAgICAgICAgIGNvbnN0IGNoaWxkU3RhcnRUaW1lID0gY2hpbGQuX29mZnNldCArIGNoaWxkLl9kZWxheTtcbiAgICAgICAgICBjb25zdCBjaGlsZEVuZFRpbWUgPSBjaGlsZFN0YXJ0VGltZSArIGNoaWxkRHVyYXRpb247XG4gICAgICAgICAgLy8gVHJpZ2dlcnMgdGhlIG9uQ29tcGxldGUgY2FsbGJhY2sgb24gcmV2ZXJzZSBmb3IgY2hpbGRyZW4gb24gdGhlIGVkZ2VzIG9mIHRoZSB0aW1lbGluZVxuICAgICAgICAgIGlmICghbXV0ZUNhbGxiYWNrcyAmJiBjaGlsZER1cmF0aW9uIDw9IG1pblZhbHVlICYmICghY2hpbGRTdGFydFRpbWUgfHwgY2hpbGRFbmRUaW1lID09PSB0bEl0ZXJhdGlvbkR1cmF0aW9uKSkge1xuICAgICAgICAgICAgY2hpbGQub25Db21wbGV0ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghbXV0ZUNhbGxiYWNrcykgdGwub25Mb29wKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGwpKTtcbiAgICB9XG5cbiAgICBmb3JFYWNoQ2hpbGRyZW4odGwsICgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL2NoaWxkKSA9PiB7XG4gICAgICBjb25zdCBjaGlsZFRpbWUgPSByb3VuZCgodGxDaGlsZHJlblRpbWUgLSBjaGlsZC5fb2Zmc2V0KSAqIGNoaWxkLl9zcGVlZCwgMTIpOyAvLyBSb3VuZGluZyBpcyBuZWVkZWQgd2hlbiB1c2luZyBzZWNvbmRzXG4gICAgICBjb25zdCBjaGlsZFRpY2tNb2RlID0gY2hpbGQuX2ZwcyA8IHRsLl9mcHMgPyBjaGlsZC5yZXF1ZXN0VGljayh0bENpbGRyZW5UaWNrVGltZSkgOiB0aWNrTW9kZTtcbiAgICAgIHRsQ2hpbGRyZW5IYXNSZW5kZXJlZCArPSByZW5kZXIoY2hpbGQsIGNoaWxkVGltZSwgbXV0ZUNhbGxiYWNrcywgaW50ZXJuYWxSZW5kZXIsIGNoaWxkVGlja01vZGUpO1xuICAgICAgaWYgKCFjaGlsZC5jb21wbGV0ZWQgJiYgdGxDaGlsZHJlbkhhdmVDb21wbGV0ZWQpIHRsQ2hpbGRyZW5IYXZlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgfSwgdGxJc1J1bm5pbmdCYWNrd2FyZHMpO1xuXG4gICAgLy8gUmVuZGVycyBvbiB0aW1lbGluZSBhcmUgdHJpZ2dlcmVkIGJ5IGl0cyBjaGlsZHJlbiBzbyBpdCBuZWVkcyB0byBiZSBzZXQgYWZ0ZXIgcmVuZGVyaW5nIHRoZSBjaGlsZHJlblxuICAgIGlmICghbXV0ZUNhbGxiYWNrcyAmJiB0bENoaWxkcmVuSGFzUmVuZGVyZWQpIHRsLm9uUmVuZGVyKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGwpKTtcblxuICAgIC8vIFRyaWdnZXJzIHRoZSB0aW1lbGluZSBvbkNvbXBsZXRlKCkgb25jZSBhbGwgY2hpbmRyZW4gYWxsIGNvbXBsZXRlZCBhbmQgdGhlIGN1cnJlbnQgdGltZSBoYXMgcmVhY2hlZCB0aGUgZW5kXG4gICAgaWYgKHRsQ2hpbGRyZW5IYXZlQ29tcGxldGVkICYmIHRsLl9jdXJyZW50VGltZSA+PSB0bC5kdXJhdGlvbikge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBwYXVzZWQgZmxhZyBpcyBmYWxzZSBpbiBjYXNlIGl0IGhhcyBiZWVuIHNraXBwZWQgaW4gdGhlIHJlbmRlciBmdW5jdGlvblxuICAgICAgdGwucGF1c2VkID0gdHJ1ZTtcbiAgICAgIGlmICghdGwuY29tcGxldGVkKSB7XG4gICAgICAgIHRsLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICghbXV0ZUNhbGxiYWNrcykge1xuICAgICAgICAgIHRsLm9uQ29tcGxldGUoLyoqIEB0eXBlIHtDYWxsYmFja0FyZ3VtZW50fSAqLyh0bCkpO1xuICAgICAgICAgIHRsLl9yZXNvbHZlKC8qKiBAdHlwZSB7Q2FsbGJhY2tBcmd1bWVudH0gKi8odGwpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuXG5cblxuY29uc3QgYWRkaXRpdmUgPSB7XG4gIGFuaW1hdGlvbjogbnVsbCxcbiAgdXBkYXRlOiBub29wLFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiBBZGRpdGl2ZUFuaW1hdGlvblxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge051bWJlcn0gX29mZnNldFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IF9kZWxheVxuICogQHByb3BlcnR5IHtUd2Vlbn0gX2hlYWRcbiAqIEBwcm9wZXJ0eSB7VHdlZW59IF90YWlsXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0gIHtUd2VlbkFkZGl0aXZlTG9va3Vwc30gbG9va3Vwc1xuICogQHJldHVybiB7QWRkaXRpdmVBbmltYXRpb259XG4gKi9cbmNvbnN0IGFkZEFkZGl0aXZlQW5pbWF0aW9uID0gbG9va3VwcyA9PiB7XG4gIGxldCBhbmltYXRpb24gPSBhZGRpdGl2ZS5hbmltYXRpb247XG4gIGlmICghYW5pbWF0aW9uKSB7XG4gICAgYW5pbWF0aW9uID0ge1xuICAgICAgZHVyYXRpb246IG1pblZhbHVlLFxuICAgICAgY29tcHV0ZURlbHRhVGltZTogbm9vcCxcbiAgICAgIF9vZmZzZXQ6IDAsXG4gICAgICBfZGVsYXk6IDAsXG4gICAgICBfaGVhZDogbnVsbCxcbiAgICAgIF90YWlsOiBudWxsLFxuICAgIH07XG4gICAgYWRkaXRpdmUuYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgIGFkZGl0aXZlLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGxvb2t1cHMuZm9yRWFjaChwcm9wZXJ0eUFuaW1hdGlvbiA9PiB7XG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0eUFuaW1hdGlvbikge1xuICAgICAgICAgIGNvbnN0IHR3ZWVucyA9IHByb3BlcnR5QW5pbWF0aW9uW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgY29uc3QgbG9va3VwVHdlZW4gPSB0d2VlbnMuX2hlYWQ7XG4gICAgICAgICAgaWYgKGxvb2t1cFR3ZWVuKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSBsb29rdXBUd2Vlbi5fdmFsdWVUeXBlO1xuICAgICAgICAgICAgY29uc3QgYWRkaXRpdmVWYWx1ZXMgPSB2YWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuQ09NUExFWCB8fCB2YWx1ZVR5cGUgPT09IHZhbHVlVHlwZXMuQ09MT1IgPyBjbG9uZUFycmF5KGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVycykgOiBudWxsO1xuICAgICAgICAgICAgbGV0IGFkZGl0aXZlVmFsdWUgPSBsb29rdXBUd2Vlbi5fZnJvbU51bWJlcjtcbiAgICAgICAgICAgIGxldCB0d2VlbiA9IHR3ZWVucy5fdGFpbDtcbiAgICAgICAgICAgIHdoaWxlICh0d2VlbiAmJiB0d2VlbiAhPT0gbG9va3VwVHdlZW4pIHtcbiAgICAgICAgICAgICAgaWYgKGFkZGl0aXZlVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0d2Vlbi5fbnVtYmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIGFkZGl0aXZlVmFsdWVzW2ldICs9IHR3ZWVuLl9udW1iZXJzW2ldO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZGl0aXZlVmFsdWUgKz0gdHdlZW4uX251bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0d2VlbiA9IHR3ZWVuLl9wcmV2QWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9va3VwVHdlZW4uX3RvTnVtYmVyID0gYWRkaXRpdmVWYWx1ZTtcbiAgICAgICAgICAgIGxvb2t1cFR3ZWVuLl90b051bWJlcnMgPSBhZGRpdGl2ZVZhbHVlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gVE9ETzogQXZvaWQgcG9seW1vcnBoaXNtIGhlcmUsIGlkZWFseSB0aGUgYWRkaXRpdmUgYW5pbWF0aW9uIHNob3VsZCBiZSBhIHJlZ3VsYXIgYW5pbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJpb3JpdHkgaW4gdGhlIHJlbmRlciBsb29wXG4gICAgICByZW5kZXIoYW5pbWF0aW9uLCAxLCAxLCAwLCB0aWNrTW9kZXMuRk9SQ0UpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn07XG5cbmNvbnN0IGVuZ2luZVRpY2tNZXRob2QgPSBpc0Jyb3dzZXIgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgOiBzZXRJbW1lZGlhdGU7XG5jb25zdCBlbmdpbmVDYW5jZWxNZXRob2QgPSBpc0Jyb3dzZXIgPyBjYW5jZWxBbmltYXRpb25GcmFtZSA6IGNsZWFySW1tZWRpYXRlO1xuXG5jbGFzcyBFbmdpbmUgZXh0ZW5kcyBDbG9jayB7XG5cbiAgLyoqIEBwYXJhbSB7TnVtYmVyfSBbaW5pdFRpbWVdICovXG4gIGNvbnN0cnVjdG9yKGluaXRUaW1lKSB7XG4gICAgc3VwZXIoaW5pdFRpbWUpO1xuICAgIHRoaXMudXNlRGVmYXVsdE1haW5Mb29wID0gdHJ1ZTtcbiAgICB0aGlzLnBhdXNlT25Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG4gICAgLyoqIEB0eXBlIHtEZWZhdWx0c1BhcmFtc30gKi9cbiAgICB0aGlzLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgdGhpcy5wYXVzZWQgPSBpc0Jyb3dzZXIgJiYgZG9jLmhpZGRlbiA/IHRydWUgIDogZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ8Tm9kZUpTLkltbWVkaWF0ZX0gKi9cbiAgICB0aGlzLnJlcUlkID0gbnVsbDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5fY3VycmVudFRpbWUgPSBub3coKTtcbiAgICBpZiAodGhpcy5yZXF1ZXN0VGljayh0aW1lKSkge1xuICAgICAgdGhpcy5jb21wdXRlRGVsdGFUaW1lKHRpbWUpO1xuICAgICAgY29uc3QgZW5naW5lU3BlZWQgPSB0aGlzLl9zcGVlZDtcbiAgICAgIGNvbnN0IGVuZ2luZUZwcyA9IHRoaXMuX2ZwcztcbiAgICAgIGxldCBhY3RpdmVUaWNrYWJsZSA9IC8qKiBAdHlwZSB7VGlja2FibGV9ICovKHRoaXMuX2hlYWQpO1xuICAgICAgd2hpbGUgKGFjdGl2ZVRpY2thYmxlKSB7XG4gICAgICAgIGNvbnN0IG5leHRUaWNrYWJsZSA9IGFjdGl2ZVRpY2thYmxlLl9uZXh0O1xuICAgICAgICBpZiAoIWFjdGl2ZVRpY2thYmxlLnBhdXNlZCkge1xuICAgICAgICAgIHRpY2soXG4gICAgICAgICAgICBhY3RpdmVUaWNrYWJsZSxcbiAgICAgICAgICAgICh0aW1lIC0gYWN0aXZlVGlja2FibGUuX3N0YXJ0VGltZSkgKiBhY3RpdmVUaWNrYWJsZS5fc3BlZWQgKiBlbmdpbmVTcGVlZCxcbiAgICAgICAgICAgIDAsIC8vICFtdXRlQ2FsbGJhY2tzXG4gICAgICAgICAgICAwLCAvLyAhaW50ZXJuYWxSZW5kZXJcbiAgICAgICAgICAgIGFjdGl2ZVRpY2thYmxlLl9mcHMgPCBlbmdpbmVGcHMgPyBhY3RpdmVUaWNrYWJsZS5yZXF1ZXN0VGljayh0aW1lKSA6IHRpY2tNb2Rlcy5BVVRPXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDaGlsZCh0aGlzLCBhY3RpdmVUaWNrYWJsZSk7XG4gICAgICAgICAgdGhpcy5faGFzQ2hpbGRyZW4gPSAhIXRoaXMuX3RhaWw7XG4gICAgICAgICAgYWN0aXZlVGlja2FibGUuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoYWN0aXZlVGlja2FibGUuY29tcGxldGVkICYmICFhY3RpdmVUaWNrYWJsZS5fY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBhY3RpdmVUaWNrYWJsZS5jYW5jZWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlVGlja2FibGUgPSBuZXh0VGlja2FibGU7XG4gICAgICB9XG4gICAgICBhZGRpdGl2ZS51cGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICB3YWtlKCkge1xuICAgIGlmICh0aGlzLnVzZURlZmF1bHRNYWluTG9vcCAmJiAhdGhpcy5yZXFJZCAmJiAhdGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMucmVxSWQgPSBlbmdpbmVUaWNrTWV0aG9kKHRpY2tFbmdpbmUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICByZXR1cm4ga2lsbEVuZ2luZSgpO1xuICB9XG5cbiAgcmVzdW1lKCkge1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHJldHVybjtcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCAoLyoqIEB0eXBlIHtUaWNrYWJsZX0gKi9jaGlsZCkgPT4gY2hpbGQucmVzZXRUaW1lKCkpO1xuICAgIHJldHVybiB0aGlzLndha2UoKTtcbiAgfVxuXG4gIC8vIEdldHRlciBhbmQgc2V0dGVyIGZvciBzcGVlZFxuICBnZXQgc3BlZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NwZWVkICogKGdsb2JhbHMudGltZVNjYWxlID09PSAxID8gMSA6IEspO1xuICB9XG5cbiAgc2V0IHNwZWVkKHBsYXliYWNrUmF0ZSkge1xuICAgIHRoaXMuX3NwZWVkID0gcGxheWJhY2tSYXRlICogZ2xvYmFscy50aW1lU2NhbGU7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1RpY2thYmxlfSAqL2NoaWxkKSA9PiBjaGlsZC5zcGVlZCA9IGNoaWxkLl9zcGVlZCk7XG4gIH1cblxuICAvLyBHZXR0ZXIgYW5kIHNldHRlciBmb3IgdGltZVVuaXRcbiAgZ2V0IHRpbWVVbml0KCkge1xuICAgIHJldHVybiBnbG9iYWxzLnRpbWVTY2FsZSA9PT0gMSA/ICdtcycgOiAncyc7XG4gIH07XG5cbiAgc2V0IHRpbWVVbml0KHVuaXQpIHtcbiAgICBjb25zdCBzZWNvbmRzU2NhbGUgPSAwLjAwMTtcbiAgICBjb25zdCBpc1NlY29uZCA9IHVuaXQgPT09ICdzJztcbiAgICBjb25zdCBuZXdTY2FsZSA9IGlzU2Vjb25kID8gc2Vjb25kc1NjYWxlIDogMTtcbiAgICBpZiAoZ2xvYmFscy50aW1lU2NhbGUgIT09IG5ld1NjYWxlKSB7XG4gICAgICBnbG9iYWxzLnRpbWVTY2FsZSA9IG5ld1NjYWxlO1xuICAgICAgZ2xvYmFscy50aWNrVGhyZXNob2xkID0gMjAwICogbmV3U2NhbGU7XG4gICAgICBjb25zdCBzY2FsZUZhY3RvciA9IGlzU2Vjb25kID8gc2Vjb25kc1NjYWxlIDogSztcbiAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgICAgKHRoaXMuZGVmYXVsdHMuZHVyYXRpb24pICo9IHNjYWxlRmFjdG9yO1xuICAgICAgdGhpcy5fc3BlZWQgKj0gc2NhbGVGYWN0b3I7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0dGVyIGFuZCBzZXR0ZXIgZm9yIHByZWNpc2lvblxuICBnZXQgcHJlY2lzaW9uKCkge1xuICAgIHJldHVybiBnbG9iYWxzLnByZWNpc2lvbjtcbiAgfVxuXG4gIHNldCBwcmVjaXNpb24ocHJlY2lzaW9uKSB7XG4gICAgZ2xvYmFscy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gIH1cblxufVxuY29uc3QgZW5naW5lID0gLyojX19QVVJFX18qLygoKSA9PiB7XG4gIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUobm93KCkpO1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgZ2xvYmFsVmVyc2lvbnMuZW5naW5lID0gZW5naW5lO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKCFlbmdpbmUucGF1c2VPbkRvY3VtZW50SGlkZGVuKSByZXR1cm47XG4gICAgICBkb2MuaGlkZGVuID8gZW5naW5lLnBhdXNlKCkgOiBlbmdpbmUucmVzdW1lKCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGVuZ2luZTtcbn0pKCk7XG5cblxuY29uc3QgdGlja0VuZ2luZSA9ICgpID0+IHtcbiAgaWYgKGVuZ2luZS5faGVhZCkge1xuICAgIGVuZ2luZS5yZXFJZCA9IGVuZ2luZVRpY2tNZXRob2QodGlja0VuZ2luZSk7XG4gICAgZW5naW5lLnVwZGF0ZSgpO1xuICB9IGVsc2Uge1xuICAgIGVuZ2luZS5yZXFJZCA9IDA7XG4gIH1cbn07XG5cbmNvbnN0IGtpbGxFbmdpbmUgPSAoKSA9PiB7XG4gIGVuZ2luZUNhbmNlbE1ldGhvZCgvKiogQHR5cGUge05vZGVKUy5JbW1lZGlhdGUgJiBOdW1iZXJ9ICovKGVuZ2luZS5yZXFJZCkpO1xuICBlbmdpbmUucmVxSWQgPSAwO1xuICByZXR1cm4gZW5naW5lO1xufTtcblxuXG5cblxuLyoqXG4gKiBAcGFyYW0gIHtET01UYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wTmFtZVxuICogQHBhcmFtICB7T2JqZWN0fSBhbmltYXRpb25JbmxpbmVTdHlsZXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuY29uc3QgcGFyc2VJbmxpbmVUcmFuc2Zvcm1zID0gKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGlvbklubGluZVN0eWxlcykgPT4ge1xuICBjb25zdCBpbmxpbmVUcmFuc2Zvcm1zID0gdGFyZ2V0LnN0eWxlLnRyYW5zZm9ybTtcbiAgbGV0IGlubGluZWRTdHlsZXNQcm9wZXJ0eVZhbHVlO1xuICBpZiAoaW5saW5lVHJhbnNmb3Jtcykge1xuICAgIGNvbnN0IGNhY2hlZFRyYW5zZm9ybXMgPSB0YXJnZXRbdHJhbnNmb3Jtc1N5bWJvbF07XG4gICAgbGV0IHQ7IHdoaWxlICh0ID0gdHJhbnNmb3Jtc0V4ZWNSZ3guZXhlYyhpbmxpbmVUcmFuc2Zvcm1zKSkge1xuICAgICAgY29uc3QgaW5saW5lUHJvcGVydHlOYW1lID0gdFsxXTtcbiAgICAgIC8vIGNvbnN0IGlubGluZVByb3BlcnR5VmFsdWUgPSB0WzJdO1xuICAgICAgY29uc3QgaW5saW5lUHJvcGVydHlWYWx1ZSA9IHRbMl0uc2xpY2UoMSwgLTEpO1xuICAgICAgY2FjaGVkVHJhbnNmb3Jtc1tpbmxpbmVQcm9wZXJ0eU5hbWVdID0gaW5saW5lUHJvcGVydHlWYWx1ZTtcbiAgICAgIGlmIChpbmxpbmVQcm9wZXJ0eU5hbWUgPT09IHByb3BOYW1lKSB7XG4gICAgICAgIGlubGluZWRTdHlsZXNQcm9wZXJ0eVZhbHVlID0gaW5saW5lUHJvcGVydHlWYWx1ZTtcbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBwYXJzZWQgaW5saW5lIHN0eWxlcyBpZiBhbmltYXRpb25JbmxpbmVTdHlsZXMgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKGFuaW1hdGlvbklubGluZVN0eWxlcykge1xuICAgICAgICAgIGFuaW1hdGlvbklubGluZVN0eWxlc1twcm9wTmFtZV0gPSBpbmxpbmVQcm9wZXJ0eVZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmxpbmVUcmFuc2Zvcm1zICYmICFpc1VuZChpbmxpbmVkU3R5bGVzUHJvcGVydHlWYWx1ZSkgPyBpbmxpbmVkU3R5bGVzUHJvcGVydHlWYWx1ZSA6XG4gICAgc3RyaW5nU3RhcnRzV2l0aChwcm9wTmFtZSwgJ3NjYWxlJykgPyAnMScgOlxuICAgIHN0cmluZ1N0YXJ0c1dpdGgocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdTdGFydHNXaXRoKHByb3BOYW1lLCAnc2tldycpID8gJzBkZWcnIDogJzBweCc7XG59O1xuXG5cblxuXG4vKipcbiAqIEBwYXJhbSAge0RPTVRhcmdldHNQYXJhbXxUYXJnZXRzUGFyYW19IHZcbiAqIEByZXR1cm4ge05vZGVMaXN0fEhUTUxDb2xsZWN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXROb2RlTGlzdCh2KSB7XG4gIGNvbnN0IG4gPSBpc1N0cih2KSA/IGdsb2JhbHMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKHYpIDogdjtcbiAgaWYgKG4gaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBuIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHJldHVybiBuO1xufVxuXG4vKipcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7RE9NVGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcmV0dXJuIHtET01UYXJnZXRzQXJyYXl9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtKU1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHJldHVybiB7SlNUYXJnZXRzQXJyYXl9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEByZXR1cm4ge1RhcmdldHNBcnJheX1cbiAqXG4gKiBAcGFyYW0gIHtET01UYXJnZXRzUGFyYW18SlNUYXJnZXRzUGFyYW18VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlVGFyZ2V0cyh0YXJnZXRzKSB7XG4gIGlmIChpc05pbCh0YXJnZXRzKSkgcmV0dXJuIC8qKiBAdHlwZSB7VGFyZ2V0c0FycmF5fSAqLyhbXSk7XG4gIGlmIChpc0Fycih0YXJnZXRzKSkge1xuICAgIGNvbnN0IGZsYXR0ZW5lZCA9IHRhcmdldHMuZmxhdChJbmZpbml0eSk7XG4gICAgLyoqIEB0eXBlIHtUYXJnZXRzQXJyYXl9ICovXG4gICAgY29uc3QgcGFyc2VkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBmbGF0dGVuZWQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZmxhdHRlbmVkW2ldO1xuICAgICAgaWYgKCFpc05pbChpdGVtKSkge1xuICAgICAgICBjb25zdCBub2RlTGlzdCA9IGdldE5vZGVMaXN0KGl0ZW0pO1xuICAgICAgICBpZiAobm9kZUxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamwgPSBub2RlTGlzdC5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJJdGVtID0gbm9kZUxpc3Rbal07XG4gICAgICAgICAgICBpZiAoIWlzTmlsKHN1Ykl0ZW0pKSB7XG4gICAgICAgICAgICAgIGxldCBpc0R1cGxpY2F0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMCwga2wgPSBwYXJzZWQubGVuZ3RoOyBrIDwga2w7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRba10gPT09IHN1Ykl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIGlzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkLnB1c2goc3ViSXRlbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGlzRHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpsID0gcGFyc2VkLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRbal0gPT09IGl0ZW0pIHtcbiAgICAgICAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgcGFyc2VkLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cbiAgaWYgKCFpc0Jyb3dzZXIpIHJldHVybiAvKiogQHR5cGUge0pTVGFyZ2V0c0FycmF5fSAqLyhbdGFyZ2V0c10pO1xuICBjb25zdCBub2RlTGlzdCA9IGdldE5vZGVMaXN0KHRhcmdldHMpO1xuICBpZiAobm9kZUxpc3QpIHJldHVybiAvKiogQHR5cGUge0RPTVRhcmdldHNBcnJheX0gKi8oQXJyYXkuZnJvbShub2RlTGlzdCkpO1xuICByZXR1cm4gLyoqIEB0eXBlIHtUYXJnZXRzQXJyYXl9ICovKFt0YXJnZXRzXSk7XG59XG5cbi8qKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtET01UYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEByZXR1cm4ge0RPTVRhcmdldHNBcnJheX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge0pTVGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gKiBAcmV0dXJuIHtKU1RhcmdldHNBcnJheX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHJldHVybiB7VGFyZ2V0c0FycmF5fVxuICpcbiAqIEBwYXJhbSAge0RPTVRhcmdldHNQYXJhbXxKU1RhcmdldHNQYXJhbXxUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJUYXJnZXRzKHRhcmdldHMpIHtcbiAgY29uc3QgcGFyc2VkVGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBjb25zdCBwYXJzZWRUYXJnZXRzTGVuZ3RoID0gcGFyc2VkVGFyZ2V0c0FycmF5Lmxlbmd0aDtcbiAgaWYgKHBhcnNlZFRhcmdldHNMZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZFRhcmdldHNMZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gcGFyc2VkVGFyZ2V0c0FycmF5W2ldO1xuICAgICAgaWYgKCF0YXJnZXRbaXNSZWdpc3RlcmVkVGFyZ2V0U3ltYm9sXSkge1xuICAgICAgICB0YXJnZXRbaXNSZWdpc3RlcmVkVGFyZ2V0U3ltYm9sXSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGlzU3ZnVHlwZSA9IGlzU3ZnKHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGlzRG9tID0gLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCkubm9kZVR5cGUgfHwgaXNTdmdUeXBlO1xuICAgICAgICBpZiAoaXNEb20pIHtcbiAgICAgICAgICB0YXJnZXRbaXNEb21TeW1ib2xdID0gdHJ1ZTtcbiAgICAgICAgICB0YXJnZXRbaXNTdmdTeW1ib2xdID0gaXNTdmdUeXBlO1xuICAgICAgICAgIHRhcmdldFt0cmFuc2Zvcm1zU3ltYm9sXSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZWRUYXJnZXRzQXJyYXk7XG59XG5cblxuXG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSBwYXRoXG4gKiBAcmV0dXJuIHtTVkdHZW9tZXRyeUVsZW1lbnR8dW5kZWZpbmVkfVxuICovXG5jb25zdCBnZXRQYXRoID0gcGF0aCA9PiB7XG4gIGNvbnN0IHBhcnNlZFRhcmdldHMgPSBwYXJzZVRhcmdldHMocGF0aCk7XG4gIGNvbnN0ICRwYXJzZWRTdmcgPSAvKiogQHR5cGUge1NWR0dlb21ldHJ5RWxlbWVudH0gKi8ocGFyc2VkVGFyZ2V0c1swXSk7XG4gIGlmICghJHBhcnNlZFN2ZyB8fCAhaXNTdmcoJHBhcnNlZFN2ZykpIHJldHVybjtcbiAgcmV0dXJuICRwYXJzZWRTdmc7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gcGF0aDJcbiAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl1cbiAqIEByZXR1cm4ge0Z1bmN0aW9uVmFsdWV9XG4gKi9cbmNvbnN0IG1vcnBoVG8gPSAocGF0aDIsIHByZWNpc2lvbiA9IC4zMykgPT4gKCRwYXRoMSkgPT4ge1xuICBjb25zdCAkcGF0aDIgPSAvKiogQHR5cGUge1NWR0dlb21ldHJ5RWxlbWVudH0gKi8oZ2V0UGF0aChwYXRoMikpO1xuICBpZiAoISRwYXRoMikgcmV0dXJuO1xuICBjb25zdCBpc1BhdGggPSAkcGF0aDEudGFnTmFtZSA9PT0gJ3BhdGgnO1xuICBjb25zdCBzZXBhcmF0b3IgPSBpc1BhdGggPyAnICcgOiAnLCc7XG4gIGNvbnN0IHByZXZpb3VzUG9pbnRzID0gJHBhdGgxW21vcnBoUG9pbnRzU3ltYm9sXTtcbiAgaWYgKHByZXZpb3VzUG9pbnRzKSAkcGF0aDEuc2V0QXR0cmlidXRlKGlzUGF0aCA/ICdkJyA6ICdwb2ludHMnLCBwcmV2aW91c1BvaW50cyk7XG5cbiAgbGV0IHYxID0gJycsIHYyID0gJyc7XG5cbiAgaWYgKCFwcmVjaXNpb24pIHtcbiAgICB2MSA9ICRwYXRoMS5nZXRBdHRyaWJ1dGUoaXNQYXRoID8gJ2QnIDogJ3BvaW50cycpO1xuICAgIHYyID0gJHBhdGgyLmdldEF0dHJpYnV0ZShpc1BhdGggPyAnZCcgOiAncG9pbnRzJyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGVuZ3RoMSA9IC8qKiBAdHlwZSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAqLygkcGF0aDEpLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgY29uc3QgbGVuZ3RoMiA9ICRwYXRoMi5nZXRUb3RhbExlbmd0aCgpO1xuICAgIGNvbnN0IG1heFBvaW50cyA9IE1hdGgubWF4KE1hdGguY2VpbChsZW5ndGgxICogcHJlY2lzaW9uKSwgTWF0aC5jZWlsKGxlbmd0aDIgKiBwcmVjaXNpb24pKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFBvaW50czsgaSsrKSB7XG4gICAgICBjb25zdCB0ID0gaSAvIChtYXhQb2ludHMgLSAxKTtcbiAgICAgIGNvbnN0IHBvaW50T25QYXRoMSA9IC8qKiBAdHlwZSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAqLygkcGF0aDEpLmdldFBvaW50QXRMZW5ndGgobGVuZ3RoMSAqIHQpO1xuICAgICAgY29uc3QgcG9pbnRPblBhdGgyID0gJHBhdGgyLmdldFBvaW50QXRMZW5ndGgobGVuZ3RoMiAqIHQpO1xuICAgICAgY29uc3QgcHJlZml4ID0gaXNQYXRoID8gKGkgPT09IDAgPyAnTScgOiAnTCcpIDogJyc7XG4gICAgICB2MSArPSBwcmVmaXggKyByb3VuZChwb2ludE9uUGF0aDEueCwgMykgKyBzZXBhcmF0b3IgKyBwb2ludE9uUGF0aDEueSArICcgJztcbiAgICAgIHYyICs9IHByZWZpeCArIHJvdW5kKHBvaW50T25QYXRoMi54LCAzKSArIHNlcGFyYXRvciArIHBvaW50T25QYXRoMi55ICsgJyAnO1xuICAgIH1cbiAgfVxuXG4gICRwYXRoMVttb3JwaFBvaW50c1N5bWJvbF0gPSB2MjtcblxuICByZXR1cm4gW3YxLCB2Ml07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAkZWxcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZFxuICogQHJldHVybiB7UHJveHl9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURyYXdhYmxlUHJveHkoJGVsLCBzdGFydCwgZW5kKSB7XG4gIGNvbnN0IHN0cm9rZUxpbmVDYXAgPSBnZXRDb21wdXRlZFN0eWxlKCRlbCkuc3Ryb2tlTGluZWNhcDtcbiAgY29uc3QgcGF0aExlbmd0aCA9IEs7XG4gIGxldCBjdXJyZW50Q2FwID0gc3Ryb2tlTGluZUNhcDtcbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoJGVsLCB7XG4gICAgZ2V0KHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W3Byb3BlcnR5XTtcbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gcHJveHlUYXJnZXRTeW1ib2wpIHJldHVybiB0YXJnZXQ7XG4gICAgICBpZiAocHJvcGVydHkgPT09ICdzZXRBdHRyaWJ1dGUnKSB7XG4gICAgICAgIC8qKiBAcGFyYW0ge2FueVtdfSBhcmdzICovXG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGlmIChhcmdzWzBdID09PSAnZHJhdycpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXJnc1sxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBjb25zdCB2MSA9ICt2YWx1ZXNbMF07XG4gICAgICAgICAgICBjb25zdCB2MiA9ICt2YWx1ZXNbMV07XG5cbiAgICAgICAgICAgIC8vIFRPVE86IEJlbmNobWFyayBpZiBwZXJmb3JtaW5nIHR3byBzbGljZXMgaXMgbW9yZSBwZXJmb3JtYW50IHRoYW4gb25lIHNwbGl0XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IHNwYWNlSW5kZXggPSB2YWx1ZS5pbmRleE9mKCcgJyk7XG4gICAgICAgICAgICAvLyBjb25zdCB2MSA9IHJvdW5kKCt2YWx1ZS5zbGljZSgwLCBzcGFjZUluZGV4KSwgcHJlY2lzaW9uKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHYyID0gcm91bmQoK3ZhbHVlLnNsaWNlKHNwYWNlSW5kZXggKyAxKSwgcHJlY2lzaW9uKTtcblxuICAgICAgICAgICAgY29uc3Qgb3MgPSB2MSAqIC0xZTM7XG4gICAgICAgICAgICBjb25zdCBkMSA9ICh2MiAqIHBhdGhMZW5ndGgpICsgb3M7XG4gICAgICAgICAgICAvLyBQcmV2ZW50cyBsaW5lY2FwIHRvIHNtZWFyIGJ5IG9mZnNldHRpbmcgdGhlIGRhc2hhcnJheSBsZW5ndGggYnkgMC4wMSUgd2hlbiB2MiBpcyBub3QgYXQgbWF4XG4gICAgICAgICAgICBjb25zdCBkMiA9IChwYXRoTGVuZ3RoICsgKCh2MSA9PT0gMCAmJiB2MiA9PT0gMSkgfHwgKHYxID09PSAxICYmIHYyID09PSAwKSA/IDAgOiAxMCkgLSBkMSk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdGhlIGNhcCBpcyBzdGlsbCB2aXNpYmxlIHdoZW4gdGhlIGxpbmUgaXMgY29tcGxldGx5IGhpZGRlblxuICAgICAgICAgICAgaWYgKHN0cm9rZUxpbmVDYXAgIT09ICdidXR0Jykge1xuICAgICAgICAgICAgICBjb25zdCBuZXdDYXAgPSB2MSA9PT0gdjIgPyAnYnV0dCcgOiBzdHJva2VMaW5lQ2FwO1xuICAgICAgICAgICAgICBpZiAoY3VycmVudENhcCAhPT0gbmV3Q2FwKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCBgJHtuZXdDYXB9YCk7XG4gICAgICAgICAgICAgICAgY3VycmVudENhcCA9IG5ld0NhcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBgJHtvc31gKTtcbiAgICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCBgJHtkMX0gJHtkMn1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodmFsdWUsIHRhcmdldCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoaXNGbmModmFsdWUpKSB7XG4gICAgICAgIC8qKiBAcGFyYW0ge2FueVtdfSBhcmdzICovXG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4gUmVmbGVjdC5hcHBseSh2YWx1ZSwgdGFyZ2V0LCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAoJGVsLmdldEF0dHJpYnV0ZSgncGF0aExlbmd0aCcpICE9PSBgJHtwYXRoTGVuZ3RofWApIHtcbiAgICAkZWwuc2V0QXR0cmlidXRlKCdwYXRoTGVuZ3RoJywgYCR7cGF0aExlbmd0aH1gKTtcbiAgICBwcm94eS5zZXRBdHRyaWJ1dGUoJ2RyYXcnLCBgJHtzdGFydH0gJHtlbmR9YCk7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7dHlwZW9mIFByb3h5fSAqLygvKiogQHR5cGUge3Vua25vd259ICovKHByb3h5KSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHNlbGVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW2VuZD0wXVxuICogQHJldHVybiB7QXJyYXkuPFByb3h5Pn1cbiAqL1xuY29uc3QgY3JlYXRlRHJhd2FibGUgPSAoc2VsZWN0b3IsIHN0YXJ0ID0gMCwgZW5kID0gMCkgPT4ge1xuICBjb25zdCBlbHMgPSAvKiogQHR5cGUge0FycmF5LjxQcm94eT59ICovKCgvKiogQHR5cGUge3Vua25vd259ICovKHBhcnNlVGFyZ2V0cyhzZWxlY3RvcikpKSk7XG4gIGVscy5mb3JFYWNoKCgkZWwsIGkpID0+IGVsc1tpXSA9IGNyZWF0ZURyYXdhYmxlUHJveHkoLyoqIEB0eXBlIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICovKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8oJGVsKSksIHN0YXJ0LCBlbmQpKTtcbiAgcmV0dXJuIGVscztcbn07XG5cbi8vIE1vdGlvbiBwYXRoIGFuaW1hdGlvblxuXG4vKipcbiAqIEBwYXJhbSB7U1ZHR2VvbWV0cnlFbGVtZW50fSAkcGF0aFxuICogQHBhcmFtIHtOdW1iZXJ9IHByb2dyZXNzXG4gKiBAcGFyYW0ge051bWJlcn1sb29rdXBcbiAqIEByZXR1cm4ge0RPTVBvaW50fVxuICovXG5jb25zdCBnZXRQYXRoUG9pbnQgPSAoJHBhdGgsIHByb2dyZXNzLCBsb29rdXAgPSAwKSA9PiB7XG4gIHJldHVybiAkcGF0aC5nZXRQb2ludEF0TGVuZ3RoKHByb2dyZXNzICsgbG9va3VwID49IDEgPyBwcm9ncmVzcyArIGxvb2t1cCA6IDApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1NWR0dlb21ldHJ5RWxlbWVudH0gJHBhdGhcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoUHJvcGVydHlcbiAqIEByZXR1cm4ge0Z1bmN0aW9uVmFsdWV9XG4gKi9cbmNvbnN0IGdldFBhdGhQcm9nZXNzID0gKCRwYXRoLCBwYXRoUHJvcGVydHkpID0+IHtcbiAgcmV0dXJuICRlbCA9PiB7XG4gICAgY29uc3QgdG90YWxMZW5ndGggPSArKCRwYXRoLmdldFRvdGFsTGVuZ3RoKCkpO1xuICAgIGNvbnN0IGluU3ZnID0gJGVsW2lzU3ZnU3ltYm9sXTtcbiAgICBjb25zdCBjdG0gPSAkcGF0aC5nZXRDVE0oKTtcbiAgICAvKiogQHR5cGUge1R3ZWVuT2JqZWN0VmFsdWV9ICovXG4gICAgcmV0dXJuIHtcbiAgICAgIGZyb206IDAsXG4gICAgICB0bzogdG90YWxMZW5ndGgsXG4gICAgICAvKiogQHR5cGUge1R3ZWVuTW9kaWZpZXJ9ICovXG4gICAgICBtb2RpZmllcjogcHJvZ3Jlc3MgPT4ge1xuICAgICAgICBpZiAocGF0aFByb3BlcnR5ID09PSAnYScpIHtcbiAgICAgICAgICBjb25zdCBwMCA9IGdldFBhdGhQb2ludCgkcGF0aCwgcHJvZ3Jlc3MsIC0xKTtcbiAgICAgICAgICBjb25zdCBwMSA9IGdldFBhdGhQb2ludCgkcGF0aCwgcHJvZ3Jlc3MsIDEpO1xuICAgICAgICAgIHJldHVybiBhdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gUEk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcCA9IGdldFBhdGhQb2ludCgkcGF0aCwgcHJvZ3Jlc3MsIDApO1xuICAgICAgICAgIHJldHVybiBwYXRoUHJvcGVydHkgPT09ICd4JyA/XG4gICAgICAgICAgICBpblN2ZyB8fCAhY3RtID8gcC54IDogcC54ICogY3RtLmEgKyBwLnkgKiBjdG0uYyArIGN0bS5lIDpcbiAgICAgICAgICAgIGluU3ZnIHx8ICFjdG0gPyBwLnkgOiBwLnggKiBjdG0uYiArIHAueSAqIGN0bS5kICsgY3RtLmZcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gcGF0aFxuICovXG5jb25zdCBjcmVhdGVNb3Rpb25QYXRoID0gcGF0aCA9PiB7XG4gIGNvbnN0ICRwYXRoID0gZ2V0UGF0aChwYXRoKTtcbiAgaWYgKCEkcGF0aCkgcmV0dXJuO1xuICByZXR1cm4ge1xuICAgIHRyYW5zbGF0ZVg6IGdldFBhdGhQcm9nZXNzKCRwYXRoLCAneCcpLFxuICAgIHRyYW5zbGF0ZVk6IGdldFBhdGhQcm9nZXNzKCRwYXRoLCAneScpLFxuICAgIHJvdGF0ZTogZ2V0UGF0aFByb2dlc3MoJHBhdGgsICdhJyksXG4gIH1cbn07XG5cbi8vIENoZWNrIGZvciB2YWxpZCBTVkcgYXR0cmlidXRlXG5cbmNvbnN0IGNzc1Jlc2VydmVkUHJvcGVydGllcyA9IFsnb3BhY2l0eScsICdyb3RhdGUnLCAnb3ZlcmZsb3cnLCAnY29sb3InXTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUYXJnZXR9IGVsXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BlcnR5TmFtZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuY29uc3QgaXNWYWxpZFNWR0F0dHJpYnV0ZSA9IChlbCwgcHJvcGVydHlOYW1lKSA9PiB7XG4gIC8vIFJldHVybiBlYXJseSBhbmQgdXNlIENTUyBvcGFjaXR5IGFuaW1hdGlvbiBpbnN0ZWFkIChhbHJlYWR5IGJldHRlciBkZWZhdWx0IHZhbHVlcyAob3BhY2l0eTogMSBpbnN0ZWFkIG9mIDApKSBhbmQgcm90YXRlIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgdHJhbnNmb3JtXG4gIGlmIChjc3NSZXNlcnZlZFByb3BlcnRpZXMuaW5jbHVkZXMocHJvcGVydHlOYW1lKSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoZWwuZ2V0QXR0cmlidXRlKHByb3BlcnR5TmFtZSkgfHwgcHJvcGVydHlOYW1lIGluIGVsKSB7XG4gICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ3NjYWxlJykgeyAvLyBTY2FsZVxuICAgICAgY29uc3QgZWxQYXJlbnROb2RlID0gLyoqIEB0eXBlIHtTVkdHZW9tZXRyeUVsZW1lbnR9ICovKC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyhlbCkucGFyZW50Tm9kZSk7XG4gICAgICAvLyBPbmx5IGNvbnNpZGVyIHNjYWxlIGFzIGEgdmFsaWQgU1ZHIGF0dHJpYnV0ZSBvbiBmaWx0ZXIgZWxlbWVudFxuICAgICAgcmV0dXJuIGVsUGFyZW50Tm9kZSAmJiBlbFBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ2ZpbHRlcic7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5jb25zdCBzdmcgPSB7XG4gIG1vcnBoVG8sXG4gIGNyZWF0ZU1vdGlvblBhdGgsXG4gIGNyZWF0ZURyYXdhYmxlLFxufTtcblxuXG5cblxuLyoqXG4gKiBSR0IgLyBSR0JBIENvbG9yIHZhbHVlIHN0cmluZyAtPiBSR0JBIHZhbHVlcyBhcnJheVxuICogQHBhcmFtICB7U3RyaW5nfSByZ2JWYWx1ZVxuICogQHJldHVybiB7Q29sb3JBcnJheX1cbiAqL1xuY29uc3QgcmdiVG9SZ2JhID0gcmdiVmFsdWUgPT4ge1xuICBjb25zdCByZ2JhID0gcmdiRXhlY1JneC5leGVjKHJnYlZhbHVlKSB8fCByZ2JhRXhlY1JneC5leGVjKHJnYlZhbHVlKTtcbiAgY29uc3QgYSA9ICFpc1VuZChyZ2JhWzRdKSA/ICtyZ2JhWzRdIDogMTtcbiAgcmV0dXJuIFtcbiAgICArcmdiYVsxXSxcbiAgICArcmdiYVsyXSxcbiAgICArcmdiYVszXSxcbiAgICBhXG4gIF1cbn07XG5cbi8qKlxuICogSEVYMyAvIEhFWDNBIC8gSEVYNiAvIEhFWDZBIENvbG9yIHZhbHVlIHN0cmluZyAtPiBSR0JBIHZhbHVlcyBhcnJheVxuICogQHBhcmFtICB7U3RyaW5nfSBoZXhWYWx1ZVxuICogQHJldHVybiB7Q29sb3JBcnJheX1cbiAqL1xuY29uc3QgaGV4VG9SZ2JhID0gaGV4VmFsdWUgPT4ge1xuICBjb25zdCBoZXhMZW5ndGggPSBoZXhWYWx1ZS5sZW5ndGg7XG4gIGNvbnN0IGlzU2hvcnQgPSBoZXhMZW5ndGggPT09IDQgfHwgaGV4TGVuZ3RoID09PSA1O1xuICByZXR1cm4gW1xuICAgICsoJzB4JyArIGhleFZhbHVlWzFdICsgaGV4VmFsdWVbaXNTaG9ydCA/IDEgOiAyXSksXG4gICAgKygnMHgnICsgaGV4VmFsdWVbaXNTaG9ydCA/IDIgOiAzXSArIGhleFZhbHVlW2lzU2hvcnQgPyAyIDogNF0pLFxuICAgICsoJzB4JyArIGhleFZhbHVlW2lzU2hvcnQgPyAzIDogNV0gKyBoZXhWYWx1ZVtpc1Nob3J0ID8gMyA6IDZdKSxcbiAgICAoKGhleExlbmd0aCA9PT0gNSB8fCBoZXhMZW5ndGggPT09IDkpID8gKygrKCcweCcgKyBoZXhWYWx1ZVtpc1Nob3J0ID8gNCA6IDddICsgaGV4VmFsdWVbaXNTaG9ydCA/IDQgOiA4XSkgLyAyNTUpLnRvRml4ZWQoMykgOiAxKVxuICBdXG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gcFxuICogQHBhcmFtICB7TnVtYmVyfSBxXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgaHVlMnJnYiA9IChwLCBxLCB0KSA9PiB7XG4gIGlmICh0IDwgMCkgdCArPSAxO1xuICBpZiAodCA+IDEpIHQgLT0gMTtcbiAgcmV0dXJuIHQgPCAxIC8gNiA/IHAgKyAocSAtIHApICogNiAqIHQgOlxuICAgICAgICAgdCA8IDEgLyAyID8gcSA6XG4gICAgICAgICB0IDwgMiAvIDMgPyBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNiA6XG4gICAgICAgICBwO1xufTtcblxuLyoqXG4gKiBIU0wgLyBIU0xBIENvbG9yIHZhbHVlIHN0cmluZyAtPiBSR0JBIHZhbHVlcyBhcnJheVxuICogQHBhcmFtICB7U3RyaW5nfSBoc2xWYWx1ZVxuICogQHJldHVybiB7Q29sb3JBcnJheX1cbiAqL1xuY29uc3QgaHNsVG9SZ2JhID0gaHNsVmFsdWUgPT4ge1xuICBjb25zdCBoc2xhID0gaHNsRXhlY1JneC5leGVjKGhzbFZhbHVlKSB8fCBoc2xhRXhlY1JneC5leGVjKGhzbFZhbHVlKTtcbiAgY29uc3QgaCA9ICtoc2xhWzFdIC8gMzYwO1xuICBjb25zdCBzID0gK2hzbGFbMl0gLyAxMDA7XG4gIGNvbnN0IGwgPSAraHNsYVszXSAvIDEwMDtcbiAgY29uc3QgYSA9ICFpc1VuZChoc2xhWzRdKSA/ICtoc2xhWzRdIDogMTtcbiAgbGV0IHIsIGcsIGI7XG4gIGlmIChzID09PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBxID0gbCA8IC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgIGNvbnN0IHAgPSAyICogbCAtIHE7XG4gICAgciA9IHJvdW5kKGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKSAqIDI1NSwgMCk7XG4gICAgZyA9IHJvdW5kKGh1ZTJyZ2IocCwgcSwgaCkgKiAyNTUsIDApO1xuICAgIGIgPSByb3VuZChodWUycmdiKHAsIHEsIGggLSAxIC8gMykgKiAyNTUsIDApO1xuICB9XG4gIHJldHVybiBbciwgZywgYiwgYV07XG59O1xuXG4vKipcbiAqIEFsbCBpbiBvbmUgY29sb3IgY29udmVydGVyIHRoYXQgY29udmVydHMgYSBjb2xvciBzdHJpbmcgdmFsdWUgaW50byBhbiBhcnJheSBvZiBSR0JBIHZhbHVlc1xuICogQHBhcmFtICB7U3RyaW5nfSBjb2xvclN0cmluZ1xuICogQHJldHVybiB7Q29sb3JBcnJheX1cbiAqL1xuY29uc3QgY29udmVydENvbG9yU3RyaW5nVmFsdWVzVG9SZ2JhQXJyYXkgPSBjb2xvclN0cmluZyA9PiB7XG4gIHJldHVybiBpc1JnYihjb2xvclN0cmluZykgPyByZ2JUb1JnYmEoY29sb3JTdHJpbmcpIDpcbiAgICAgICAgIGlzSGV4KGNvbG9yU3RyaW5nKSA/IGhleFRvUmdiYShjb2xvclN0cmluZykgOlxuICAgICAgICAgaXNIc2woY29sb3JTdHJpbmcpID8gaHNsVG9SZ2JhKGNvbG9yU3RyaW5nKSA6XG4gICAgICAgICBbMCwgMCwgMCwgMV07XG59O1xuXG5cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBULCBEXG4gKiBAcGFyYW0ge1R8dW5kZWZpbmVkfSB0YXJnZXRWYWx1ZVxuICogQHBhcmFtIHtEfSBkZWZhdWx0VmFsdWVcbiAqIEByZXR1cm4ge1R8RH1cbiAqL1xuY29uc3Qgc2V0VmFsdWUgPSAodGFyZ2V0VmFsdWUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICByZXR1cm4gaXNVbmQodGFyZ2V0VmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdGFyZ2V0VmFsdWU7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVuUHJvcFZhbHVlfSB2YWx1ZVxuICogQHBhcmFtICB7VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSAge051bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSAge051bWJlcn0gdG90YWxcbiAqIEBwYXJhbSAge09iamVjdH0gW3N0b3JlXVxuICogQHJldHVybiB7YW55fVxuICovXG5jb25zdCBnZXRGdW5jdGlvblZhbHVlID0gKHZhbHVlLCB0YXJnZXQsIGluZGV4LCB0b3RhbCwgc3RvcmUpID0+IHtcbiAgaWYgKGlzRm5jKHZhbHVlKSkge1xuICAgIGNvbnN0IGZ1bmMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IC8qKiBAdHlwZSB7RnVuY3Rpb259ICovKHZhbHVlKSh0YXJnZXQsIGluZGV4LCB0b3RhbCk7XG4gICAgICAvLyBGYWxsYmFjayB0byAwIGlmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZCAvIE5hTiAvIG51bGwgLyBmYWxzZSAvIDBcbiAgICAgIHJldHVybiAhaXNOYU4oK2NvbXB1dGVkKSA/ICtjb21wdXRlZCA6IGNvbXB1dGVkIHx8IDA7XG4gICAgfTtcbiAgICBpZiAoc3RvcmUpIHtcbiAgICAgIHN0b3JlLmZ1bmMgPSBmdW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYygpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHt0d2VlblR5cGVzfVxuICovXG5jb25zdCBnZXRUd2VlblR5cGUgPSAodGFyZ2V0LCBwcm9wKSA9PiB7XG4gIHJldHVybiAhdGFyZ2V0W2lzRG9tU3ltYm9sXSA/IHR3ZWVuVHlwZXMuT0JKRUNUIDpcbiAgICAvLyBIYW5kbGUgU1ZHIGF0dHJpYnV0ZXNcbiAgICB0YXJnZXRbaXNTdmdTeW1ib2xdICYmIGlzVmFsaWRTVkdBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wKSA/IHR3ZWVuVHlwZXMuQVRUUklCVVRFIDpcbiAgICAvLyBIYW5kbGUgQ1NTIFRyYW5zZm9ybSBwcm9wZXJ0aWVzIGRpZmZlcmVudGx5IHRoYW4gQ1NTIHRvIGFsbG93IGluZGl2aWR1YWwgYW5pbWF0aW9uc1xuICAgIHZhbGlkVHJhbnNmb3Jtcy5pbmNsdWRlcyhwcm9wKSB8fCBzaG9ydFRyYW5zZm9ybXMuZ2V0KHByb3ApID8gdHdlZW5UeXBlcy5UUkFOU0ZPUk0gOlxuICAgIC8vIENTUyB2YXJpYWJsZXNcbiAgICBzdHJpbmdTdGFydHNXaXRoKHByb3AsICctLScpID8gdHdlZW5UeXBlcy5DU1NfVkFSIDpcbiAgICAvLyBBbGwgb3RoZXIgQ1NTIHByb3BlcnRpZXNcbiAgICBwcm9wIGluIC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLnN0eWxlID8gdHdlZW5UeXBlcy5DU1MgOlxuICAgIC8vIEhhbmRsZSBvdGhlciBET00gQXR0cmlidXRlc1xuICAgIHByb3AgaW4gdGFyZ2V0ID8gdHdlZW5UeXBlcy5PQkpFQ1QgOlxuICAgIHR3ZWVuVHlwZXMuQVRUUklCVVRFO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtET01UYXJnZXR9IHRhcmdldFxuICogQHBhcmFtICB7U3RyaW5nfSBwcm9wTmFtZVxuICogQHBhcmFtICB7T2JqZWN0fSBhbmltYXRpb25JbmxpbmVTdHlsZXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuY29uc3QgZ2V0Q1NTVmFsdWUgPSAodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0aW9uSW5saW5lU3R5bGVzKSA9PiB7XG4gIGNvbnN0IGlubGluZVN0eWxlcyA9IHRhcmdldC5zdHlsZVtwcm9wTmFtZV07XG4gIGlmIChpbmxpbmVTdHlsZXMgJiYgYW5pbWF0aW9uSW5saW5lU3R5bGVzKSB7XG4gICAgYW5pbWF0aW9uSW5saW5lU3R5bGVzW3Byb3BOYW1lXSA9IGlubGluZVN0eWxlcztcbiAgfVxuICBjb25zdCB2YWx1ZSA9IGlubGluZVN0eWxlcyB8fCBnZXRDb21wdXRlZFN0eWxlKHRhcmdldFtwcm94eVRhcmdldFN5bWJvbF0gfHwgdGFyZ2V0KS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lKTtcbiAgcmV0dXJuIHZhbHVlID09PSAnYXV0bycgPyAnMCcgOiB2YWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0ge3R3ZWVuVHlwZXN9IFt0d2VlblR5cGVdXG4gKiBAcGFyYW0ge09iamVjdHx2b2lkfSBbYW5pbWF0aW9uSW5saW5lU3R5bGVzXVxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqL1xuY29uc3QgZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUgPSAodGFyZ2V0LCBwcm9wTmFtZSwgdHdlZW5UeXBlLCBhbmltYXRpb25JbmxpbmVTdHlsZXMpID0+IHtcbiAgY29uc3QgdHlwZSA9ICFpc1VuZCh0d2VlblR5cGUpID8gdHdlZW5UeXBlIDogZ2V0VHdlZW5UeXBlKHRhcmdldCwgcHJvcE5hbWUpO1xuICByZXR1cm4gdHlwZSA9PT0gdHdlZW5UeXBlcy5PQkpFQ1QgPyB0YXJnZXRbcHJvcE5hbWVdIHx8IDAgOlxuICAgICAgICAgdHlwZSA9PT0gdHdlZW5UeXBlcy5BVFRSSUJVVEUgPyAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KS5nZXRBdHRyaWJ1dGUocHJvcE5hbWUpIDpcbiAgICAgICAgIHR5cGUgPT09IHR3ZWVuVHlwZXMuVFJBTlNGT1JNID8gcGFyc2VJbmxpbmVUcmFuc2Zvcm1zKC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLCBwcm9wTmFtZSwgYW5pbWF0aW9uSW5saW5lU3R5bGVzKSA6XG4gICAgICAgICB0eXBlID09PSB0d2VlblR5cGVzLkNTU19WQVIgPyBnZXRDU1NWYWx1ZSgvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KSwgcHJvcE5hbWUsIGFuaW1hdGlvbklubGluZVN0eWxlcykudHJpbVN0YXJ0KCkgOlxuICAgICAgICAgZ2V0Q1NTVmFsdWUoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCksIHByb3BOYW1lLCBhbmltYXRpb25JbmxpbmVTdHlsZXMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSAge051bWJlcn0geVxuICogQHBhcmFtICB7U3RyaW5nfSBvcGVyYXRvclxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBnZXRSZWxhdGl2ZVZhbHVlID0gKHgsIHksIG9wZXJhdG9yKSA9PiB7XG4gIHJldHVybiBvcGVyYXRvciA9PT0gJy0nID8geCAtIHkgOlxuICAgICAgICAgb3BlcmF0b3IgPT09ICcrJyA/IHggKyB5IDpcbiAgICAgICAgIHggKiB5O1xufTtcblxuLyoqIEByZXR1cm4ge1R3ZWVuRGVjb21wb3NlZFZhbHVlfSAqL1xuY29uc3QgY3JlYXRlRGVjb21wb3NlZFZhbHVlVGFyZ2V0T2JqZWN0ID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8qKiBAdHlwZSB7dmFsdWVUeXBlc30gKi9cbiAgICB0OiB2YWx1ZVR5cGVzLk5VTUJFUixcbiAgICBuOiAwLFxuICAgIHU6IG51bGwsXG4gICAgbzogbnVsbCxcbiAgICBkOiBudWxsLFxuICAgIHM6IG51bGwsXG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gcmF3VmFsdWVcbiAqIEBwYXJhbSAge1R3ZWVuRGVjb21wb3NlZFZhbHVlfSB0YXJnZXRPYmplY3RcbiAqIEByZXR1cm4ge1R3ZWVuRGVjb21wb3NlZFZhbHVlfVxuICovXG5jb25zdCBkZWNvbXBvc2VSYXdWYWx1ZSA9IChyYXdWYWx1ZSwgdGFyZ2V0T2JqZWN0KSA9PiB7XG4gIC8qKiBAdHlwZSB7dmFsdWVUeXBlc30gKi9cbiAgdGFyZ2V0T2JqZWN0LnQgPSB2YWx1ZVR5cGVzLk5VTUJFUjtcbiAgdGFyZ2V0T2JqZWN0Lm4gPSAwO1xuICB0YXJnZXRPYmplY3QudSA9IG51bGw7XG4gIHRhcmdldE9iamVjdC5vID0gbnVsbDtcbiAgdGFyZ2V0T2JqZWN0LmQgPSBudWxsO1xuICB0YXJnZXRPYmplY3QucyA9IG51bGw7XG4gIGlmICghcmF3VmFsdWUpIHJldHVybiB0YXJnZXRPYmplY3Q7XG4gIGNvbnN0IG51bSA9ICtyYXdWYWx1ZTtcbiAgaWYgKCFpc05hTihudW0pKSB7XG4gICAgLy8gSXQncyBhIG51bWJlclxuICAgIHRhcmdldE9iamVjdC5uID0gbnVtO1xuICAgIHJldHVybiB0YXJnZXRPYmplY3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gbGV0IHN0ciA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhyYXdWYWx1ZSkudHJpbSgpO1xuICAgIGxldCBzdHIgPSAvKiogQHR5cGUge1N0cmluZ30gKi8ocmF3VmFsdWUpO1xuICAgIC8vIFBhcnNpbmcgb3BlcmF0b3JzICgrPSwgLT0sICo9KSBtYW51YWxseSBpcyBtdWNoIGZhc3RlciB0aGFuIHVzaW5nIHJlZ2V4IGhlcmVcbiAgICBpZiAoc3RyWzFdID09PSAnPScpIHtcbiAgICAgIHRhcmdldE9iamVjdC5vID0gc3RyWzBdO1xuICAgICAgc3RyID0gc3RyLnNsaWNlKDIpO1xuICAgIH1cbiAgICAvLyBTa2lwIGV4ZWMgcmVnZXggaWYgdGhlIHZhbHVlIHR5cGUgaXMgY29tcGxleCBvciBjb2xvciB0byBhdm9pZCBsb25nIHJlZ2V4IGJhY2t0cmFja2luZ1xuICAgIGNvbnN0IHVuaXRNYXRjaCA9IHN0ci5pbmNsdWRlcygnICcpID8gZmFsc2UgOiB1bml0c0V4ZWNSZ3guZXhlYyhzdHIpO1xuICAgIGlmICh1bml0TWF0Y2gpIHtcbiAgICAgIC8vIEhhcyBhIG51bWJlciBhbmQgYSB1bml0XG4gICAgICB0YXJnZXRPYmplY3QudCA9IHZhbHVlVHlwZXMuVU5JVDtcbiAgICAgIHRhcmdldE9iamVjdC5uID0gK3VuaXRNYXRjaFsxXTtcbiAgICAgIHRhcmdldE9iamVjdC51ID0gdW5pdE1hdGNoWzJdO1xuICAgICAgcmV0dXJuIHRhcmdldE9iamVjdDtcbiAgICB9IGVsc2UgaWYgKHRhcmdldE9iamVjdC5vKSB7XG4gICAgICAvLyBIYXMgYW4gb3BlcmF0b3IgKCs9LCAtPSwgKj0pXG4gICAgICB0YXJnZXRPYmplY3QubiA9ICtzdHI7XG4gICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH0gZWxzZSBpZiAoaXNDb2woc3RyKSkge1xuICAgICAgLy8gSXMgYSBjb2xvclxuICAgICAgdGFyZ2V0T2JqZWN0LnQgPSB2YWx1ZVR5cGVzLkNPTE9SO1xuICAgICAgdGFyZ2V0T2JqZWN0LmQgPSBjb252ZXJ0Q29sb3JTdHJpbmdWYWx1ZXNUb1JnYmFBcnJheShzdHIpO1xuICAgICAgcmV0dXJuIHRhcmdldE9iamVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSXMgYSBtb3JlIGNvbXBsZXggc3RyaW5nIChnZW5lcmFsbHkgc3ZnIGNvb3JkcywgY2FsYygpIG9yIGZpbHRlcnMgQ1NTIHZhbHVlcylcbiAgICAgIGNvbnN0IG1hdGNoZWROdW1iZXJzID0gc3RyLm1hdGNoKGRpZ2l0V2l0aEV4cG9uZW50Umd4KTtcbiAgICAgIHRhcmdldE9iamVjdC50ID0gdmFsdWVUeXBlcy5DT01QTEVYO1xuICAgICAgdGFyZ2V0T2JqZWN0LmQgPSBtYXRjaGVkTnVtYmVycyA/IG1hdGNoZWROdW1iZXJzLm1hcChOdW1iZXIpIDogW107XG4gICAgICB0YXJnZXRPYmplY3QucyA9IHN0ci5zcGxpdChkaWdpdFdpdGhFeHBvbmVudFJneCkgfHwgW107XG4gICAgICByZXR1cm4gdGFyZ2V0T2JqZWN0O1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUd2Vlbn0gdHdlZW5cbiAqIEBwYXJhbSAge1R3ZWVuRGVjb21wb3NlZFZhbHVlfSB0YXJnZXRPYmplY3RcbiAqIEByZXR1cm4ge1R3ZWVuRGVjb21wb3NlZFZhbHVlfVxuICovXG5jb25zdCBkZWNvbXBvc2VUd2VlblZhbHVlID0gKHR3ZWVuLCB0YXJnZXRPYmplY3QpID0+IHtcbiAgdGFyZ2V0T2JqZWN0LnQgPSB0d2Vlbi5fdmFsdWVUeXBlO1xuICB0YXJnZXRPYmplY3QubiA9IHR3ZWVuLl90b051bWJlcjtcbiAgdGFyZ2V0T2JqZWN0LnUgPSB0d2Vlbi5fdW5pdDtcbiAgdGFyZ2V0T2JqZWN0Lm8gPSBudWxsO1xuICB0YXJnZXRPYmplY3QuZCA9IGNsb25lQXJyYXkodHdlZW4uX3RvTnVtYmVycyk7XG4gIHRhcmdldE9iamVjdC5zID0gY2xvbmVBcnJheSh0d2Vlbi5fc3RyaW5ncyk7XG4gIHJldHVybiB0YXJnZXRPYmplY3Q7XG59O1xuXG5jb25zdCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSA9IGNyZWF0ZURlY29tcG9zZWRWYWx1ZVRhcmdldE9iamVjdCgpO1xuXG5cblxuXG5jb25zdCBsb29rdXBzID0ge1xuICAvKiogQHR5cGUge1R3ZWVuUmVwbGFjZUxvb2t1cHN9ICovXG4gIF9yZXA6IG5ldyBXZWFrTWFwKCksXG4gIC8qKiBAdHlwZSB7VHdlZW5BZGRpdGl2ZUxvb2t1cHN9ICovXG4gIF9hZGQ6IG5ldyBNYXAoKSxcbn07XG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSAge1N0cmluZ30gbG9va3VwXG4gKiBAcmV0dXJuIHtUd2VlblByb3BlcnR5U2libGluZ3N9XG4gKi9cbmNvbnN0IGdldFR3ZWVuU2libGluZ3MgPSAodGFyZ2V0LCBwcm9wZXJ0eSwgbG9va3VwID0gJ19yZXAnKSA9PiB7XG4gIGNvbnN0IGxvb2t1cE1hcCA9IGxvb2t1cHNbbG9va3VwXTtcbiAgbGV0IHRhcmdldExvb2t1cCA9IGxvb2t1cE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCF0YXJnZXRMb29rdXApIHtcbiAgICB0YXJnZXRMb29rdXAgPSB7fTtcbiAgICBsb29rdXBNYXAuc2V0KHRhcmdldCwgdGFyZ2V0TG9va3VwKTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0TG9va3VwW3Byb3BlcnR5XSA/IHRhcmdldExvb2t1cFtwcm9wZXJ0eV0gOiB0YXJnZXRMb29rdXBbcHJvcGVydHldID0ge1xuICAgIF9oZWFkOiBudWxsLFxuICAgIF90YWlsOiBudWxsLFxuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVufSBwXG4gKiBAcGFyYW0gIHtUd2Vlbn0gY1xuICogQHJldHVybiB7TnVtYmVyfEJvb2xlYW59XG4gKi9cbmNvbnN0IGFkZFR3ZWVuU29ydE1ldGhvZCA9IChwLCBjKSA9PiB7XG4gIHJldHVybiBwLl9pc092ZXJyaWRkZW4gfHwgcC5fYWJzb2x1dGVTdGFydFRpbWUgPiBjLl9hYnNvbHV0ZVN0YXJ0VGltZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtUd2Vlbn0gdHdlZW5cbiAqL1xuY29uc3Qgb3ZlcnJpZGVUd2VlbiA9IHR3ZWVuID0+IHtcbiAgdHdlZW4uX2lzT3ZlcmxhcHBlZCA9IDE7XG4gIHR3ZWVuLl9pc092ZXJyaWRkZW4gPSAxO1xuICB0d2Vlbi5fY2hhbmdlRHVyYXRpb24gPSBtaW5WYWx1ZTtcbiAgdHdlZW4uX2N1cnJlbnRUaW1lID0gbWluVmFsdWU7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVufSB0d2VlblxuICogQHBhcmFtICB7VHdlZW5Qcm9wZXJ0eVNpYmxpbmdzfSBzaWJsaW5nc1xuICogQHJldHVybiB7VHdlZW59XG4gKi9cbmNvbnN0IGNvbXBvc2VUd2VlbiA9ICh0d2Vlbiwgc2libGluZ3MpID0+IHtcblxuICBjb25zdCB0d2VlbkNvbXBvc2l0aW9uVHlwZSA9IHR3ZWVuLl9jb21wb3NpdGlvbjtcblxuICAvLyBIYW5kbGUgcmVwbGFjZWQgdHdlZW5zXG5cbiAgaWYgKHR3ZWVuQ29tcG9zaXRpb25UeXBlID09PSBjb21wb3NpdGlvblR5cGVzLnJlcGxhY2UpIHtcblxuICAgIGNvbnN0IHR3ZWVuQWJzU3RhcnRUaW1lID0gdHdlZW4uX2Fic29sdXRlU3RhcnRUaW1lO1xuXG4gICAgYWRkQ2hpbGQoc2libGluZ3MsIHR3ZWVuLCBhZGRUd2VlblNvcnRNZXRob2QsICdfcHJldlJlcCcsICdfbmV4dFJlcCcpO1xuXG4gICAgY29uc3QgcHJldlNpYmxpbmcgPSB0d2Vlbi5fcHJldlJlcDtcblxuICAgIC8vIFVwZGF0ZSB0aGUgcHJldmlvdXMgc2libGluZ3MgZm9yIGNvbXBvc2l0aW9uIHJlcGxhY2UgdHdlZW5zXG5cbiAgICBpZiAocHJldlNpYmxpbmcpIHtcblxuICAgICAgY29uc3QgcHJldlBhcmVudCA9IHByZXZTaWJsaW5nLnBhcmVudDtcbiAgICAgIGNvbnN0IHByZXZBYnNFbmRUaW1lID0gcHJldlNpYmxpbmcuX2Fic29sdXRlU3RhcnRUaW1lICsgcHJldlNpYmxpbmcuX2NoYW5nZUR1cmF0aW9uO1xuXG4gICAgICAvLyBIYW5kbGUgbG9vcGVkIGFuaW1hdGlvbnMgdHdlZW5cblxuICAgICAgaWYgKFxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJldmlvdXMgdHdlZW4gaXMgZnJvbSBhIGRpZmZlcmVudCBhbmltYXRpb25cbiAgICAgICAgdHdlZW4ucGFyZW50LmlkICE9PSBwcmV2UGFyZW50LmlkICYmXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBhbmltYXRpb24gaGFzIGxvb3BzXG4gICAgICAgIHByZXZQYXJlbnQuaXRlcmF0aW9uQ291bnQ+IDEgJiZcbiAgICAgICAgLy8gQ2hlY2sgaWYgX2Fic29sdXRlQ2hhbmdlRW5kVGltZSBvZiBsYXN0IGxvb3Agb3ZlcmxhcHMgdGhlIGN1cnJlbnQgdHdlZW5cbiAgICAgICAgcHJldkFic0VuZFRpbWUgKyAocHJldlBhcmVudC5kdXJhdGlvbiAtIHByZXZQYXJlbnQuaXRlcmF0aW9uRHVyYXRpb24pID4gdHdlZW5BYnNTdGFydFRpbWVcbiAgICAgICkge1xuXG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSB3YXkgdG8gb25seSBvdmVycmlkZSB0aGUgaXRlcmF0aW9ucyBvdmVybGFwcGluZyB3aXRoIHRoZSB0d2VlblxuICAgICAgICBvdmVycmlkZVR3ZWVuKHByZXZTaWJsaW5nKTtcblxuICAgICAgICBsZXQgcHJldlByZXZTaWJsaW5nID0gcHJldlNpYmxpbmcuX3ByZXZSZXA7XG5cbiAgICAgICAgLy8gSWYgdGhlIHR3ZWVuIHdhcyBwYXJ0IG9mIGEgc2V0IG9mIGtleWZyYW1lcywgb3ZlcnJpZGUgaXRzIHNpYmxpbmdzXG4gICAgICAgIHdoaWxlIChwcmV2UHJldlNpYmxpbmcgJiYgcHJldlByZXZTaWJsaW5nLnBhcmVudC5pZCA9PT0gcHJldlBhcmVudC5pZCkge1xuICAgICAgICAgIG92ZXJyaWRlVHdlZW4ocHJldlByZXZTaWJsaW5nKTtcbiAgICAgICAgICBwcmV2UHJldlNpYmxpbmcgPSBwcmV2UHJldlNpYmxpbmcuX3ByZXZSZXA7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBjb25zdCBhYnNvbHV0ZVVwZGF0ZVN0YXJ0VGltZSA9IHR3ZWVuQWJzU3RhcnRUaW1lIC0gdHdlZW4uX2RlbGF5O1xuXG4gICAgICBpZiAocHJldkFic0VuZFRpbWUgPiBhYnNvbHV0ZVVwZGF0ZVN0YXJ0VGltZSkge1xuXG4gICAgICAgIGNvbnN0IHByZXZDaGFuZ2VTdGFydFRpbWUgPSBwcmV2U2libGluZy5fc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCBwcmV2VExPZmZzZXQgPSBwcmV2QWJzRW5kVGltZSAtIChwcmV2Q2hhbmdlU3RhcnRUaW1lICsgcHJldlNpYmxpbmcuX3VwZGF0ZUR1cmF0aW9uKTtcblxuICAgICAgICBwcmV2U2libGluZy5fY2hhbmdlRHVyYXRpb24gPSBhYnNvbHV0ZVVwZGF0ZVN0YXJ0VGltZSAtIHByZXZUTE9mZnNldCAtIHByZXZDaGFuZ2VTdGFydFRpbWU7XG4gICAgICAgIHByZXZTaWJsaW5nLl9jdXJyZW50VGltZSA9IHByZXZTaWJsaW5nLl9jaGFuZ2VEdXJhdGlvbjtcbiAgICAgICAgcHJldlNpYmxpbmcuX2lzT3ZlcmxhcHBlZCA9IDE7XG5cbiAgICAgICAgaWYgKHByZXZTaWJsaW5nLl9jaGFuZ2VEdXJhdGlvbiA8IG1pblZhbHVlKSB7XG4gICAgICAgICAgb3ZlcnJpZGVUd2VlbihwcmV2U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGF1c2UgKGFuZCBjYW5jZWwpIHRoZSBwYXJlbnQgaWYgaXQgb25seSBjb250YWlucyBvdmVybGFwcGVkIHR3ZWVuc1xuXG4gICAgICBsZXQgcGF1c2VQcmV2UGFyZW50QW5pbWF0aW9uID0gdHJ1ZTtcblxuICAgICAgZm9yRWFjaENoaWxkcmVuKHByZXZQYXJlbnQsICgvKiogQHR5cGUgVHdlZW4gKi90KSA9PiB7XG4gICAgICAgIGlmICghdC5faXNPdmVybGFwcGVkKSBwYXVzZVByZXZQYXJlbnRBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGF1c2VQcmV2UGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHByZXZQYXJlbnRUTCA9IHByZXZQYXJlbnQucGFyZW50O1xuICAgICAgICBpZiAocHJldlBhcmVudFRMKSB7XG4gICAgICAgICAgbGV0IHBhdXNlUHJldlBhcmVudFRMID0gdHJ1ZTtcbiAgICAgICAgICBmb3JFYWNoQ2hpbGRyZW4ocHJldlBhcmVudFRMLCAoLyoqIEB0eXBlIEpTQW5pbWF0aW9uICovYSkgPT4ge1xuICAgICAgICAgICAgaWYgKGEgIT09IHByZXZQYXJlbnQpIHtcbiAgICAgICAgICAgICAgZm9yRWFjaENoaWxkcmVuKGEsICgvKiogQHR5cGUgVHdlZW4gKi90KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0Ll9pc092ZXJsYXBwZWQpIHBhdXNlUHJldlBhcmVudFRMID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChwYXVzZVByZXZQYXJlbnRUTCkge1xuICAgICAgICAgICAgcHJldlBhcmVudFRMLmNhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2UGFyZW50LmNhbmNlbCgpO1xuICAgICAgICAgIC8vIFByZXZpb3VzbHksIGNhbGxpbmcgLmNhbmNlbCgpIG9uIGEgdGltZWxpbmUgY2hpbGQgd291bGQgYWZmZWN0IHRoZSByZW5kZXIgb3JkZXIgb2Ygb3RoZXIgY2hpbGRyZW5cbiAgICAgICAgICAvLyBXb3JrZWQgYXJvdW5kIHRoaXMgYnkgbWFya2luZyBpdCBhcyAuY29tcGxldGVkIGFuZCB1c2luZyAucGF1c2UoKSBmb3Igc2FmZSByZW1vdmFsIGluIHRoZSBlbmdpbmUgbG9vcFxuICAgICAgICAgIC8vIFRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCBzaW5jZSB0aW1lbGluZSB0d2VlbiBjb21wb3NpdGlvbiBpcyBub3cgaGFuZGxlZCBzZXBhcmF0bHlcbiAgICAgICAgICAvLyBLZWVwaW5nIHRoaXMgaGVyZSBmb3IgcmVmZXJlbmNlXG4gICAgICAgICAgLy8gcHJldlBhcmVudC5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIC8vIHByZXZQYXJlbnQucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gbGV0IG5leHRTaWJsaW5nID0gdHdlZW4uX25leHRSZXA7XG5cbiAgICAvLyAvLyBBbGwgdGhlIG5leHQgc2libGluZ3MgYXJlIGF1dG9tYXRpY2FsbHkgb3ZlcnJpZGRlblxuXG4gICAgLy8gaWYgKG5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nLl9hYnNvbHV0ZVN0YXJ0VGltZSA+PSB0d2VlbkFic1N0YXJ0VGltZSkge1xuICAgIC8vICAgd2hpbGUgKG5leHRTaWJsaW5nKSB7XG4gICAgLy8gICAgIG92ZXJyaWRlVHdlZW4obmV4dFNpYmxpbmcpO1xuICAgIC8vICAgICBuZXh0U2libGluZyA9IG5leHRTaWJsaW5nLl9uZXh0UmVwO1xuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGlmIChuZXh0U2libGluZyAmJiBuZXh0U2libGluZy5fYWJzb2x1dGVTdGFydFRpbWUgPCB0d2VlbkFic1N0YXJ0VGltZSkge1xuICAgIC8vICAgd2hpbGUgKG5leHRTaWJsaW5nKSB7XG4gICAgLy8gICAgIG92ZXJyaWRlVHdlZW4obmV4dFNpYmxpbmcpO1xuICAgIC8vICAgICBjb25zb2xlLmxvZyh0d2Vlbi5pZCwgbmV4dFNpYmxpbmcuaWQpO1xuICAgIC8vICAgICBuZXh0U2libGluZyA9IG5leHRTaWJsaW5nLl9uZXh0UmVwO1xuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAvLyBIYW5kbGUgYWRkaXRpdmUgdHdlZW5zIGNvbXBvc2l0aW9uXG5cbiAgfSBlbHNlIGlmICh0d2VlbkNvbXBvc2l0aW9uVHlwZSA9PT0gY29tcG9zaXRpb25UeXBlcy5ibGVuZCkge1xuXG4gICAgY29uc3QgYWRkaXRpdmVUd2VlblNpYmxpbmdzID0gZ2V0VHdlZW5TaWJsaW5ncyh0d2Vlbi50YXJnZXQsIHR3ZWVuLnByb3BlcnR5LCAnX2FkZCcpO1xuICAgIGNvbnN0IGFkZGl0aXZlQW5pbWF0aW9uID0gYWRkQWRkaXRpdmVBbmltYXRpb24obG9va3Vwcy5fYWRkKTtcblxuICAgIGxldCBsb29rdXBUd2VlbiA9IGFkZGl0aXZlVHdlZW5TaWJsaW5ncy5faGVhZDtcblxuICAgIGlmICghbG9va3VwVHdlZW4pIHtcbiAgICAgIGxvb2t1cFR3ZWVuID0geyAuLi50d2VlbiB9O1xuICAgICAgbG9va3VwVHdlZW4uX2NvbXBvc2l0aW9uID0gY29tcG9zaXRpb25UeXBlcy5yZXBsYWNlO1xuICAgICAgbG9va3VwVHdlZW4uX3VwZGF0ZUR1cmF0aW9uID0gbWluVmFsdWU7XG4gICAgICBsb29rdXBUd2Vlbi5fc3RhcnRUaW1lID0gMDtcbiAgICAgIGxvb2t1cFR3ZWVuLl9udW1iZXJzID0gY2xvbmVBcnJheSh0d2Vlbi5fZnJvbU51bWJlcnMpO1xuICAgICAgbG9va3VwVHdlZW4uX251bWJlciA9IDA7XG4gICAgICBsb29rdXBUd2Vlbi5fbmV4dCA9IG51bGw7XG4gICAgICBsb29rdXBUd2Vlbi5fcHJldiA9IG51bGw7XG4gICAgICBhZGRDaGlsZChhZGRpdGl2ZVR3ZWVuU2libGluZ3MsIGxvb2t1cFR3ZWVuKTtcbiAgICAgIGFkZENoaWxkKGFkZGl0aXZlQW5pbWF0aW9uLCBsb29rdXBUd2Vlbik7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCB0aGUgdmFsdWVzIG9mIFRPIHRvIEZST00gYW5kIHNldCBUTyB0byAwXG5cbiAgICBjb25zdCB0b051bWJlciA9IHR3ZWVuLl90b051bWJlcjtcbiAgICB0d2Vlbi5fZnJvbU51bWJlciA9IGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVyIC0gdG9OdW1iZXI7XG4gICAgdHdlZW4uX3RvTnVtYmVyID0gMDtcbiAgICB0d2Vlbi5fbnVtYmVycyA9IGNsb25lQXJyYXkodHdlZW4uX2Zyb21OdW1iZXJzKTtcbiAgICB0d2Vlbi5fbnVtYmVyID0gMDtcbiAgICBsb29rdXBUd2Vlbi5fZnJvbU51bWJlciA9IHRvTnVtYmVyO1xuXG4gICAgaWYgKHR3ZWVuLl90b051bWJlcnMpIHtcbiAgICAgIGNvbnN0IHRvTnVtYmVycyA9IGNsb25lQXJyYXkodHdlZW4uX3RvTnVtYmVycyk7XG4gICAgICBpZiAodG9OdW1iZXJzKSB7XG4gICAgICAgIHRvTnVtYmVycy5mb3JFYWNoKCh2YWx1ZSwgaSkgPT4ge1xuICAgICAgICAgIHR3ZWVuLl9mcm9tTnVtYmVyc1tpXSA9IGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVyc1tpXSAtIHZhbHVlO1xuICAgICAgICAgIHR3ZWVuLl90b051bWJlcnNbaV0gPSAwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGxvb2t1cFR3ZWVuLl9mcm9tTnVtYmVycyA9IHRvTnVtYmVycztcbiAgICB9XG5cbiAgICBhZGRDaGlsZChhZGRpdGl2ZVR3ZWVuU2libGluZ3MsIHR3ZWVuLCBudWxsLCAnX3ByZXZBZGQnLCAnX25leHRBZGQnKTtcblxuICB9XG5cbiAgcmV0dXJuIHR3ZWVuO1xuXG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1R3ZWVufSB0d2VlblxuICogQHJldHVybiB7VHdlZW59XG4gKi9cbmNvbnN0IHJlbW92ZVR3ZWVuU2xpYmxpbmdzID0gdHdlZW4gPT4ge1xuICBjb25zdCB0d2VlbkNvbXBvc2l0aW9uID0gdHdlZW4uX2NvbXBvc2l0aW9uO1xuICBpZiAodHdlZW5Db21wb3NpdGlvbiAhPT0gY29tcG9zaXRpb25UeXBlcy5ub25lKSB7XG4gICAgY29uc3QgdHdlZW5UYXJnZXQgPSB0d2Vlbi50YXJnZXQ7XG4gICAgY29uc3QgdHdlZW5Qcm9wZXJ0eSA9IHR3ZWVuLnByb3BlcnR5O1xuICAgIGNvbnN0IHJlcGxhY2VUd2VlbnNMb29rdXAgPSBsb29rdXBzLl9yZXA7XG4gICAgY29uc3QgcmVwbGFjZVRhcmdldFByb3BzID0gcmVwbGFjZVR3ZWVuc0xvb2t1cC5nZXQodHdlZW5UYXJnZXQpO1xuICAgIGNvbnN0IHR3ZWVuUmVwbGFjZVNpYmxpbmdzID0gcmVwbGFjZVRhcmdldFByb3BzW3R3ZWVuUHJvcGVydHldO1xuICAgIHJlbW92ZUNoaWxkKHR3ZWVuUmVwbGFjZVNpYmxpbmdzLCB0d2VlbiwgJ19wcmV2UmVwJywgJ19uZXh0UmVwJyk7XG4gICAgaWYgKHR3ZWVuQ29tcG9zaXRpb24gPT09IGNvbXBvc2l0aW9uVHlwZXMuYmxlbmQpIHtcbiAgICAgIGNvbnN0IGFkZFR3ZWVuc0xvb2t1cCA9IGxvb2t1cHMuX2FkZDtcbiAgICAgIGNvbnN0IGFkZFRhcmdldFByb3BzID0gYWRkVHdlZW5zTG9va3VwLmdldCh0d2VlblRhcmdldCk7XG4gICAgICBpZiAoIWFkZFRhcmdldFByb3BzKSByZXR1cm47XG4gICAgICBjb25zdCBhZGRpdGl2ZVR3ZWVuU2libGluZ3MgPSBhZGRUYXJnZXRQcm9wc1t0d2VlblByb3BlcnR5XTtcbiAgICAgIGNvbnN0IGFkZGl0aXZlQW5pbWF0aW9uID0gYWRkaXRpdmUuYW5pbWF0aW9uO1xuICAgICAgcmVtb3ZlQ2hpbGQoYWRkaXRpdmVUd2VlblNpYmxpbmdzLCB0d2VlbiwgJ19wcmV2QWRkJywgJ19uZXh0QWRkJyk7XG4gICAgICAvLyBJZiBvbmx5IG9uZSB0d2VlbiBpcyBsZWZ0IGluIHRoZSBhZGRpdGl2ZSBsb29rdXAsIGl0J3MgdGhlIHR3ZWVuIGxvb2t1cFxuICAgICAgY29uc3QgbG9va3VwVHdlZW4gPSBhZGRpdGl2ZVR3ZWVuU2libGluZ3MuX2hlYWQ7XG4gICAgICBpZiAobG9va3VwVHdlZW4gJiYgbG9va3VwVHdlZW4gPT09IGFkZGl0aXZlVHdlZW5TaWJsaW5ncy5fdGFpbCkge1xuICAgICAgICByZW1vdmVDaGlsZChhZGRpdGl2ZVR3ZWVuU2libGluZ3MsIGxvb2t1cFR3ZWVuLCAnX3ByZXZBZGQnLCAnX25leHRBZGQnKTtcbiAgICAgICAgcmVtb3ZlQ2hpbGQoYWRkaXRpdmVBbmltYXRpb24sIGxvb2t1cFR3ZWVuKTtcbiAgICAgICAgbGV0IHNob3VsZENsZWFuID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBhZGRUYXJnZXRQcm9wcykge1xuICAgICAgICAgIGlmIChhZGRUYXJnZXRQcm9wc1twcm9wXS5faGVhZCkge1xuICAgICAgICAgICAgc2hvdWxkQ2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQ2xlYW4pIHtcbiAgICAgICAgICBhZGRUd2VlbnNMb29rdXAuZGVsZXRlKHR3ZWVuVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHdlZW47XG59O1xuXG5cblxuXG4vKipcbiAqIEBwYXJhbSAge1RpbWVyfSB0aW1lclxuICogQHJldHVybiB7VGltZXJ9XG4gKi9cbmNvbnN0IHJlc2V0VGltZXJQcm9wZXJ0aWVzID0gdGltZXIgPT4ge1xuICB0aW1lci5wYXVzZWQgPSB0cnVlO1xuICB0aW1lci5iZWdhbiA9IGZhbHNlO1xuICB0aW1lci5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHRpbWVyO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtUaW1lcn0gdGltZXJcbiAqIEByZXR1cm4ge1RpbWVyfVxuICovXG5jb25zdCByZXZpdmVUaW1lciA9IHRpbWVyID0+IHtcbiAgaWYgKCF0aW1lci5fY2FuY2VsbGVkKSByZXR1cm4gdGltZXI7XG4gIGlmICh0aW1lci5faGFzQ2hpbGRyZW4pIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGltZXIsIHJldml2ZVRpbWVyKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGltZXIsICgvKiogQHR5cGUge1R3ZWVufSB0d2VlbiovdHdlZW4pID0+IHtcbiAgICAgIGlmICh0d2Vlbi5fY29tcG9zaXRpb24gIT09IGNvbXBvc2l0aW9uVHlwZXMubm9uZSkge1xuICAgICAgICBjb21wb3NlVHdlZW4odHdlZW4sIGdldFR3ZWVuU2libGluZ3ModHdlZW4udGFyZ2V0LCB0d2Vlbi5wcm9wZXJ0eSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHRpbWVyLl9jYW5jZWxsZWQgPSAwO1xuICByZXR1cm4gdGltZXI7XG59O1xuXG5sZXQgdGltZXJJZCA9IDA7XG5cbi8qKlxuICogQmFzZSBjbGFzcyB1c2VkIHRvIGNyZWF0ZSBUaW1lcnMsIEFuaW1hdGlvbnMgYW5kIFRpbWVsaW5lc1xuICovXG5jbGFzcyBUaW1lciBleHRlbmRzIENsb2NrIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VGltZXJQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICAgKiBAcGFyYW0ge1RpbWVsaW5lfSBbcGFyZW50XVxuICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmVudFBvc2l0aW9uXVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHt9LCBwYXJlbnQgPSBudWxsLCBwYXJlbnRQb3NpdGlvbiA9IDApIHtcblxuICAgIHN1cGVyKDApO1xuXG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBkZWxheSxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgcmV2ZXJzZWQsXG4gICAgICBhbHRlcm5hdGUsXG4gICAgICBsb29wLFxuICAgICAgbG9vcERlbGF5LFxuICAgICAgYXV0b3BsYXksXG4gICAgICBmcmFtZVJhdGUsXG4gICAgICBwbGF5YmFja1JhdGUsXG4gICAgICBvbkNvbXBsZXRlLFxuICAgICAgb25Mb29wLFxuICAgICAgb25QYXVzZSxcbiAgICAgIG9uQmVnaW4sXG4gICAgICBvbkJlZm9yZVVwZGF0ZSxcbiAgICAgIG9uVXBkYXRlLFxuICAgIH0gPSBwYXJhbWV0ZXJzO1xuXG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcblxuICAgIGNvbnN0IHRpbWVySW5pdFRpbWUgPSBwYXJlbnQgPyAwIDogZW5naW5lLl9lbGFwc2VkVGltZTtcbiAgICBjb25zdCB0aW1lckRlZmF1bHRzID0gcGFyZW50ID8gcGFyZW50LmRlZmF1bHRzIDogZ2xvYmFscy5kZWZhdWx0cztcbiAgICBjb25zdCB0aW1lckRlbGF5ID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKGlzRm5jKGRlbGF5KSB8fCBpc1VuZChkZWxheSkgPyB0aW1lckRlZmF1bHRzLmRlbGF5IDogK2RlbGF5KTtcbiAgICBjb25zdCB0aW1lckR1cmF0aW9uID0gaXNGbmMoZHVyYXRpb24pIHx8IGlzVW5kKGR1cmF0aW9uKSA/IEluZmluaXR5IDogK2R1cmF0aW9uO1xuICAgIGNvbnN0IHRpbWVyTG9vcCA9IHNldFZhbHVlKGxvb3AsIHRpbWVyRGVmYXVsdHMubG9vcCk7XG4gICAgY29uc3QgdGltZXJMb29wRGVsYXkgPSBzZXRWYWx1ZShsb29wRGVsYXksIHRpbWVyRGVmYXVsdHMubG9vcERlbGF5KTtcbiAgICBjb25zdCB0aW1lckl0ZXJhdGlvbkNvdW50ID0gdGltZXJMb29wID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyTG9vcCA9PT0gSW5maW5pdHkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHRpbWVyTG9vcCkgPCAwID8gSW5maW5pdHkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge051bWJlcn0gKi8odGltZXJMb29wKSArIDE7XG5cbiAgICBsZXQgb2Zmc2V0UG9zaXRpb24gPSAwO1xuXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgb2Zmc2V0UG9zaXRpb24gPSBwYXJlbnRQb3NpdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgLy8gTWFrZSBzdXJlIHRvIHRpY2sgdGhlIGVuZ2luZSBvbmNlIGlmIHN1c3BlbmRlZCB0byBhdm9pZCBiaWcgZ2FwcyB3aXRoIHRoZSBmb2xsb3dpbmcgb2Zmc2V0UG9zaXRpb24gY2FsY3VsYXRpb25cbiAgICAgIGlmIChlbmdpbmUucGF1c2VkKSB7XG4gICAgICAgIGVuZ2luZS5yZXF1ZXN0VGljayhzdGFydFRpbWUpO1xuICAgICAgICBzdGFydFRpbWUgPSBlbmdpbmUuX2VsYXBzZWRUaW1lO1xuICAgICAgfVxuICAgICAgb2Zmc2V0UG9zaXRpb24gPSBzdGFydFRpbWUgLSBlbmdpbmUuX3N0YXJ0VGltZTtcbiAgICB9XG5cbiAgICAvLyBUaW1lcidzIHBhcmFtZXRlcnNcbiAgICB0aGlzLmlkID0gIWlzVW5kKGlkKSA/IGlkIDogKyt0aW1lcklkO1xuICAgIC8qKiBAdHlwZSB7VGltZWxpbmV9ICovXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgLy8gVG90YWwgZHVyYXRpb24gb2YgdGhlIHRpbWVyXG4gICAgdGhpcy5kdXJhdGlvbiA9IGNsYW1wSW5maW5pdHkoKCh0aW1lckR1cmF0aW9uICsgdGltZXJMb29wRGVsYXkpICogdGltZXJJdGVyYXRpb25Db3VudCkgLSB0aW1lckxvb3BEZWxheSkgfHwgbWluVmFsdWU7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuYmFja3dhcmRzID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5iZWdhbiA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkJlZ2luID0gb25CZWdpbiB8fCB0aW1lckRlZmF1bHRzLm9uQmVnaW47XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uQmVmb3JlVXBkYXRlID0gb25CZWZvcmVVcGRhdGUgfHwgdGltZXJEZWZhdWx0cy5vbkJlZm9yZVVwZGF0ZTtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZSB8fCB0aW1lckRlZmF1bHRzLm9uVXBkYXRlO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkxvb3AgPSBvbkxvb3AgfHwgdGltZXJEZWZhdWx0cy5vbkxvb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uUGF1c2UgPSBvblBhdXNlIHx8IHRpbWVyRGVmYXVsdHMub25QYXVzZTtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25Db21wbGV0ZSA9IG9uQ29tcGxldGUgfHwgdGltZXJEZWZhdWx0cy5vbkNvbXBsZXRlO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuaXRlcmF0aW9uRHVyYXRpb24gPSB0aW1lckR1cmF0aW9uOyAvLyBEdXJhdGlvbiBvZiBvbmUgbG9vcFxuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuaXRlcmF0aW9uQ291bnQgPSB0aW1lckl0ZXJhdGlvbkNvdW50OyAvLyBOdW1iZXIgb2YgbG9vcHNcbiAgICAvKiogQHR5cGUge0Jvb2xlYW58U2Nyb2xsT2JzZXJ2ZXJ9ICovXG4gICAgdGhpcy5fYXV0b3BsYXkgPSBwYXJlbnQgPyBmYWxzZSA6IHNldFZhbHVlKGF1dG9wbGF5LCB0aW1lckRlZmF1bHRzLmF1dG9wbGF5KTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXRQb3NpdGlvbjtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9kZWxheSA9IHRpbWVyRGVsYXk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fbG9vcERlbGF5ID0gdGltZXJMb29wRGVsYXk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5faXRlcmF0aW9uVGltZSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fY3VycmVudEl0ZXJhdGlvbiA9IDA7IC8vIEN1cnJlbnQgbG9vcCBpbmRleFxuICAgIC8qKiBAdHlwZSB7RnVuY3Rpb259ICovXG4gICAgdGhpcy5fcmVzb2x2ZSA9IG5vb3A7IC8vIFVzZWQgYnkgLnRoZW4oKVxuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fcmV2ZXJzZWQgPSArc2V0VmFsdWUocmV2ZXJzZWQsIHRpbWVyRGVmYXVsdHMucmV2ZXJzZWQpO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3JldmVyc2UgPSB0aGlzLl9yZXZlcnNlZDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9jYW5jZWxsZWQgPSAwO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLl9hbHRlcm5hdGUgPSBzZXRWYWx1ZShhbHRlcm5hdGUsIHRpbWVyRGVmYXVsdHMuYWx0ZXJuYXRlKTtcbiAgICAvKiogQHR5cGUge1JlbmRlcmFibGV9ICovXG4gICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtSZW5kZXJhYmxlfSAqL1xuICAgIHRoaXMuX25leHQgPSBudWxsO1xuXG4gICAgLy8gQ2xvY2sncyBwYXJhbWV0ZXJzXG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fZWxhcHNlZFRpbWUgPSB0aW1lckluaXRUaW1lO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3N0YXJ0VGltZSA9IHRpbWVySW5pdFRpbWU7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5fbGFzdFRpbWUgPSB0aW1lckluaXRUaW1lO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX2ZwcyA9IHNldFZhbHVlKGZyYW1lUmF0ZSwgdGltZXJEZWZhdWx0cy5mcmFtZVJhdGUpO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuX3NwZWVkID0gc2V0VmFsdWUocGxheWJhY2tSYXRlLCB0aW1lckRlZmF1bHRzLnBsYXliYWNrUmF0ZSk7XG4gIH1cblxuICBnZXQgY2FuY2VsbGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2NhbmNlbGxlZDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge0Jvb2xlYW59IGNhbmNlbGxlZCAgKi9cbiAgc2V0IGNhbmNlbGxlZChjYW5jZWxsZWQpIHtcbiAgICBjYW5jZWxsZWQgPyB0aGlzLmNhbmNlbCgpIDogdGhpcy5yZXNldCgxKS5wbGF5KCk7XG4gIH1cblxuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIGNsYW1wKHJvdW5kKHRoaXMuX2N1cnJlbnRUaW1lLCBnbG9iYWxzLnByZWNpc2lvbiksIC10aGlzLl9kZWxheSwgdGhpcy5kdXJhdGlvbik7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgICovXG4gIHNldCBjdXJyZW50VGltZSh0aW1lKSB7XG4gICAgY29uc3QgcGF1c2VkID0gdGhpcy5wYXVzZWQ7XG4gICAgLy8gUGF1c2luZyB0aGUgdGltZXIgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIHRpbWUganVtcHMgb24gYSBydW5uaW5nIGluc3RhbmNlXG4gICAgdGhpcy5wYXVzZSgpLnNlZWsoK3RpbWUpO1xuICAgIGlmICghcGF1c2VkKSB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgZ2V0IGl0ZXJhdGlvbkN1cnJlbnRUaW1lKCkge1xuICAgIHJldHVybiByb3VuZCh0aGlzLl9pdGVyYXRpb25UaW1lLCBnbG9iYWxzLnByZWNpc2lvbik7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgICovXG4gIHNldCBpdGVyYXRpb25DdXJyZW50VGltZSh0aW1lKSB7XG4gICAgdGhpcy5jdXJyZW50VGltZSA9ICh0aGlzLml0ZXJhdGlvbkR1cmF0aW9uICogdGhpcy5fY3VycmVudEl0ZXJhdGlvbikgKyB0aW1lO1xuICB9XG5cbiAgZ2V0IHByb2dyZXNzKCkge1xuICAgIHJldHVybiBjbGFtcChyb3VuZCh0aGlzLl9jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb24sIDUpLCAwLCAxKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge051bWJlcn0gcHJvZ3Jlc3MgICovXG4gIHNldCBwcm9ncmVzcyhwcm9ncmVzcykge1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLmR1cmF0aW9uICogcHJvZ3Jlc3M7XG4gIH1cblxuICBnZXQgaXRlcmF0aW9uUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIGNsYW1wKHJvdW5kKHRoaXMuX2l0ZXJhdGlvblRpbWUgLyB0aGlzLml0ZXJhdGlvbkR1cmF0aW9uLCA1KSwgMCwgMSk7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHByb2dyZXNzICAqL1xuICBzZXQgaXRlcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3MpIHtcbiAgICBjb25zdCBpdGVyYXRpb25EdXJhdGlvbiA9IHRoaXMuaXRlcmF0aW9uRHVyYXRpb247XG4gICAgdGhpcy5jdXJyZW50VGltZSA9IChpdGVyYXRpb25EdXJhdGlvbiAqIHRoaXMuX2N1cnJlbnRJdGVyYXRpb24pICsgKGl0ZXJhdGlvbkR1cmF0aW9uICogcHJvZ3Jlc3MpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRJdGVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRJdGVyYXRpb247XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IGl0ZXJhdGlvbkNvdW50ICAqL1xuICBzZXQgY3VycmVudEl0ZXJhdGlvbihpdGVyYXRpb25Db3VudCkge1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAodGhpcy5pdGVyYXRpb25EdXJhdGlvbiAqIGNsYW1wKCtpdGVyYXRpb25Db3VudCwgMCwgdGhpcy5pdGVyYXRpb25Db3VudCAtIDEpKTtcbiAgfVxuXG4gIGdldCByZXZlcnNlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9yZXZlcnNlZDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge0Jvb2xlYW59IHJldmVyc2UgICovXG4gIHNldCByZXZlcnNlZChyZXZlcnNlKSB7XG4gICAgcmV2ZXJzZSA/IHRoaXMucmV2ZXJzZSgpIDogdGhpcy5wbGF5KCk7XG4gIH1cblxuICBnZXQgc3BlZWQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLnNwZWVkO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7TnVtYmVyfSBwbGF5YmFja1JhdGUgICovXG4gIHNldCBzcGVlZChwbGF5YmFja1JhdGUpIHtcbiAgICBzdXBlci5zcGVlZCA9IHBsYXliYWNrUmF0ZTtcbiAgICB0aGlzLnJlc2V0VGltZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJuYWxSZW5kZXJcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJlc2V0KGludGVybmFsUmVuZGVyID0gMCkge1xuICAgIC8vIElmIGNhbmNlbGxlZCwgcmV2aXZlIHRoZSB0aW1lciBiZWZvcmUgcmVuZGVyaW5nIGluIG9yZGVyIHRvIGhhdmUgcHJvcGVydGx5IGNvbXBvc2VkIHR3ZWVucyBzaWJsaW5nc1xuICAgIHJldml2ZVRpbWVyKHRoaXMpO1xuICAgIGlmICh0aGlzLl9yZXZlcnNlZCAmJiAhdGhpcy5fcmV2ZXJzZSkgdGhpcy5yZXZlcnNlZCA9IGZhbHNlO1xuICAgIC8vIFJlbmRlcmluZyBiZWZvcmUgdXBkYXRpbmcgdGhlIGNvbXBsZXRlZCBmbGFnIHRvIHByZXZlbnQgc2tpcHMgYW5kIHRvIG1ha2Ugc3VyZSB0aGUgcHJvcGVydGllcyBhcmUgbm90IG92ZXJyaWRkZW5cbiAgICAvLyBTZXR0aW5nIHRoZSBpdGVyYXRpb25UaW1lIGF0IHRoZSBlbmQgdG8gZm9yY2UgdGhlIHJlbmRlcmluZyB0byBoYXBwZW5kIGJhY2t3YXJkcywgb3RoZXJ3aXNlIGNhbGxpbmcgLnJlc2V0KCkgb24gVGltZWxpbmVzIG1pZ2h0IG5vdCByZW5kZXIgY2hpbGRyZW4gaW4gdGhlIHJpZ2h0IG9yZGVyXG4gICAgLy8gTk9URTogVGhpcyBpcyBvbmx5IHJlcXVpcmVkIGZvciBUaW1lbGluZXMgYW5kIG1pZ2h0IGJlIGJldHRlciB0byBtb3ZlIHRvIHRoZSBUaW1lbGluZSBjbGFzcz9cbiAgICB0aGlzLl9pdGVyYXRpb25UaW1lID0gdGhpcy5pdGVyYXRpb25EdXJhdGlvbjtcbiAgICAvLyBTZXQgdGlja01vZGUgdG8gdGlja01vZGVzLkZPUkNFIHRvIGZvcmNlIHJlbmRlcmluZ1xuICAgIHRpY2sodGhpcywgMCwgMSwgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2Rlcy5GT1JDRSk7XG4gICAgLy8gUmVzZXQgdGltZXIgcHJvcGVydGllcyBhZnRlciByZXZpdmUgLyByZW5kZXIgdG8gbWFrZSBzdXJlIHRoZSBwcm9wcyBhcmUgbm90IHVwZGF0ZWQgYWdhaW5cbiAgICByZXNldFRpbWVyUHJvcGVydGllcyh0aGlzKTtcbiAgICAvLyBBbHNvIHJlc2V0IGNoaWxkcmVuIHByb3BlcnRpZXNcbiAgICBpZiAodGhpcy5faGFzQ2hpbGRyZW4pIHtcbiAgICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCByZXNldFRpbWVyUHJvcGVydGllcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJuYWxSZW5kZXJcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIGluaXQoaW50ZXJuYWxSZW5kZXIgPSAwKSB7XG4gICAgdGhpcy5mcHMgPSB0aGlzLl9mcHM7XG4gICAgdGhpcy5zcGVlZCA9IHRoaXMuX3NwZWVkO1xuICAgIC8vIE1hbnVhbGx5IGNhbGxpbmcgLmluaXQoKSBvbiB0aW1lbGluZXMgc2hvdWxkIHJlbmRlciBhbGwgY2hpbGRyZW4gaW50aWFsIHN0YXRlXG4gICAgLy8gRm9yY2VzIGFsbCBjaGlsZHJlbiB0byByZW5kZXIgb25jZSB0aGVuIHJlbmRlciB0byAwIHdoZW4gcmVzZXRlZFxuICAgIGlmICghaW50ZXJuYWxSZW5kZXIgJiYgdGhpcy5faGFzQ2hpbGRyZW4pIHtcbiAgICAgIHRpY2sodGhpcywgdGhpcy5kdXJhdGlvbiwgMSwgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2Rlcy5GT1JDRSk7XG4gICAgfVxuICAgIHRoaXMucmVzZXQoaW50ZXJuYWxSZW5kZXIpO1xuICAgIC8vIE1ha2Ugc3VyZSB0byBzZXQgYXV0b3BsYXkgdG8gZmFsc2UgdG8gY2hpbGQgdGltZXJzIHNvIGl0IGRvZXNuJ3QgYXR0ZW1wdCB0byBhdXRvcGxheSAvIGxpbmtcbiAgICBjb25zdCBhdXRvcGxheSA9IHRoaXMuX2F1dG9wbGF5O1xuICAgIGlmIChhdXRvcGxheSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5yZXN1bWUoKTtcbiAgICB9IGVsc2UgaWYgKGF1dG9wbGF5ICYmICFpc1VuZCgvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqLyhhdXRvcGxheSkubGlua2VkKSkge1xuICAgICAgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi8oYXV0b3BsYXkpLmxpbmsodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIHJlc2V0VGltZSgpIHtcbiAgICBjb25zdCB0aW1lU2NhbGUgPSAxIC8gKHRoaXMuX3NwZWVkICogZW5naW5lLl9zcGVlZCk7XG4gICAgdGhpcy5fc3RhcnRUaW1lID0gbm93KCkgLSAodGhpcy5fY3VycmVudFRpbWUgKyB0aGlzLl9kZWxheSkgKiB0aW1lU2NhbGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMucGF1c2VkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5vblBhdXNlKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIHJlc3VtZSgpIHtcbiAgICBpZiAoIXRoaXMucGF1c2VkKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIC8vIFdlIGNhbiBzYWZlbHkgaW1lZGlhdGx5IHJlbmRlciBhIHRpbWVyIHRoYXQgaGFzIG5vIGR1cmF0aW9uIGFuZCBubyBjaGlsZHJlblxuICAgIGlmICh0aGlzLmR1cmF0aW9uIDw9IG1pblZhbHVlICYmICF0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgdGljayh0aGlzLCBtaW5WYWx1ZSwgMCwgMCwgdGlja01vZGVzLkZPUkNFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XG4gICAgICAgIGFkZENoaWxkKGVuZ2luZSwgdGhpcyk7XG4gICAgICAgIGVuZ2luZS5faGFzQ2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzZXRUaW1lKCk7XG4gICAgICAvLyBGb3JjZXMgdGhlIHRpbWVyIHRvIGFkdmFuY2UgYnkgYXQgbGVhc3Qgb25lIGZyYW1lIHdoZW4gdGhlIG5leHQgdGljayBvY2N1cnNcbiAgICAgIHRoaXMuX3N0YXJ0VGltZSAtPSAxMjtcbiAgICAgIGVuZ2luZS53YWtlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIHJlc3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzZXQoMCkucmVzdW1lKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSB0aW1lXG4gICAqIEBwYXJhbSAge0Jvb2xlYW58TnVtYmVyfSBbbXV0ZUNhbGxiYWNrc11cbiAgICogQHBhcmFtICB7Qm9vbGVhbnxOdW1iZXJ9IFtpbnRlcm5hbFJlbmRlcl1cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHNlZWsodGltZSwgbXV0ZUNhbGxiYWNrcyA9IDAsIGludGVybmFsUmVuZGVyID0gMCkge1xuICAgIC8vIFJlY29tcG9zZSB0aGUgdHdlZW4gc2libGluZ3MgaW4gY2FzZSB0aGUgdGltZXIgaGFzIGJlZW4gY2FuY2VsbGVkXG4gICAgcmV2aXZlVGltZXIodGhpcyk7XG4gICAgLy8gSWYgeW91IHNlZWsgYSBjb21wbGV0ZWQgYW5pbWF0aW9uLCBvdGhlcndpc2UgdGhlIG5leHQgcGxheSB3aWxsIHN0YXJ0cyBhdCAwXG4gICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpc1BhdXNlZCA9IHRoaXMucGF1c2VkO1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvLyB0aW1lciwgdGltZSwgbXV0ZUNhbGxiYWNrcywgaW50ZXJuYWxSZW5kZXIsIHRpY2tNb2RlXG4gICAgdGljayh0aGlzLCB0aW1lICsgdGhpcy5fZGVsYXksIH5+bXV0ZUNhbGxiYWNrcywgfn5pbnRlcm5hbFJlbmRlciwgdGlja01vZGVzLkFVVE8pO1xuICAgIHJldHVybiBpc1BhdXNlZCA/IHRoaXMgOiB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIGFsdGVybmF0ZSgpIHtcbiAgICBjb25zdCByZXZlcnNlZCA9IHRoaXMuX3JldmVyc2VkO1xuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5pdGVyYXRpb25Db3VudDtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuaXRlcmF0aW9uRHVyYXRpb247XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBtYXhpbXVtIGl0ZXJhdGlvbnMgcG9zc2libGUgZ2l2ZW4gdGhlIGl0ZXJhdGlvbiBkdXJhdGlvblxuICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSBjb3VudCA9PT0gSW5maW5pdHkgPyBmbG9vcihtYXhWYWx1ZSAvIGR1cmF0aW9uKSA6IGNvdW50O1xuICAgIHRoaXMuX3JldmVyc2VkID0gKyh0aGlzLl9hbHRlcm5hdGUgJiYgIShpdGVyYXRpb25zICUgMikgPyByZXZlcnNlZCA6ICFyZXZlcnNlZCk7XG4gICAgaWYgKGNvdW50ID09PSBJbmZpbml0eSkge1xuICAgICAgLy8gSGFuZGxlIGluZmluaXRlIGxvb3BzIHRvIGxvb3Agb24gdGhlbXNlbGZcbiAgICAgIHRoaXMuaXRlcmF0aW9uUHJvZ3Jlc3MgPSB0aGlzLl9yZXZlcnNlZCA/IDEgLSB0aGlzLml0ZXJhdGlvblByb2dyZXNzIDogdGhpcy5pdGVyYXRpb25Qcm9ncmVzcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWVrKChkdXJhdGlvbiAqIGl0ZXJhdGlvbnMpIC0gdGhpcy5fY3VycmVudFRpbWUpO1xuICAgIH1cbiAgICB0aGlzLnJlc2V0VGltZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIHBsYXkoKSB7XG4gICAgaWYgKHRoaXMuX3JldmVyc2VkKSB0aGlzLmFsdGVybmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge3RoaXN9ICovXG4gIHJldmVyc2UoKSB7XG4gICAgaWYgKCF0aGlzLl9yZXZlcnNlZCkgdGhpcy5hbHRlcm5hdGUoKTtcbiAgICByZXR1cm4gdGhpcy5yZXN1bWUoKTtcbiAgfVxuXG4gIC8vIFRPRE86IE1vdmUgYWxsIHRoZSBhbmltYXRpb24gLyB0d2VlbnMgLyBjaGlsZHJlbiByZWxhdGVkIGNvZGUgdG8gQW5pbWF0aW9uIC8gVGltZWxpbmVcblxuICAvKiogQHJldHVybiB7dGhpc30gKi9cbiAgY2FuY2VsKCkge1xuICAgIGlmICh0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1JlbmRlcmFibGV9ICovY2hpbGQpID0+IGNoaWxkLmNhbmNlbCgpLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsIHJlbW92ZVR3ZWVuU2xpYmxpbmdzKTtcbiAgICB9XG4gICAgdGhpcy5fY2FuY2VsbGVkID0gMTtcbiAgICAvLyBQYXVzaW5nIHRoZSB0aW1lciByZW1vdmVzIGl0IGZyb20gdGhlIGVuZ2luZVxuICAgIHJldHVybiB0aGlzLnBhdXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7TnVtYmVyfSBuZXdEdXJhdGlvblxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc3RyZXRjaChuZXdEdXJhdGlvbikge1xuICAgIGNvbnN0IGN1cnJlbnREdXJhdGlvbiA9IHRoaXMuZHVyYXRpb247XG4gICAgaWYgKGN1cnJlbnREdXJhdGlvbiA9PT0gY2xhbXBaZXJvKG5ld0R1cmF0aW9uKSkgcmV0dXJuIHRoaXM7XG4gICAgY29uc3QgdGltZVNjYWxlID0gbmV3RHVyYXRpb24gLyBjdXJyZW50RHVyYXRpb247XG4gICAgY29uc3QgaXNTZXR0ZXIgPSBuZXdEdXJhdGlvbiA8PSBtaW5WYWx1ZTtcbiAgICB0aGlzLmR1cmF0aW9uID0gaXNTZXR0ZXIgPyBtaW5WYWx1ZSA6IGNsYW1wWmVybyhjbGFtcEluZmluaXR5KHJvdW5kKGN1cnJlbnREdXJhdGlvbiAqIHRpbWVTY2FsZSwgMTIpKSk7XG4gICAgdGhpcy5pdGVyYXRpb25EdXJhdGlvbiA9IGlzU2V0dGVyID8gbWluVmFsdWUgOiBjbGFtcFplcm8oY2xhbXBJbmZpbml0eShyb3VuZCh0aGlzLml0ZXJhdGlvbkR1cmF0aW9uICogdGltZVNjYWxlLCAxMikpKTtcbiAgICB0aGlzLl9vZmZzZXQgKj0gdGltZVNjYWxlO1xuICAgIHRoaXMuX2RlbGF5ICo9IHRpbWVTY2FsZTtcbiAgICB0aGlzLl9sb29wRGVsYXkgKj0gdGltZVNjYWxlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAvKipcbiAgICogQ2FuY2VscyB0aGUgdGltZXIgYnkgc2Vla2luZyBpdCBiYWNrIHRvIDAgYW5kIHJldmVydGluZyB0aGUgYXR0YWNoZWQgc2Nyb2xsZXIgaWYgbmVjZXNzYXJ5XG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICByZXZlcnQoKSB7XG4gICAgdGljayh0aGlzLCAwLCAxLCAwLCB0aWNrTW9kZXMuQVVUTyk7XG4gICAgY29uc3QgYXAgPSAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqLyh0aGlzLl9hdXRvcGxheSk7XG4gICAgaWYgKGFwICYmIGFwLmxpbmtlZCAmJiBhcC5saW5rZWQgPT09IHRoaXMpIGFwLnJldmVydCgpO1xuICAgIHJldHVybiB0aGlzLmNhbmNlbCgpO1xuICB9XG5cbiAvKipcbiAgICogSW1lZGlhdGx5IGNvbXBsZXRlcyB0aGUgdGltZXIsIGNhbmNlbHMgaXQgYW5kIHRyaWdnZXJzIHRoZSBvbkNvbXBsZXRlIGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWVrKHRoaXMuZHVyYXRpb24pLmNhbmNlbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge0NhbGxiYWNrPHRoaXM+fSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICB0aGVuKGNhbGxiYWNrID0gbm9vcCkge1xuICAgIGNvbnN0IHRoZW4gPSB0aGlzLnRoZW47XG4gICAgY29uc3Qgb25SZXNvbHZlID0gKCkgPT4ge1xuICAgICAgLy8gdGhpcy50aGVuID0gbnVsbCBwcmV2ZW50cyBpbmZpbml0ZSByZWN1cnNpb24gaWYgcmV0dXJuZWQgYnkgYW4gYXN5bmMgZnVuY3Rpb25cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWxpYW5nYXJuaWVyb3JnL2FuaW1lLWJldGEvaXNzdWVzLzI2XG4gICAgICB0aGlzLnRoZW4gPSBudWxsO1xuICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICB0aGlzLnRoZW4gPSB0aGVuO1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9IG5vb3A7XG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlID0gKCkgPT4gcihvblJlc29sdmUoKSk7XG4gICAgICAvLyBNYWtlIHN1cmUgdG8gcmVzb2x2ZSBpbWVkaWF0bHkgaWYgdGhlIHRpbWVyIGhhcyBhbHJlYWR5IGNvbXBsZXRlZFxuICAgICAgaWYgKHRoaXMuY29tcGxldGVkKSB0aGlzLl9yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgfVxuXG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge1RpbWVyUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAqIEByZXR1cm4ge1RpbWVyfVxuICovXG5jb25zdCBjcmVhdGVUaW1lciA9IHBhcmFtZXRlcnMgPT4gbmV3IFRpbWVyKHBhcmFtZXRlcnMsIG51bGwsIDApLmluaXQoKTtcblxuXG5cblxuLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbmNvbnN0IG5vbmUgPSB0ID0+IHQ7XG5cbi8vIEN1YmljIEJlemllciBzb2x2ZXIgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2UgXHUwMEE5IEdhXHUwMEVCdGFuIFJlbmF1ZGVhdVxuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gYVRcbiAqIEBwYXJhbSAge051bWJlcn0gYUExXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFBMlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBjYWxjQmV6aWVyID0gKGFULCBhQTEsIGFBMikgPT4gKCgoMSAtIDMgKiBhQTIgKyAzICogYUExKSAqIGFUICsgKDMgKiBhQTIgLSA2ICogYUExKSkgKiBhVCArICgzICogYUExKSkgKiBhVDtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFYXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1YMVxuICogQHBhcmFtICB7TnVtYmVyfSBtWDJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgYmluYXJ5U3ViZGl2aWRlID0gKGFYLCBtWDEsIG1YMikgPT4ge1xuICBsZXQgYUEgPSAwLCBhQiA9IDEsIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gIGRvIHtcbiAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMjtcbiAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgIGlmIChjdXJyZW50WCA+IDApIHtcbiAgICAgIGFCID0gY3VycmVudFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFBID0gY3VycmVudFQ7XG4gICAgfVxuICB9IHdoaWxlIChhYnMoY3VycmVudFgpID4gLjAwMDAwMDEgJiYgKytpIDwgMTAwKTtcbiAgcmV0dXJuIGN1cnJlbnRUO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFttWDFdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFttWTFdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFttWDJdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFttWTJdXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuXG5jb25zdCBjdWJpY0JlemllciA9IChtWDEgPSAwLjUsIG1ZMSA9IDAuMCwgbVgyID0gMC41LCBtWTIgPSAxLjApID0+IChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgPyBub25lIDpcbiAgdCA9PiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDpcbiAgY2FsY0JlemllcihiaW5hcnlTdWJkaXZpZGUodCwgbVgxLCBtWDIpLCBtWTEsIG1ZMik7XG5cbi8qKlxuICogU3RlcHMgZWFzZSBpbXBsZW1lbnRhdGlvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9DU1MvdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cbiAqIE9ubHkgY292ZXJzICdlbmQnIGFuZCAnc3RhcnQnIGp1bXB0ZXJtc1xuICogQHBhcmFtICB7TnVtYmVyfSBzdGVwc1xuICogQHBhcmFtICB7Qm9vbGVhbn0gW2Zyb21TdGFydF1cbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5jb25zdCBzdGVwcyA9IChzdGVwcyA9IDEwLCBmcm9tU3RhcnQpID0+IHtcbiAgY29uc3Qgcm91bmRNZXRob2QgPSBmcm9tU3RhcnQgPyBjZWlsIDogZmxvb3I7XG4gIHJldHVybiB0ID0+IHJvdW5kTWV0aG9kKGNsYW1wKHQsIDAsIDEpICogc3RlcHMpICogKDEgLyBzdGVwcyk7XG59O1xuXG4vKipcbiAqIFdpdGhvdXQgcGFyYW1ldGVycywgdGhlIGxpbmVhciBmdW5jdGlvbiBjcmVhdGVzIGEgbm9uLWVhc2VkIHRyYW5zaXRpb24uXG4gKiBQYXJhbWV0ZXJzLCBpZiB1c2VkLCBjcmVhdGVzIGEgcGllY2V3aXNlIGxpbmVhciBlYXNpbmcgYnkgaW50ZXJwb2xhdGluZyBsaW5lYXJseSBiZXR3ZWVuIHRoZSBzcGVjaWZpZWQgcG9pbnRzLlxuICogQHBhcmFtICB7Li4uU3RyaW5nfE51bWJlcn0gW2FyZ3NdIC0gUG9pbnRzXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuY29uc3QgbGluZWFyID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICBpZiAoIWFyZ3NMZW5ndGgpIHJldHVybiBub25lO1xuICBjb25zdCB0b3RhbFBvaW50cyA9IGFyZ3NMZW5ndGggLSAxO1xuICBjb25zdCBmaXJzdEFyZyA9IGFyZ3NbMF07XG4gIGNvbnN0IGxhc3RBcmcgPSBhcmdzW3RvdGFsUG9pbnRzXTtcbiAgY29uc3QgeFBvaW50cyA9IFswXTtcbiAgY29uc3QgeVBvaW50cyA9IFtwYXJzZU51bWJlcihmaXJzdEFyZyldO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHRvdGFsUG9pbnRzOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldO1xuICAgIGNvbnN0IHNwbGl0VmFsdWUgPSBpc1N0cihhcmcpID9cbiAgICAvKiogQHR5cGUge1N0cmluZ30gKi8oYXJnKS50cmltKCkuc3BsaXQoJyAnKSA6XG4gICAgW2FyZ107XG4gICAgY29uc3QgdmFsdWUgPSBzcGxpdFZhbHVlWzBdO1xuICAgIGNvbnN0IHBlcmNlbnQgPSBzcGxpdFZhbHVlWzFdO1xuICAgIHhQb2ludHMucHVzaCghaXNVbmQocGVyY2VudCkgPyBwYXJzZU51bWJlcihwZXJjZW50KSAvIDEwMCA6IGkgLyB0b3RhbFBvaW50cyk7XG4gICAgeVBvaW50cy5wdXNoKHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gIH1cbiAgeVBvaW50cy5wdXNoKHBhcnNlTnVtYmVyKGxhc3RBcmcpKTtcbiAgeFBvaW50cy5wdXNoKDEpO1xuICByZXR1cm4gZnVuY3Rpb24gZWFzZUxpbmVhcih0KSB7XG4gICAgZm9yIChsZXQgaSA9IDEsIGwgPSB4UG9pbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgY3VycmVudFggPSB4UG9pbnRzW2ldO1xuICAgICAgaWYgKHQgPD0gY3VycmVudFgpIHtcbiAgICAgICAgY29uc3QgcHJldlggPSB4UG9pbnRzW2kgLSAxXTtcbiAgICAgICAgY29uc3QgcHJldlkgPSB5UG9pbnRzW2kgLSAxXTtcbiAgICAgICAgcmV0dXJuIHByZXZZICsgKHlQb2ludHNbaV0gLSBwcmV2WSkgKiAodCAtIHByZXZYKSAvIChjdXJyZW50WCAtIHByZXZYKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHlQb2ludHNbeVBvaW50cy5sZW5ndGggLSAxXTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSByYW5kb20gc3RlcHNcbiAqIEBwYXJhbSAge051bWJlcn0gW2xlbmd0aF0gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtyYW5kb21uZXNzXSAtIEhvdyBzdHJvbmcgdGhlIHJhbmRvbW5lc3MgaXNcbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5jb25zdCBpcnJlZ3VsYXIgPSAobGVuZ3RoID0gMTAsIHJhbmRvbW5lc3MgPSAxKSA9PiB7XG4gIGNvbnN0IHZhbHVlcyA9IFswXTtcbiAgY29uc3QgdG90YWwgPSBsZW5ndGggLSAxO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gdmFsdWVzW2kgLSAxXTtcbiAgICBjb25zdCBzcGFjaW5nID0gaSAvIHRvdGFsO1xuICAgIGNvbnN0IHNlZ21lbnRFbmQgPSAoaSArIDEpIC8gdG90YWw7XG4gICAgY29uc3QgcmFuZG9tVmFyaWF0aW9uID0gc3BhY2luZyArIChzZWdtZW50RW5kIC0gc3BhY2luZykgKiBNYXRoLnJhbmRvbSgpO1xuICAgIC8vIE1peCB0aGUgZXZlbiBzcGFjaW5nIGFuZCByYW5kb20gdmFyaWF0aW9uIGJhc2VkIG9uIHRoZSByYW5kb21uZXNzIHBhcmFtZXRlclxuICAgIGNvbnN0IHJhbmRvbVZhbHVlID0gc3BhY2luZyAqICgxIC0gcmFuZG9tbmVzcykgKyByYW5kb21WYXJpYXRpb24gKiByYW5kb21uZXNzO1xuICAgIHZhbHVlcy5wdXNoKGNsYW1wKHJhbmRvbVZhbHVlLCBwcmV2aW91c1ZhbHVlLCAxKSk7XG4gIH1cbiAgdmFsdWVzLnB1c2goMSk7XG4gIHJldHVybiBsaW5lYXIoLi4udmFsdWVzKTtcbn07XG5cbi8vIEVhc2luZyBmdW5jdGlvbnMgYWRhcHRlZCBmcm9tIGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNlIFx1MDBBOSBSb2JlcnQgUGVubmVyXG5cbi8qKlxuICogQGNhbGxiYWNrIFBvd2VyRWFzaW5nXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtwb3dlcj0xLjY3NV1cbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEJhY2tFYXNpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW292ZXJzaG9vdD0xLjcwMTU4XVxuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgRWxhc3RpY0Vhc2luZ1xuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbYW1wbGl0dWRlPTFdXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtwZXJpb2Q9LjNdXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBFYXNlRmFjdG9yeVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbcGFyYW1BXVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbcGFyYW1CXVxuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb258TnVtYmVyfVxuICovXG5cbi8qKiBAdHlwZWRlZiB7UG93ZXJFYXNpbmd8QmFja0Vhc2luZ3xFbGFzdGljRWFzaW5nfSBFYXNlc0ZhY3RvcnkgKi9cblxuY29uc3QgaGFsZlBJID0gUEkgLyAyO1xuY29uc3QgZG91YmxlUEkgPSBQSSAqIDI7XG4vKiogQHR5cGUge1Bvd2VyRWFzaW5nfSAqL1xuY29uc3QgZWFzZUluUG93ZXIgPSAocCA9IDEuNjgpID0+IHQgPT4gcG93KHQsICtwKTtcblxuLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBFYXNlc0ZhY3Rvcnl8RWFzaW5nRnVuY3Rpb24+fSAqL1xuY29uc3QgZWFzZUluRnVuY3Rpb25zID0ge1xuICBbZW1wdHlTdHJpbmddOiBlYXNlSW5Qb3dlcixcbiAgUXVhZDogZWFzZUluUG93ZXIoMiksXG4gIEN1YmljOiBlYXNlSW5Qb3dlcigzKSxcbiAgUXVhcnQ6IGVhc2VJblBvd2VyKDQpLFxuICBRdWludDogZWFzZUluUG93ZXIoNSksXG4gIC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovXG4gIFNpbmU6IHQgPT4gMSAtIGNvcyh0ICogaGFsZlBJKSxcbiAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgQ2lyYzogdCA9PiAxIC0gc3FydCgxIC0gdCAqIHQpLFxuICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICBFeHBvOiB0ID0+IHQgPyBwb3coMiwgMTAgKiB0IC0gMTApIDogMCxcbiAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgQm91bmNlOiB0ID0+IHtcbiAgICBsZXQgcG93MiwgYiA9IDQ7XG4gICAgd2hpbGUgKHQgPCAoKHBvdzIgPSBwb3coMiwgLS1iKSkgLSAxKSAvIDExKTtcbiAgICByZXR1cm4gMSAvIHBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBwb3coKHBvdzIgKiAzIC0gMikgLyAyMiAtIHQsIDIpO1xuICB9LFxuICAvKiogQHR5cGUge0JhY2tFYXNpbmd9ICovXG4gIEJhY2s6IChvdmVyc2hvb3QgPSAxLjcwMTU4KSA9PiB0ID0+ICgrb3ZlcnNob290ICsgMSkgKiB0ICogdCAqIHQgLSArb3ZlcnNob290ICogdCAqIHQsXG4gIC8qKiBAdHlwZSB7RWxhc3RpY0Vhc2luZ30gKi9cbiAgRWxhc3RpYzogKGFtcGxpdHVkZSA9IDEsIHBlcmlvZCA9IC4zKSA9PiB7XG4gICAgY29uc3QgYSA9IGNsYW1wKCthbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICBjb25zdCBwID0gY2xhbXAoK3BlcmlvZCwgbWluVmFsdWUsIDIpO1xuICAgIGNvbnN0IHMgPSAocCAvIGRvdWJsZVBJKSAqIGFzaW4oMSAvIGEpO1xuICAgIGNvbnN0IGUgPSBkb3VibGVQSSAvIHA7XG4gICAgcmV0dXJuIHQgPT4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IC1hICogcG93KDIsIC0xMCAqICgxIC0gdCkpICogc2luKCgoMSAtIHQpIC0gcykgKiBlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAY2FsbGJhY2sgRWFzZVR5cGVcbiAqIEBwYXJhbSB7RWFzaW5nRnVuY3Rpb259IEVhc2VcbiAqIEByZXR1cm4ge0Vhc2luZ0Z1bmN0aW9ufVxuICovXG5cbi8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgRWFzZVR5cGU+fSAqL1xuY29uc3QgZWFzZVR5cGVzID0ge1xuICBpbjogZWFzZUluID0+IHQgPT4gZWFzZUluKHQpLFxuICBvdXQ6IGVhc2VJbiA9PiB0ID0+IDEgLSBlYXNlSW4oMSAtIHQpLFxuICBpbk91dDogZWFzZUluID0+IHQgPT4gdCA8IC41ID8gZWFzZUluKHQgKiAyKSAvIDIgOiAxIC0gZWFzZUluKHQgKiAtMiArIDIpIC8gMixcbiAgb3V0SW46IGVhc2VJbiA9PiB0ID0+IHQgPCAuNSA/ICgxIC0gZWFzZUluKDEgLSB0ICogMikpIC8gMiA6IChlYXNlSW4odCAqIDIgLSAxKSArIDEpIC8gMixcbn07XG5cbi8qKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJpbmdcbiAqIEBwYXJhbSAge1JlY29yZDxTdHJpbmcsIEVhc2VzRmFjdG9yeXxFYXNpbmdGdW5jdGlvbj59IGVhc2VzRnVuY3Rpb25zXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVhc2VzTG9va3Vwc1xuICogQHJldHVybiB7RWFzaW5nRnVuY3Rpb259XG4gKi9cbmNvbnN0IHBhcnNlRWFzZVN0cmluZyA9IChzdHJpbmcsIGVhc2VzRnVuY3Rpb25zLCBlYXNlc0xvb2t1cHMpID0+IHtcbiAgaWYgKGVhc2VzTG9va3Vwc1tzdHJpbmddKSByZXR1cm4gZWFzZXNMb29rdXBzW3N0cmluZ107XG4gIGlmIChzdHJpbmcuaW5kZXhPZignKCcpIDw9IC0xKSB7XG4gICAgY29uc3QgaGFzUGFyYW1zID0gZWFzZVR5cGVzW3N0cmluZ10gfHwgc3RyaW5nLmluY2x1ZGVzKCdCYWNrJykgfHwgc3RyaW5nLmluY2x1ZGVzKCdFbGFzdGljJyk7XG4gICAgY29uc3QgcGFyc2VkRm4gPSAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqLyhoYXNQYXJhbXMgPyAvKiogQHR5cGUge0Vhc2VzRmFjdG9yeX0gKi8oZWFzZXNGdW5jdGlvbnNbc3RyaW5nXSkoKSA6IGVhc2VzRnVuY3Rpb25zW3N0cmluZ10pO1xuICAgIHJldHVybiBwYXJzZWRGbiA/IGVhc2VzTG9va3Vwc1tzdHJpbmddID0gcGFyc2VkRm4gOiBub25lO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNwbGl0ID0gc3RyaW5nLnNsaWNlKDAsIC0xKS5zcGxpdCgnKCcpO1xuICAgIGNvbnN0IHBhcnNlZEZuID0gLyoqIEB0eXBlIHtFYXNlc0ZhY3Rvcnl9ICovKGVhc2VzRnVuY3Rpb25zW3NwbGl0WzBdXSk7XG4gICAgcmV0dXJuIHBhcnNlZEZuID8gZWFzZXNMb29rdXBzW3N0cmluZ10gPSBwYXJzZWRGbiguLi5zcGxpdFsxXS5zcGxpdCgnLCcpKSA6IG5vbmU7XG4gIH1cbn07XG5cbi8qKlxuICogQHR5cGVkZWYgIHtPYmplY3R9IEVhc2VzRnVuY3Rpb25zXG4gKiBAcHJvcGVydHkge3R5cGVvZiBsaW5lYXJ9IGxpbmVhclxuICogQHByb3BlcnR5IHt0eXBlb2YgaXJyZWd1bGFyfSBpcnJlZ3VsYXJcbiAqIEBwcm9wZXJ0eSB7dHlwZW9mIHN0ZXBzfSBzdGVwc1xuICogQHByb3BlcnR5IHt0eXBlb2YgY3ViaWNCZXppZXJ9IGN1YmljQmV6aWVyXG4gKiBAcHJvcGVydHkge1Bvd2VyRWFzaW5nfSBpblxuICogQHByb3BlcnR5IHtQb3dlckVhc2luZ30gb3V0XG4gKiBAcHJvcGVydHkge1Bvd2VyRWFzaW5nfSBpbk91dFxuICogQHByb3BlcnR5IHtQb3dlckVhc2luZ30gb3V0SW5cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluUXVhZFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0UXVhZFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRRdWFkXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJblF1YWRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluQ3ViaWNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEN1YmljXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpbk91dEN1YmljXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJbkN1YmljXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBpblF1YXJ0XG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRRdWFydFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRRdWFydFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0SW5RdWFydFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5RdWludFxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0UXVpbnRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluT3V0UXVpbnRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IG91dEluUXVpbnRcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluU2luZVxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0U2luZVxuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRTaW5lXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJblNpbmVcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluQ2lyY1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0Q2lyY1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRDaXJjXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJbkNpcmNcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluRXhwb1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gb3V0RXhwb1xuICogQHByb3BlcnR5IHtFYXNpbmdGdW5jdGlvbn0gaW5PdXRFeHBvXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJbkV4cG9cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluQm91bmNlXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRCb3VuY2VcbiAqIEBwcm9wZXJ0eSB7RWFzaW5nRnVuY3Rpb259IGluT3V0Qm91bmNlXG4gKiBAcHJvcGVydHkge0Vhc2luZ0Z1bmN0aW9ufSBvdXRJbkJvdW5jZVxuICogQHByb3BlcnR5IHtCYWNrRWFzaW5nfSBpbkJhY2tcbiAqIEBwcm9wZXJ0eSB7QmFja0Vhc2luZ30gb3V0QmFja1xuICogQHByb3BlcnR5IHtCYWNrRWFzaW5nfSBpbk91dEJhY2tcbiAqIEBwcm9wZXJ0eSB7QmFja0Vhc2luZ30gb3V0SW5CYWNrXG4gKiBAcHJvcGVydHkge0VsYXN0aWNFYXNpbmd9IGluRWxhc3RpY1xuICogQHByb3BlcnR5IHtFbGFzdGljRWFzaW5nfSBvdXRFbGFzdGljXG4gKiBAcHJvcGVydHkge0VsYXN0aWNFYXNpbmd9IGluT3V0RWxhc3RpY1xuICogQHByb3BlcnR5IHtFbGFzdGljRWFzaW5nfSBvdXRJbkVsYXN0aWNcbiAqL1xuXG5jb25zdCBlYXNlcyA9ICgvKiNfX1BVUkVfXyovICgoKSA9PiB7XG4gIGNvbnN0IGxpc3QgPSB7IGxpbmVhciwgaXJyZWd1bGFyLCBzdGVwcywgY3ViaWNCZXppZXIgfTtcbiAgZm9yIChsZXQgdHlwZSBpbiBlYXNlVHlwZXMpIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGVhc2VJbkZ1bmN0aW9ucykge1xuICAgICAgY29uc3QgZWFzZUluID0gZWFzZUluRnVuY3Rpb25zW25hbWVdO1xuICAgICAgY29uc3QgZWFzZVR5cGUgPSBlYXNlVHlwZXNbdHlwZV07XG4gICAgICBsaXN0W3R5cGUgKyBuYW1lXSA9IC8qKiBAdHlwZSB7RWFzZXNGYWN0b3J5fEVhc2luZ0Z1bmN0aW9ufSAqLyhcbiAgICAgICAgbmFtZSA9PT0gZW1wdHlTdHJpbmcgfHwgbmFtZSA9PT0gJ0JhY2snIHx8IG5hbWUgPT09ICdFbGFzdGljJyA/XG4gICAgICAgIChhLCBiKSA9PiBlYXNlVHlwZSgvKiogQHR5cGUge0Vhc2VzRmFjdG9yeX0gKi8oZWFzZUluKShhLCBiKSkgOlxuICAgICAgICBlYXNlVHlwZSgvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqLyhlYXNlSW4pKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7RWFzZXNGdW5jdGlvbnN9ICovKGxpc3QpO1xufSkoKSk7XG5cbi8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgRWFzaW5nRnVuY3Rpb24+fSAqL1xuY29uc3QgSlNFYXNlc0xvb2t1cHMgPSB7IGxpbmVhcjogbm9uZSB9O1xuXG4vKipcbiAqIEBwYXJhbSAge0Vhc2luZ1BhcmFtfSBlYXNlXG4gKiBAcmV0dXJuIHtFYXNpbmdGdW5jdGlvbn1cbiAqL1xuY29uc3QgcGFyc2VFYXNpbmdzID0gZWFzZSA9PiBpc0ZuYyhlYXNlKSA/IGVhc2UgOlxuICBpc1N0cihlYXNlKSA/IHBhcnNlRWFzZVN0cmluZygvKiogQHR5cGUge1N0cmluZ30gKi8oZWFzZSksIGVhc2VzLCBKU0Vhc2VzTG9va3VwcykgOlxuICBub25lO1xuXG5cblxuXG5jb25zdCBwcm9wZXJ0eU5hbWVzQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BlcnR5TmFtZVxuICogQHBhcmFtICB7VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSAge3R3ZWVuVHlwZXN9IHR3ZWVuVHlwZVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBzYW5pdGl6ZVByb3BlcnR5TmFtZSA9IChwcm9wZXJ0eU5hbWUsIHRhcmdldCwgdHdlZW5UeXBlKSA9PiB7XG4gIGlmICh0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuVFJBTlNGT1JNKSB7XG4gICAgY29uc3QgdCA9IHNob3J0VHJhbnNmb3Jtcy5nZXQocHJvcGVydHlOYW1lKTtcbiAgICByZXR1cm4gdCA/IHQgOiBwcm9wZXJ0eU5hbWU7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHdlZW5UeXBlID09PSB0d2VlblR5cGVzLkNTUyB8fFxuICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2VzIHdoZXJlIHByb3BlcnRpZXMgbGlrZSBcInN0cm9rZURhc2hvZmZzZXRcIiBuZWVkcyB0byBiZSBzZXQgYXMgXCJzdHJva2UtZGFzaG9mZnNldFwiXG4gICAgLy8gYnV0IHByb3BlcnRpZXMgbGlrZSBcImJhc2VGcmVxdWVuY3lcIiBzaG91bGQgc3RheSBpbiBsb3dlckNhbWVsQ2FzZVxuICAgICh0d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuQVRUUklCVVRFICYmIChpc1N2Zyh0YXJnZXQpICYmIHByb3BlcnR5TmFtZSBpbiAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8odGFyZ2V0KS5zdHlsZSkpXG4gICkge1xuICAgIGNvbnN0IGNhY2hlZFByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZXNDYWNoZVtwcm9wZXJ0eU5hbWVdO1xuICAgIGlmIChjYWNoZWRQcm9wZXJ0eU5hbWUpIHtcbiAgICAgIHJldHVybiBjYWNoZWRQcm9wZXJ0eU5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxvd2VyQ2FzZU5hbWUgPSBwcm9wZXJ0eU5hbWUgPyB0b0xvd2VyQ2FzZShwcm9wZXJ0eU5hbWUpIDogcHJvcGVydHlOYW1lO1xuICAgICAgcHJvcGVydHlOYW1lc0NhY2hlW3Byb3BlcnR5TmFtZV0gPSBsb3dlckNhc2VOYW1lO1xuICAgICAgcmV0dXJuIGxvd2VyQ2FzZU5hbWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcm9wZXJ0eU5hbWU7XG4gIH1cbn07XG5cblxuXG5cbmNvbnN0IGFuZ2xlVW5pdHNNYXAgPSB7ICdkZWcnOiAxLCAncmFkJzogMTgwIC8gUEksICd0dXJuJzogMzYwIH07XG5jb25zdCBjb252ZXJ0ZWRWYWx1ZXNDYWNoZSA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSAge0RPTVRhcmdldH0gZWxcbiAqIEBwYXJhbSAge1R3ZWVuRGVjb21wb3NlZFZhbHVlfSBkZWNvbXBvc2VkVmFsdWVcbiAqIEBwYXJhbSAge1N0cmluZ30gdW5pdFxuICogQHBhcmFtICB7Qm9vbGVhbn0gW2ZvcmNlXVxuICogQHJldHVybiB7VHdlZW5EZWNvbXBvc2VkVmFsdWV9XG4gKi9cbmNvbnN0IGNvbnZlcnRWYWx1ZVVuaXQgPSAoZWwsIGRlY29tcG9zZWRWYWx1ZSwgdW5pdCwgZm9yY2UgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBjdXJyZW50VW5pdCA9IGRlY29tcG9zZWRWYWx1ZS51O1xuICBjb25zdCBjdXJyZW50TnVtYmVyID0gZGVjb21wb3NlZFZhbHVlLm47XG4gIGlmIChkZWNvbXBvc2VkVmFsdWUudCA9PT0gdmFsdWVUeXBlcy5VTklUICYmIGN1cnJlbnRVbml0ID09PSB1bml0KSB7IC8vIFRPRE86IENoZWNrIGlmIGNoZWNraW5nIGFnYWluc3QgdGhlIHNhbWUgdW5pdCBzdHJpbmcgaXMgbmVjZXNzYXJ5XG4gICAgcmV0dXJuIGRlY29tcG9zZWRWYWx1ZTtcbiAgfVxuICBjb25zdCBjYWNoZWRLZXkgPSBjdXJyZW50TnVtYmVyICsgY3VycmVudFVuaXQgKyB1bml0O1xuICBjb25zdCBjYWNoZWQgPSBjb252ZXJ0ZWRWYWx1ZXNDYWNoZVtjYWNoZWRLZXldO1xuICBpZiAoIWlzVW5kKGNhY2hlZCkgJiYgIWZvcmNlKSB7XG4gICAgZGVjb21wb3NlZFZhbHVlLm4gPSBjYWNoZWQ7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGNvbnZlcnRlZFZhbHVlO1xuICAgIGlmIChjdXJyZW50VW5pdCBpbiBhbmdsZVVuaXRzTWFwKSB7XG4gICAgICBjb252ZXJ0ZWRWYWx1ZSA9IGN1cnJlbnROdW1iZXIgKiBhbmdsZVVuaXRzTWFwW2N1cnJlbnRVbml0XSAvIGFuZ2xlVW5pdHNNYXBbdW5pdF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJhc2VsaW5lID0gMTAwO1xuICAgICAgY29uc3QgdGVtcEVsID0gLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKGVsLmNsb25lTm9kZSgpKTtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgY29uc3QgcGFyZW50RWwgPSAocGFyZW50Tm9kZSAmJiAocGFyZW50Tm9kZSAhPT0gZG9jKSkgPyBwYXJlbnROb2RlIDogZG9jLmJvZHk7XG4gICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICAgICAgY29uc3QgZWxTdHlsZSA9IHRlbXBFbC5zdHlsZTtcbiAgICAgIGVsU3R5bGUud2lkdGggPSBiYXNlbGluZSArIGN1cnJlbnRVbml0O1xuICAgICAgY29uc3QgY3VycmVudFVuaXRXaWR0aCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHRlbXBFbCkub2Zmc2V0V2lkdGggfHwgYmFzZWxpbmU7XG4gICAgICBlbFN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICAgICAgY29uc3QgbmV3VW5pdFdpZHRoID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGVtcEVsKS5vZmZzZXRXaWR0aCB8fCBiYXNlbGluZTtcbiAgICAgIGNvbnN0IGZhY3RvciA9IGN1cnJlbnRVbml0V2lkdGggLyBuZXdVbml0V2lkdGg7XG4gICAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRWwpO1xuICAgICAgY29udmVydGVkVmFsdWUgPSBmYWN0b3IgKiBjdXJyZW50TnVtYmVyO1xuICAgIH1cbiAgICBkZWNvbXBvc2VkVmFsdWUubiA9IGNvbnZlcnRlZFZhbHVlO1xuICAgIGNvbnZlcnRlZFZhbHVlc0NhY2hlW2NhY2hlZEtleV0gPSBjb252ZXJ0ZWRWYWx1ZTtcbiAgfVxuICBkZWNvbXBvc2VkVmFsdWUudCA9PT0gdmFsdWVUeXBlcy5VTklUO1xuICBkZWNvbXBvc2VkVmFsdWUudSA9IHVuaXQ7XG4gIHJldHVybiBkZWNvbXBvc2VkVmFsdWU7XG59O1xuXG5cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7UmVuZGVyYWJsZX0gVFxuICogQHBhcmFtIHtUfSByZW5kZXJhYmxlXG4gKiBAcmV0dXJuIHtUfVxuICovXG5jb25zdCBjbGVhbklubGluZVN0eWxlcyA9IHJlbmRlcmFibGUgPT4ge1xuICAvLyBBbGxvdyBjbGVhbklubGluZVN0eWxlcygpIHRvIGJlIGNhbGxlZCBvbiB0aW1lbGluZXNcbiAgaWYgKHJlbmRlcmFibGUuX2hhc0NoaWxkcmVuKSB7XG4gICAgZm9yRWFjaENoaWxkcmVuKHJlbmRlcmFibGUsIGNsZWFuSW5saW5lU3R5bGVzLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBhbmltYXRpb24gPSAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqLyhyZW5kZXJhYmxlKTtcbiAgICBhbmltYXRpb24ucGF1c2UoKTtcbiAgICBmb3JFYWNoQ2hpbGRyZW4oYW5pbWF0aW9uLCAoLyoqIEB0eXBlIHtUd2Vlbn0gKi90d2VlbikgPT4ge1xuICAgICAgY29uc3QgdHdlZW5Qcm9wZXJ0eSA9IHR3ZWVuLnByb3BlcnR5O1xuICAgICAgY29uc3QgdHdlZW5UYXJnZXQgPSB0d2Vlbi50YXJnZXQ7XG4gICAgICBpZiAodHdlZW5UYXJnZXRbaXNEb21TeW1ib2xdKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFN0eWxlID0gLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHR3ZWVuVGFyZ2V0KS5zdHlsZTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmxpbmVkVmFsdWUgPSBhbmltYXRpb24uX2lubGluZVN0eWxlc1t0d2VlblByb3BlcnR5XTtcbiAgICAgICAgaWYgKHR3ZWVuLl90d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuVFJBTlNGT1JNKSB7XG4gICAgICAgICAgY29uc3QgY2FjaGVkVHJhbnNmb3JtcyA9IHR3ZWVuVGFyZ2V0W3RyYW5zZm9ybXNTeW1ib2xdO1xuICAgICAgICAgIGlmIChpc1VuZChvcmlnaW5hbElubGluZWRWYWx1ZSkgfHwgb3JpZ2luYWxJbmxpbmVkVmFsdWUgPT09IGVtcHR5U3RyaW5nKSB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVkVHJhbnNmb3Jtc1t0d2VlblByb3BlcnR5XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkVHJhbnNmb3Jtc1t0d2VlblByb3BlcnR5XSA9IG9yaWdpbmFsSW5saW5lZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHdlZW4uX3JlbmRlclRyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LmtleXMoY2FjaGVkVHJhbnNmb3JtcykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRhcmdldFN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2Zvcm0nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBzdHIgPSBlbXB0eVN0cmluZztcbiAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGNhY2hlZFRyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gdHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5nc1trZXldICsgY2FjaGVkVHJhbnNmb3Jtc1trZXldICsgJykgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0YXJnZXRTdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc1VuZChvcmlnaW5hbElubGluZWRWYWx1ZSkgfHwgb3JpZ2luYWxJbmxpbmVkVmFsdWUgPT09IGVtcHR5U3RyaW5nKSB7XG4gICAgICAgICAgICB0YXJnZXRTdHlsZS5yZW1vdmVQcm9wZXJ0eSh0d2VlblByb3BlcnR5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0U3R5bGVbdHdlZW5Qcm9wZXJ0eV0gPSBvcmlnaW5hbElubGluZWRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbi5fdGFpbCA9PT0gdHdlZW4pIHtcbiAgICAgICAgICBhbmltYXRpb24udGFyZ2V0cy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKHQuZ2V0QXR0cmlidXRlICYmIHQuZ2V0QXR0cmlidXRlKCdzdHlsZScpID09PSBlbXB0eVN0cmluZykge1xuICAgICAgICAgICAgICB0LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVuZGVyYWJsZTtcbn07XG5cbi8vIERlZmluZXMgZGVjb21wb3NlZCB2YWx1ZXMgdGFyZ2V0IG9iamVjdHMgb25seSBvbmNlIGFuZCBtdXRhdGUgdGhlaXIgcHJvcGVydGllcyBsYXRlciB0byBhdm9pZCBHQ1xuLy8gVE9ETzogTWF5YmUgbW92ZSB0aGUgb2JqZWN0cyBjcmVhdGlvbiB0byB2YWx1ZXMuanMgYW5kIHVzZSB0aGUgZGVjb21wb3NlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYmFzZSBvYmplY3RcbmNvbnN0IGZyb21UYXJnZXRPYmplY3QgPSBjcmVhdGVEZWNvbXBvc2VkVmFsdWVUYXJnZXRPYmplY3QoKTtcbmNvbnN0IHRvVGFyZ2V0T2JqZWN0ID0gY3JlYXRlRGVjb21wb3NlZFZhbHVlVGFyZ2V0T2JqZWN0KCk7XG5jb25zdCB0b0Z1bmN0aW9uU3RvcmUgPSB7IGZ1bmM6IG51bGwgfTtcbmNvbnN0IGtleWZyYW1lc1RhcmdldEFycmF5ID0gW251bGxdO1xuY29uc3QgZmFzdFNldFZhbHVlc0FycmF5ID0gW251bGwsIG51bGxdO1xuLyoqIEB0eXBlIHtUd2VlbktleVZhbHVlfSAqL1xuY29uc3Qga2V5T2JqZWN0VGFyZ2V0ID0geyB0bzogbnVsbCB9O1xuXG5sZXQgdHdlZW5JZCA9IDA7XG5sZXQga2V5ZnJhbWVzO1xuLyoqIEB0eXBlIHtUd2VlblBhcmFtc09wdGlvbnMgJiBUd2VlblZhbHVlc30gKi9cbmxldCBrZXk7XG5cbi8qKlxuICogQHBhcmFtIHtEdXJhdGlvbktleWZyYW1lcyB8IFBlcmNlbnRhZ2VLZXlmcmFtZXN9IGtleWZyYW1lc1xuICogQHBhcmFtIHtBbmltYXRpb25QYXJhbXN9IHBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge0FuaW1hdGlvblBhcmFtc31cbiAqL1xuY29uc3QgZ2VuZXJhdGVLZXlmcmFtZXMgPSAoa2V5ZnJhbWVzLCBwYXJhbWV0ZXJzKSA9PiB7XG4gIC8qKiBAdHlwZSB7QW5pbWF0aW9uUGFyYW1zfSAqL1xuICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gIGlmIChpc0FycihrZXlmcmFtZXMpKSB7XG4gICAgY29uc3QgcHJvcGVydHlOYW1lcyA9IFtdLmNvbmNhdCguLi4vKiogQHR5cGUge0R1cmF0aW9uS2V5ZnJhbWVzfSAqLyhrZXlmcmFtZXMpLm1hcChrZXkgPT4gT2JqZWN0LmtleXMoa2V5KSkpLmZpbHRlcihpc0tleSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgcHJvcE5hbWUgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgICAgY29uc3QgcHJvcEFycmF5ID0gLyoqIEB0eXBlIHtEdXJhdGlvbktleWZyYW1lc30gKi8oa2V5ZnJhbWVzKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgLyoqIEB0eXBlIHtUd2VlbktleVZhbHVlfSAqL1xuICAgICAgICBjb25zdCBuZXdLZXkgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgcCBpbiBrZXkpIHtcbiAgICAgICAgICBjb25zdCBrZXlWYWx1ZSA9IC8qKiBAdHlwZSB7VHdlZW5Qcm9wVmFsdWV9ICovKGtleVtwXSk7XG4gICAgICAgICAgaWYgKGlzS2V5KHApKSB7XG4gICAgICAgICAgICBpZiAocCA9PT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgbmV3S2V5LnRvID0ga2V5VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0tleVtwXSA9IGtleVZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3S2V5O1xuICAgICAgfSk7XG4gICAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IC8qKiBAdHlwZSB7QXJyYXlTeW50YXhWYWx1ZX0gKi8ocHJvcEFycmF5KTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0b3RhbER1cmF0aW9uID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHNldFZhbHVlKHBhcmFtZXRlcnMuZHVyYXRpb24sIGdsb2JhbHMuZGVmYXVsdHMuZHVyYXRpb24pKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoa2V5ZnJhbWVzKVxuICAgIC5tYXAoa2V5ID0+IHsgcmV0dXJuIHtvOiBwYXJzZUZsb2F0KGtleSkgLyAxMDAsIHA6IGtleWZyYW1lc1trZXldfSB9KVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLm8gLSBiLm8pO1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0ga2V5Lm87XG4gICAgICBjb25zdCBwcm9wID0ga2V5LnA7XG4gICAgICBmb3IgKGxldCBuYW1lIGluIHByb3ApIHtcbiAgICAgICAgaWYgKGlzS2V5KG5hbWUpKSB7XG4gICAgICAgICAgbGV0IHByb3BBcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKHByb3BlcnRpZXNbbmFtZV0pO1xuICAgICAgICAgIGlmICghcHJvcEFycmF5KSBwcm9wQXJyYXkgPSBwcm9wZXJ0aWVzW25hbWVdID0gW107XG4gICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBvZmZzZXQgKiB0b3RhbER1cmF0aW9uO1xuICAgICAgICAgIGxldCBsZW5ndGggPSBwcm9wQXJyYXkubGVuZ3RoO1xuICAgICAgICAgIGxldCBwcmV2S2V5ID0gcHJvcEFycmF5W2xlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IGtleU9iaiA9IHsgdG86IHByb3BbbmFtZV0gfTtcbiAgICAgICAgICBsZXQgZHVyUHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGR1clByb2dyZXNzICs9IHByb3BBcnJheVtpXS5kdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAga2V5T2JqLmZyb20gPSBwcmV2S2V5LnRvO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcC5lYXNlKSB7XG4gICAgICAgICAgICBrZXlPYmouZWFzZSA9IHByb3AuZWFzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5T2JqLmR1cmF0aW9uID0gZHVyYXRpb24gLSAobGVuZ3RoID8gZHVyUHJvZ3Jlc3MgOiAwKTtcbiAgICAgICAgICBwcm9wQXJyYXkucHVzaChrZXlPYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH0pO1xuXG4gICAgZm9yIChsZXQgbmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wQXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhwcm9wZXJ0aWVzW25hbWVdKTtcbiAgICAgIGxldCBwcmV2RWFzZTtcbiAgICAgIC8vIGxldCBkdXJQcm9ncmVzcyA9IDBcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcHJvcEFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBwcm9wID0gcHJvcEFycmF5W2ldO1xuICAgICAgICAvLyBFbXVsYXRlIFdBUFBJIGVhc2luZyBwYXJhbWV0ZXIgcG9zaXRpb25cbiAgICAgICAgY29uc3QgY3VycmVudEVhc2UgPSBwcm9wLmVhc2U7XG4gICAgICAgIHByb3AuZWFzZSA9IHByZXZFYXNlID8gcHJldkVhc2UgOiB1bmRlZmluZWQ7XG4gICAgICAgIHByZXZFYXNlID0gY3VycmVudEVhc2U7XG4gICAgICAgIC8vIGR1clByb2dyZXNzICs9IHByb3AuZHVyYXRpb247XG4gICAgICAgIC8vIGlmIChpID09PSBsIC0gMSAmJiBkdXJQcm9ncmVzcyAhPT0gdG90YWxEdXJhdGlvbikge1xuICAgICAgICAvLyAgIHByb3BBcnJheS5wdXNoKHsgZnJvbTogcHJvcC50bywgZWFzZTogcHJvcC5lYXNlLCBkdXJhdGlvbjogdG90YWxEdXJhdGlvbiAtIGR1clByb2dyZXNzIH0pXG4gICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICAgIGlmICghcHJvcEFycmF5WzBdLmR1cmF0aW9uKSB7XG4gICAgICAgIHByb3BBcnJheS5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59O1xuXG5jbGFzcyBKU0FuaW1hdGlvbiBleHRlbmRzIFRpbWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uUGFyYW1zfSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7VGltZWxpbmV9IFtwYXJlbnRdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyZW50UG9zaXRpb25dXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Zhc3RTZXQ9ZmFsc2VdXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5kZXg9MF1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtsZW5ndGg9MF1cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHRhcmdldHMsXG4gICAgcGFyYW1ldGVycyxcbiAgICBwYXJlbnQsXG4gICAgcGFyZW50UG9zaXRpb24sXG4gICAgZmFzdFNldCA9IGZhbHNlLFxuICAgIGluZGV4ID0gMCxcbiAgICBsZW5ndGggPSAwXG4gICkge1xuXG4gICAgc3VwZXIoLyoqIEB0eXBlIHtUaW1lclBhcmFtcyZBbmltYXRpb25QYXJhbXN9ICovKHBhcmFtZXRlcnMpLCBwYXJlbnQsIHBhcmVudFBvc2l0aW9uKTtcblxuICAgIGNvbnN0IHBhcnNlZFRhcmdldHMgPSByZWdpc3RlclRhcmdldHModGFyZ2V0cyk7XG4gICAgY29uc3QgdGFyZ2V0c0xlbmd0aCA9IHBhcnNlZFRhcmdldHMubGVuZ3RoO1xuXG4gICAgLy8gSWYgdGhlIHBhcmFtZXRlcnMgb2JqZWN0IGNvbnRhaW5zIGEgXCJrZXlmcmFtZXNcIiBwcm9wZXJ0eSwgY29udmVydCBhbGwgdGhlIGtleWZyYW1lcyB2YWx1ZXMgdG8gcmVndWxhciBwcm9wZXJ0aWVzXG5cbiAgICBjb25zdCBrZlBhcmFtcyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uUGFyYW1zfSAqLyhwYXJhbWV0ZXJzKS5rZXlmcmFtZXM7XG4gICAgY29uc3QgcGFyYW1zID0gLyoqIEB0eXBlIHtBbmltYXRpb25QYXJhbXN9ICovKGtmUGFyYW1zID8gbWVyZ2VPYmplY3RzKGdlbmVyYXRlS2V5ZnJhbWVzKC8qKiBAdHlwZSB7RHVyYXRpb25LZXlmcmFtZXN9ICovKGtmUGFyYW1zKSwgcGFyYW1ldGVycyksIHBhcmFtZXRlcnMpIDogcGFyYW1ldGVycyk7XG5cbiAgICBjb25zdCB7XG4gICAgICBkZWxheSxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZWFzZSxcbiAgICAgIHBsYXliYWNrRWFzZSxcbiAgICAgIG1vZGlmaWVyLFxuICAgICAgY29tcG9zaXRpb24sXG4gICAgICBvblJlbmRlcixcbiAgICB9ID0gcGFyYW1zO1xuXG4gICAgY29uc3QgYW5pbURlZmF1bHRzID0gcGFyZW50ID8gcGFyZW50LmRlZmF1bHRzIDogZ2xvYmFscy5kZWZhdWx0cztcbiAgICBjb25zdCBhbmltYVBsYXliYWNrRWFzZSA9IHNldFZhbHVlKHBsYXliYWNrRWFzZSwgYW5pbURlZmF1bHRzLnBsYXliYWNrRWFzZSk7XG4gICAgY29uc3QgYW5pbUVhc2UgPSBhbmltYVBsYXliYWNrRWFzZSA/IHBhcnNlRWFzaW5ncyhhbmltYVBsYXliYWNrRWFzZSkgOiBudWxsO1xuICAgIGNvbnN0IGhhc1NwcmluZyA9ICFpc1VuZChlYXNlKSAmJiAhaXNVbmQoLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UpO1xuICAgIGNvbnN0IHRFYXNpbmcgPSBoYXNTcHJpbmcgPyAvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSA6IHNldFZhbHVlKGVhc2UsIGFuaW1FYXNlID8gJ2xpbmVhcicgOiBhbmltRGVmYXVsdHMuZWFzZSk7XG4gICAgY29uc3QgdER1cmF0aW9uID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmR1cmF0aW9uIDogc2V0VmFsdWUoZHVyYXRpb24sIGFuaW1EZWZhdWx0cy5kdXJhdGlvbik7XG4gICAgY29uc3QgdERlbGF5ID0gc2V0VmFsdWUoZGVsYXksIGFuaW1EZWZhdWx0cy5kZWxheSk7XG4gICAgY29uc3QgdE1vZGlmaWVyID0gbW9kaWZpZXIgfHwgYW5pbURlZmF1bHRzLm1vZGlmaWVyO1xuICAgIC8vIElmIG5vIGNvbXBvc2l0aW9uIGlzIGRlZmluZWQgYW5kIHRoZSB0YXJnZXRzIGxlbmd0aCBpcyBoaWdoICg+PSAxMDAwKSBzZXQgdGhlIGNvbXBvc2l0aW9uIHRvICdub25lJyAoMCkgZm9yIGZhc3RlciB0d2VlbiBjcmVhdGlvblxuICAgIGNvbnN0IHRDb21wb3NpdGlvbiA9IGlzVW5kKGNvbXBvc2l0aW9uKSAmJiB0YXJnZXRzTGVuZ3RoID49IEsgPyBjb21wb3NpdGlvblR5cGVzLm5vbmUgOiAhaXNVbmQoY29tcG9zaXRpb24pID8gY29tcG9zaXRpb24gOiBhbmltRGVmYXVsdHMuY29tcG9zaXRpb247XG4gICAgLy8gVE9ETzogRG8gbm90IGNyZWF0ZSBhbiBlbXB0eSBvYmplY3QgdW50aWwgd2Uga25vdyB0aGUgYW5pbWF0aW9uIHdpbGwgZ2VuZXJhdGUgaW5saW5lIHN0eWxlc1xuICAgIGNvbnN0IGFuaW1JbmxpbmVTdHlsZXMgPSB7fTtcbiAgICAvLyBjb25zdCBhYnNvbHV0ZU9mZnNldFRpbWUgPSB0aGlzLl9vZmZzZXQ7XG4gICAgY29uc3QgYWJzb2x1dGVPZmZzZXRUaW1lID0gdGhpcy5fb2Zmc2V0ICsgKHBhcmVudCA/IHBhcmVudC5fb2Zmc2V0IDogMCk7XG5cbiAgICBsZXQgaXRlcmF0aW9uRHVyYXRpb24gPSBOYU47XG4gICAgbGV0IGl0ZXJhdGlvbkRlbGF5ID0gTmFOO1xuICAgIGxldCBhbmltYXRpb25BbmltYXRpb25MZW5ndGggPSAwO1xuICAgIGxldCBzaG91bGRUcmlnZ2VyUmVuZGVyID0gMDtcblxuICAgIGZvciAobGV0IHRhcmdldEluZGV4ID0gMDsgdGFyZ2V0SW5kZXggPCB0YXJnZXRzTGVuZ3RoOyB0YXJnZXRJbmRleCsrKSB7XG5cbiAgICAgIGNvbnN0IHRhcmdldCA9IHBhcnNlZFRhcmdldHNbdGFyZ2V0SW5kZXhdO1xuICAgICAgY29uc3QgdGkgPSBpbmRleCB8fCB0YXJnZXRJbmRleDtcbiAgICAgIGNvbnN0IHRsID0gbGVuZ3RoIHx8IHRhcmdldHNMZW5ndGg7XG5cbiAgICAgIGxldCBsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCA9IE5hTjtcbiAgICAgIGxldCBsYXN0VHJhbnNmb3JtR3JvdXBMZW5ndGggPSBOYU47XG5cbiAgICAgIGZvciAobGV0IHAgaW4gcGFyYW1zKSB7XG5cbiAgICAgICAgaWYgKGlzS2V5KHApKSB7XG5cbiAgICAgICAgICBjb25zdCB0d2VlblR5cGUgPSBnZXRUd2VlblR5cGUodGFyZ2V0LCBwKTtcblxuICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gc2FuaXRpemVQcm9wZXJ0eU5hbWUocCwgdGFyZ2V0LCB0d2VlblR5cGUpO1xuXG4gICAgICAgICAgbGV0IHByb3BWYWx1ZSA9IHBhcmFtc1twXTtcblxuICAgICAgICAgIGNvbnN0IGlzUHJvcFZhbHVlQXJyYXkgPSBpc0Fycihwcm9wVmFsdWUpO1xuXG4gICAgICAgICAgaWYgKGZhc3RTZXQgJiYgIWlzUHJvcFZhbHVlQXJyYXkpIHtcbiAgICAgICAgICAgIGZhc3RTZXRWYWx1ZXNBcnJheVswXSA9IHByb3BWYWx1ZTtcbiAgICAgICAgICAgIGZhc3RTZXRWYWx1ZXNBcnJheVsxXSA9IHByb3BWYWx1ZTtcbiAgICAgICAgICAgIHByb3BWYWx1ZSA9IGZhc3RTZXRWYWx1ZXNBcnJheTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUT0RPOiBBbGxvdyBuZXN0ZWQga2V5ZnJhbWVzIGluc2lkZSBPYmplY3RWYWx1ZSB2YWx1ZSAocHJvcDogeyB0bzogWy41LCAxLCAuNzUsIDIsIDNdIH0pXG4gICAgICAgICAgLy8gTm9ybWFsaXplIHByb3BlcnR5IHZhbHVlcyB0byB2YWxpZCBrZXlmcmFtZSBzeW50YXg6XG4gICAgICAgICAgLy8gW3gsIHldIHRvIFt7dG86IFt4LCB5XX1dIG9yIHt0bzogeH0gdG8gW3t0bzogeH1dIG9yIGtlZXAga2V5cyBzeW50YXggW3t9LCB7fSwge30uLi5dXG4gICAgICAgICAgLy8gY29uc3Qga2V5ZnJhbWVzID0gaXNBcnIocHJvcFZhbHVlKSA/IHByb3BWYWx1ZS5sZW5ndGggPT09IDIgJiYgIWlzT2JqKHByb3BWYWx1ZVswXSkgPyBbeyB0bzogcHJvcFZhbHVlIH1dIDogcHJvcFZhbHVlIDogW3Byb3BWYWx1ZV07XG4gICAgICAgICAgaWYgKGlzUHJvcFZhbHVlQXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFycmF5TGVuZ3RoID0gLyoqIEB0eXBlIHtBcnJheX0gKi8ocHJvcFZhbHVlKS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBpc05vdE9iamVjdFZhbHVlID0gIWlzT2JqKHByb3BWYWx1ZVswXSk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IFt4LCB5XSB0byBbe3RvOiBbeCwgeV19XVxuICAgICAgICAgICAgaWYgKGFycmF5TGVuZ3RoID09PSAyICYmIGlzTm90T2JqZWN0VmFsdWUpIHtcbiAgICAgICAgICAgICAga2V5T2JqZWN0VGFyZ2V0LnRvID0gLyoqIEB0eXBlIHtUd2VlblBhcmFtVmFsdWV9ICovKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8ocHJvcFZhbHVlKSk7XG4gICAgICAgICAgICAgIGtleWZyYW1lc1RhcmdldEFycmF5WzBdID0ga2V5T2JqZWN0VGFyZ2V0O1xuICAgICAgICAgICAgICBrZXlmcmFtZXMgPSBrZXlmcmFtZXNUYXJnZXRBcnJheTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgW3gsIHksIHpdIHRvIFtbeCwgeV0sIHpdXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFycmF5TGVuZ3RoID4gMiAmJiBpc05vdE9iamVjdFZhbHVlKSB7XG4gICAgICAgICAgICAgIGtleWZyYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5LjxOdW1iZXI+fSAqLyhwcm9wVmFsdWUpLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHtcbiAgICAgICAgICAgICAgICAgIGZhc3RTZXRWYWx1ZXNBcnJheVswXSA9IHY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICBmYXN0U2V0VmFsdWVzQXJyYXlbMV0gPSB2O1xuICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goZmFzdFNldFZhbHVlc0FycmF5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGtleWZyYW1lcyA9IC8qKiBAdHlwZSB7QXJyYXkuPFR3ZWVuS2V5VmFsdWU+fSAqLyhwcm9wVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXlmcmFtZXNUYXJnZXRBcnJheVswXSA9IHByb3BWYWx1ZTtcbiAgICAgICAgICAgIGtleWZyYW1lcyA9IGtleWZyYW1lc1RhcmdldEFycmF5O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBzaWJsaW5ncyA9IG51bGw7XG4gICAgICAgICAgbGV0IHByZXZUd2VlbiA9IG51bGw7XG4gICAgICAgICAgbGV0IGZpcnN0VHdlZW5DaGFuZ2VTdGFydFRpbWUgPSBOYU47XG4gICAgICAgICAgbGV0IGxhc3RUd2VlbkNoYW5nZUVuZFRpbWUgPSAwO1xuICAgICAgICAgIGxldCB0d2VlbkluZGV4ID0gMDtcblxuICAgICAgICAgIGZvciAobGV0IGwgPSBrZXlmcmFtZXMubGVuZ3RoOyB0d2VlbkluZGV4IDwgbDsgdHdlZW5JbmRleCsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGtleWZyYW1lID0ga2V5ZnJhbWVzW3R3ZWVuSW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmooa2V5ZnJhbWUpKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleWZyYW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAga2V5T2JqZWN0VGFyZ2V0LnRvID0gLyoqIEB0eXBlIHtUd2VlblBhcmFtVmFsdWV9ICovKGtleWZyYW1lKTtcbiAgICAgICAgICAgICAga2V5ID0ga2V5T2JqZWN0VGFyZ2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b0Z1bmN0aW9uU3RvcmUuZnVuYyA9IG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkVG9WYWx1ZSA9IGdldEZ1bmN0aW9uVmFsdWUoa2V5LnRvLCB0YXJnZXQsIHRpLCB0bCwgdG9GdW5jdGlvblN0b3JlKTtcblxuICAgICAgICAgICAgbGV0IHR3ZWVuVG9WYWx1ZTtcbiAgICAgICAgICAgIC8vIEFsbG93cyBmdW5jdGlvbiBiYXNlZCB2YWx1ZXMgdG8gcmV0dXJuIGFuIG9iamVjdCBzeW50YXggdmFsdWUgKHt0bzogdn0pXG4gICAgICAgICAgICBpZiAoaXNPYmooY29tcHV0ZWRUb1ZhbHVlKSAmJiAhaXNVbmQoY29tcHV0ZWRUb1ZhbHVlLnRvKSkge1xuICAgICAgICAgICAgICBrZXkgPSBjb21wdXRlZFRvVmFsdWU7XG4gICAgICAgICAgICAgIHR3ZWVuVG9WYWx1ZSA9IGNvbXB1dGVkVG9WYWx1ZS50bztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHR3ZWVuVG9WYWx1ZSA9IGNvbXB1dGVkVG9WYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuRnJvbVZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShrZXkuZnJvbSwgdGFyZ2V0LCB0aSwgdGwpO1xuICAgICAgICAgICAgY29uc3Qga2V5RWFzaW5nID0ga2V5LmVhc2U7XG4gICAgICAgICAgICBjb25zdCBoYXNTcHJpbmcgPSAhaXNVbmQoa2V5RWFzaW5nKSAmJiAhaXNVbmQoLyoqIEB0eXBlIHtTcHJpbmd9ICovKGtleUVhc2luZykuZWFzZSk7XG4gICAgICAgICAgICAvLyBFYXNpbmcgYXJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgYW5kIGRvbid0IGFjY2VwdCBmdW5jdGlvbiBiYXNlZCB2YWx1ZSB0byBwcmV2ZW50IGhhdmluZyB0byBwYXNzIGEgZnVuY3Rpb24gd3JhcHBlciB0aGF0IHJldHVybnMgYW4gb3RoZXIgZnVuY3Rpb24gYWxsIHRoZSB0aW1lXG4gICAgICAgICAgICBjb25zdCB0d2VlbkVhc2luZyA9IGhhc1NwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhrZXlFYXNpbmcpLmVhc2UgOiBrZXlFYXNpbmcgfHwgdEVhc2luZztcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBkZWZhdWx0IGluZGl2aWR1YWwga2V5ZnJhbWUgZHVyYXRpb24gYnkgZGl2aWRpbmcgdGhlIHRsIG9mIGtleWZyYW1lc1xuICAgICAgICAgICAgY29uc3QgdHdlZW5EdXJhdGlvbiA9IGhhc1NwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhrZXlFYXNpbmcpLmR1cmF0aW9uIDogZ2V0RnVuY3Rpb25WYWx1ZShzZXRWYWx1ZShrZXkuZHVyYXRpb24sIChsID4gMSA/IGdldEZ1bmN0aW9uVmFsdWUodER1cmF0aW9uLCB0YXJnZXQsIHRpLCB0bCkgLyBsIDogdER1cmF0aW9uKSksIHRhcmdldCwgdGksIHRsKTtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgZGVsYXkgdmFsdWUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgZmlyc3QgdHdlZW5cbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuRGVsYXkgPSBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKGtleS5kZWxheSwgKCF0d2VlbkluZGV4ID8gdERlbGF5IDogMCkpLCB0YXJnZXQsIHRpLCB0bCk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZENvbXBvc2l0aW9uID0gZ2V0RnVuY3Rpb25WYWx1ZShzZXRWYWx1ZShrZXkuY29tcG9zaXRpb24sIHRDb21wb3NpdGlvbiksIHRhcmdldCwgdGksIHRsKTtcbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuQ29tcG9zaXRpb24gPSBpc051bShjb21wdXRlZENvbXBvc2l0aW9uKSA/IGNvbXB1dGVkQ29tcG9zaXRpb24gOiBjb21wb3NpdGlvblR5cGVzW2NvbXB1dGVkQ29tcG9zaXRpb25dO1xuICAgICAgICAgICAgLy8gTW9kaWZpZXJzIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGFuZCBkb24ndCBhY2NlcHQgZnVuY3Rpb24gYmFzZWQgdmFsdWUgdG8gcHJldmVudCBoYXZpbmcgdG8gcGFzcyBhIGZ1bmN0aW9uIHdyYXBwZXJcbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuTW9kaWZpZXIgPSBrZXkubW9kaWZpZXIgfHwgdE1vZGlmaWVyO1xuICAgICAgICAgICAgY29uc3QgaGFzRnJvbXZhbHVlID0gIWlzVW5kKHR3ZWVuRnJvbVZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1RvVmFsdWUgPSAhaXNVbmQodHdlZW5Ub1ZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRnJvbVRvQXJyYXkgPSBpc0Fycih0d2VlblRvVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgaXNGcm9tVG9WYWx1ZSA9IGlzRnJvbVRvQXJyYXkgfHwgKGhhc0Zyb212YWx1ZSAmJiBoYXNUb1ZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuU3RhcnRUaW1lID0gcHJldlR3ZWVuID8gbGFzdFR3ZWVuQ2hhbmdlRW5kVGltZSArIHR3ZWVuRGVsYXkgOiB0d2VlbkRlbGF5O1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVTdGFydFRpbWUgPSBhYnNvbHV0ZU9mZnNldFRpbWUgKyB0d2VlblN0YXJ0VGltZTtcblxuICAgICAgICAgICAgLy8gRm9yY2UgYSBvblJlbmRlciBjYWxsYmFjayBpZiB0aGUgYW5pbWF0aW9uIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBmcm9tIHZhbHVlIGFuZCBhdXRvcGxheSBpcyBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgIGlmICghc2hvdWxkVHJpZ2dlclJlbmRlciAmJiAoaGFzRnJvbXZhbHVlIHx8IGlzRnJvbVRvQXJyYXkpKSBzaG91bGRUcmlnZ2VyUmVuZGVyID0gMTtcblxuICAgICAgICAgICAgbGV0IHByZXZTaWJsaW5nID0gcHJldlR3ZWVuO1xuXG4gICAgICAgICAgICBpZiAodHdlZW5Db21wb3NpdGlvbiAhPT0gY29tcG9zaXRpb25UeXBlcy5ub25lKSB7XG4gICAgICAgICAgICAgIGlmICghc2libGluZ3MpIHNpYmxpbmdzID0gZ2V0VHdlZW5TaWJsaW5ncyh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgbGV0IG5leHRTaWJsaW5nID0gc2libGluZ3MuX2hlYWQ7XG4gICAgICAgICAgICAgIC8vIEl0ZXJhdGUgdHJvdWdoIGFsbCB0aGUgbmV4dCBzaWJsaW5ncyB1bnRpbCB3ZSBmaW5kIGEgc2libGluZyB3aXRoIGFuIGVxdWFsIG9yIGluZmVyaW9yIHN0YXJ0IHRpbWVcbiAgICAgICAgICAgICAgd2hpbGUgKG5leHRTaWJsaW5nICYmICFuZXh0U2libGluZy5faXNPdmVycmlkZGVuICYmIG5leHRTaWJsaW5nLl9hYnNvbHV0ZVN0YXJ0VGltZSA8PSBhYnNvbHV0ZVN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5fbmV4dFJlcDtcbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZXMgYWxsIHRoZSBuZXh0IHNpYmxpbmdzIGlmIHRoZSBuZXh0IHNpYmxpbmcgc3RhcnRzIGF0IHRoZSBzYW1lIHRpbWUgb2YgYWZ0ZXIgYXMgdGhlIG5ldyB0d2VlbiBzdGFydCB0aW1lXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nLl9hYnNvbHV0ZVN0YXJ0VGltZSA+PSBhYnNvbHV0ZVN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlVHdlZW4obmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgZW5kcyBib3RoIHRoZSBjdXJyZW50IHdoaWxlIGxvb3AgYW5kIHRoZSB1cHBlciBvbmUgb25jZSBhbGwgdGhlIG5leHQgc2libGxpbmdzIGhhdmUgYmVlbiBvdmVycmlkZW5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5fbmV4dFJlcDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVjb21wb3NlIHZhbHVlc1xuICAgICAgICAgICAgaWYgKGlzRnJvbVRvVmFsdWUpIHtcbiAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUoaXNGcm9tVG9BcnJheSA/IGdldEZ1bmN0aW9uVmFsdWUodHdlZW5Ub1ZhbHVlWzBdLCB0YXJnZXQsIHRpLCB0bCkgOiB0d2VlbkZyb21WYWx1ZSwgZnJvbVRhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKGlzRnJvbVRvQXJyYXkgPyBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuVG9WYWx1ZVsxXSwgdGFyZ2V0LCB0aSwgdGwsIHRvRnVuY3Rpb25TdG9yZSkgOiB0d2VlblRvVmFsdWUsIHRvVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgaWYgKGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5OVU1CRVIpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldlNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwcmV2U2libGluZy5fdmFsdWVUeXBlID09PSB2YWx1ZVR5cGVzLlVOSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRhcmdldE9iamVjdC50ID0gdmFsdWVUeXBlcy5VTklUO1xuICAgICAgICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0LnUgPSBwcmV2U2libGluZy5fdW5pdDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGVjb21wb3NlUmF3VmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIGdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHR3ZWVuVHlwZSwgYW5pbUlubGluZVN0eWxlcyksXG4gICAgICAgICAgICAgICAgICAgIGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaWYgKGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLnQgPT09IHZhbHVlVHlwZXMuVU5JVCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0LnQgPSB2YWx1ZVR5cGVzLlVOSVQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21UYXJnZXRPYmplY3QudSA9IGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLnU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoaGFzVG9WYWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKHR3ZWVuVG9WYWx1ZSwgdG9UYXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2VHdlZW4pIHtcbiAgICAgICAgICAgICAgICAgIGRlY29tcG9zZVR3ZWVuVmFsdWUocHJldlR3ZWVuLCB0b1RhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZ2V0IGFuZCBwYXJzZSB0aGUgb3JpZ2luYWwgdmFsdWUgaWYgdGhlIHR3ZWVuIGlzIHBhcnQgb2YgYSB0aW1lbGluZSBhbmQgaGFzIGEgcHJldmlvdXMgc2libGluZyBwYXJ0IG9mIHRoZSBzYW1lIHRpbWVsaW5lXG4gICAgICAgICAgICAgICAgICBkZWNvbXBvc2VSYXdWYWx1ZShwYXJlbnQgJiYgcHJldlNpYmxpbmcgJiYgcHJldlNpYmxpbmcucGFyZW50LnBhcmVudCA9PT0gcGFyZW50ID8gcHJldlNpYmxpbmcuX3ZhbHVlIDpcbiAgICAgICAgICAgICAgICAgIGdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHR3ZWVuVHlwZSwgYW5pbUlubGluZVN0eWxlcyksIHRvVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhhc0Zyb212YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKHR3ZWVuRnJvbVZhbHVlLCBmcm9tVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldlR3ZWVuKSB7XG4gICAgICAgICAgICAgICAgICBkZWNvbXBvc2VUd2VlblZhbHVlKHByZXZUd2VlbiwgZnJvbVRhcmdldE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKHBhcmVudCAmJiBwcmV2U2libGluZyAmJiBwcmV2U2libGluZy5wYXJlbnQucGFyZW50ID09PSBwYXJlbnQgPyBwcmV2U2libGluZy5fdmFsdWUgOlxuICAgICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBnZXQgYW5kIHBhcnNlIHRoZSBvcmlnaW5hbCB2YWx1ZSBpZiB0aGUgdHdlZW4gaXMgcGFydCBvZiBhIHRpbWVsaW5lIGFuZCBoYXMgYSBwcmV2aW91cyBzaWJsaW5nIHBhcnQgb2YgdGhlIHNhbWUgdGltZWxpbmVcbiAgICAgICAgICAgICAgICAgIGdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHR3ZWVuVHlwZSwgYW5pbUlubGluZVN0eWxlcyksIGZyb21UYXJnZXRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBseSBvcGVyYXRvcnNcbiAgICAgICAgICAgIGlmIChmcm9tVGFyZ2V0T2JqZWN0Lm8pIHtcbiAgICAgICAgICAgICAgZnJvbVRhcmdldE9iamVjdC5uID0gZ2V0UmVsYXRpdmVWYWx1ZShcbiAgICAgICAgICAgICAgICAhcHJldlNpYmxpbmcgPyBkZWNvbXBvc2VSYXdWYWx1ZShcbiAgICAgICAgICAgICAgICAgIGdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHR3ZWVuVHlwZSwgYW5pbUlubGluZVN0eWxlcyksXG4gICAgICAgICAgICAgICAgICBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZVxuICAgICAgICAgICAgICAgICkubiA6IHByZXZTaWJsaW5nLl90b051bWJlcixcbiAgICAgICAgICAgICAgICBmcm9tVGFyZ2V0T2JqZWN0Lm4sXG4gICAgICAgICAgICAgICAgZnJvbVRhcmdldE9iamVjdC5vXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b1RhcmdldE9iamVjdC5vKSB7XG4gICAgICAgICAgICAgIHRvVGFyZ2V0T2JqZWN0Lm4gPSBnZXRSZWxhdGl2ZVZhbHVlKGZyb21UYXJnZXRPYmplY3QubiwgdG9UYXJnZXRPYmplY3QubiwgdG9UYXJnZXRPYmplY3Qubyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFZhbHVlcyBvbW9nZW5pc2F0aW9uIGluIGNhc2VzIG9mIHR5cGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFwiZnJvbVwiIGFuZCBcInRvXCJcbiAgICAgICAgICAgIGlmIChmcm9tVGFyZ2V0T2JqZWN0LnQgIT09IHRvVGFyZ2V0T2JqZWN0LnQpIHtcbiAgICAgICAgICAgICAgaWYgKGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT01QTEVYIHx8IHRvVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuQ09NUExFWCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXhWYWx1ZSA9IGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT01QTEVYID8gZnJvbVRhcmdldE9iamVjdCA6IHRvVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdENvbXBsZXhWYWx1ZSA9IGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5DT01QTEVYID8gdG9UYXJnZXRPYmplY3QgOiBmcm9tVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAgIG5vdENvbXBsZXhWYWx1ZS50ID0gdmFsdWVUeXBlcy5DT01QTEVYO1xuICAgICAgICAgICAgICAgIG5vdENvbXBsZXhWYWx1ZS5zID0gY2xvbmVBcnJheShjb21wbGV4VmFsdWUucyk7XG4gICAgICAgICAgICAgICAgbm90Q29tcGxleFZhbHVlLmQgPSBjb21wbGV4VmFsdWUuZC5tYXAoKCkgPT4gbm90Q29tcGxleFZhbHVlLm4pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5VTklUIHx8IHRvVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuVU5JVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRWYWx1ZSA9IGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5VTklUID8gZnJvbVRhcmdldE9iamVjdCA6IHRvVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdFVuaXRWYWx1ZSA9IGZyb21UYXJnZXRPYmplY3QudCA9PT0gdmFsdWVUeXBlcy5VTklUID8gdG9UYXJnZXRPYmplY3QgOiBmcm9tVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAgIG5vdFVuaXRWYWx1ZS50ID0gdmFsdWVUeXBlcy5VTklUO1xuICAgICAgICAgICAgICAgIG5vdFVuaXRWYWx1ZS51ID0gdW5pdFZhbHVlLnU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLkNPTE9SIHx8IHRvVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuQ09MT1IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvclZhbHVlID0gZnJvbVRhcmdldE9iamVjdC50ID09PSB2YWx1ZVR5cGVzLkNPTE9SID8gZnJvbVRhcmdldE9iamVjdCA6IHRvVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdENvbG9yVmFsdWUgPSBmcm9tVGFyZ2V0T2JqZWN0LnQgPT09IHZhbHVlVHlwZXMuQ09MT1IgPyB0b1RhcmdldE9iamVjdCA6IGZyb21UYXJnZXRPYmplY3Q7XG4gICAgICAgICAgICAgICAgbm90Q29sb3JWYWx1ZS50ID0gdmFsdWVUeXBlcy5DT0xPUjtcbiAgICAgICAgICAgICAgICBub3RDb2xvclZhbHVlLnMgPSBjb2xvclZhbHVlLnM7XG4gICAgICAgICAgICAgICAgbm90Q29sb3JWYWx1ZS5kID0gWzAsIDAsIDAsIDFdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuaXQgY29udmVyc2lvblxuICAgICAgICAgICAgaWYgKGZyb21UYXJnZXRPYmplY3QudSAhPT0gdG9UYXJnZXRPYmplY3QudSkge1xuICAgICAgICAgICAgICBsZXQgdmFsdWVUb0NvbnZlcnQgPSB0b1RhcmdldE9iamVjdC51ID8gZnJvbVRhcmdldE9iamVjdCA6IHRvVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICB2YWx1ZVRvQ29udmVydCA9IGNvbnZlcnRWYWx1ZVVuaXQoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKHRhcmdldCksIHZhbHVlVG9Db252ZXJ0LCB0b1RhcmdldE9iamVjdC51ID8gdG9UYXJnZXRPYmplY3QudSA6IGZyb21UYXJnZXRPYmplY3QudSwgZmFsc2UpO1xuICAgICAgICAgICAgICAvLyBUT0RPOlxuICAgICAgICAgICAgICAvLyBjb252ZXJ0VmFsdWVVbml0KHRhcmdldCwgdG8udSA/IGZyb20gOiB0bywgdG8udSA/IHRvLnUgOiBmcm9tLnUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaWxsIGluIG5vbiBleGlzdGluZyBjb21wbGV4IHZhbHVlc1xuICAgICAgICAgICAgaWYgKHRvVGFyZ2V0T2JqZWN0LmQgJiYgZnJvbVRhcmdldE9iamVjdC5kICYmICh0b1RhcmdldE9iamVjdC5kLmxlbmd0aCAhPT0gZnJvbVRhcmdldE9iamVjdC5kLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgbG9uZ2VzdFZhbHVlID0gZnJvbVRhcmdldE9iamVjdC5kLmxlbmd0aCA+IHRvVGFyZ2V0T2JqZWN0LmQubGVuZ3RoID8gZnJvbVRhcmdldE9iamVjdCA6IHRvVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICBjb25zdCBzaG9ydGVzdFZhbHVlID0gbG9uZ2VzdFZhbHVlID09PSBmcm9tVGFyZ2V0T2JqZWN0ID8gdG9UYXJnZXRPYmplY3QgOiBmcm9tVGFyZ2V0T2JqZWN0O1xuICAgICAgICAgICAgICAvLyBUT0RPOiBDaGVjayBpZiBuIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgMCBmb3IgZGVmYXVsdCBjb21wbGV4IHZhbHVlc1xuICAgICAgICAgICAgICBzaG9ydGVzdFZhbHVlLmQgPSBsb25nZXN0VmFsdWUuZC5tYXAoKF8sIGkpID0+IGlzVW5kKHNob3J0ZXN0VmFsdWUuZFtpXSkgPyAwIDogc2hvcnRlc3RWYWx1ZS5kW2ldKTtcbiAgICAgICAgICAgICAgc2hvcnRlc3RWYWx1ZS5zID0gY2xvbmVBcnJheShsb25nZXN0VmFsdWUucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFR3ZWVuIGZhY3RvcnlcblxuICAgICAgICAgICAgLy8gUm91bmRpbmcgaXMgbmVjZXNzYXJ5IGhlcmUgdG8gbWluaW1pemUgZmxvYXRpbmcgcG9pbnQgZXJyb3JzXG4gICAgICAgICAgICBjb25zdCB0d2VlblVwZGF0ZUR1cmF0aW9uID0gcm91bmQoK3R3ZWVuRHVyYXRpb24gfHwgbWluVmFsdWUsIDEyKTtcblxuICAgICAgICAgICAgLyoqIEB0eXBlIHtUd2Vlbn0gKi9cbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuID0ge1xuICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICAgICAgICAgIGlkOiB0d2VlbklkKyssXG4gICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgIF92YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgX2Z1bmM6IHRvRnVuY3Rpb25TdG9yZS5mdW5jLFxuICAgICAgICAgICAgICBfZWFzZTogcGFyc2VFYXNpbmdzKHR3ZWVuRWFzaW5nKSxcbiAgICAgICAgICAgICAgX2Zyb21OdW1iZXJzOiBjbG9uZUFycmF5KGZyb21UYXJnZXRPYmplY3QuZCksXG4gICAgICAgICAgICAgIF90b051bWJlcnM6IGNsb25lQXJyYXkodG9UYXJnZXRPYmplY3QuZCksXG4gICAgICAgICAgICAgIF9zdHJpbmdzOiBjbG9uZUFycmF5KHRvVGFyZ2V0T2JqZWN0LnMpLFxuICAgICAgICAgICAgICBfZnJvbU51bWJlcjogZnJvbVRhcmdldE9iamVjdC5uLFxuICAgICAgICAgICAgICBfdG9OdW1iZXI6IHRvVGFyZ2V0T2JqZWN0Lm4sXG4gICAgICAgICAgICAgIF9udW1iZXJzOiBjbG9uZUFycmF5KGZyb21UYXJnZXRPYmplY3QuZCksIC8vIEZvciBhZGRpdGl2ZSB0d2VlbiBhbmQgYW5pbWF0YWJsZXNcbiAgICAgICAgICAgICAgX251bWJlcjogZnJvbVRhcmdldE9iamVjdC5uLCAvLyBGb3IgYWRkaXRpdmUgdHdlZW4gYW5kIGFuaW1hdGFibGVzXG4gICAgICAgICAgICAgIF91bml0OiB0b1RhcmdldE9iamVjdC51LFxuICAgICAgICAgICAgICBfbW9kaWZpZXI6IHR3ZWVuTW9kaWZpZXIsXG4gICAgICAgICAgICAgIF9jdXJyZW50VGltZTogMCxcbiAgICAgICAgICAgICAgX3N0YXJ0VGltZTogdHdlZW5TdGFydFRpbWUsXG4gICAgICAgICAgICAgIF9kZWxheTogK3R3ZWVuRGVsYXksXG4gICAgICAgICAgICAgIF91cGRhdGVEdXJhdGlvbjogdHdlZW5VcGRhdGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgX2NoYW5nZUR1cmF0aW9uOiB0d2VlblVwZGF0ZUR1cmF0aW9uLFxuICAgICAgICAgICAgICBfYWJzb2x1dGVTdGFydFRpbWU6IGFic29sdXRlU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAvLyBOT1RFOiBJbnZlc3RpZ2F0ZSBiaXQgcGFja2luZyB0byBzdG9yZXMgRU5VTSAvIEJPT0xcbiAgICAgICAgICAgICAgX3R3ZWVuVHlwZTogdHdlZW5UeXBlLFxuICAgICAgICAgICAgICBfdmFsdWVUeXBlOiB0b1RhcmdldE9iamVjdC50LFxuICAgICAgICAgICAgICBfY29tcG9zaXRpb246IHR3ZWVuQ29tcG9zaXRpb24sXG4gICAgICAgICAgICAgIF9pc092ZXJsYXBwZWQ6IDAsXG4gICAgICAgICAgICAgIF9pc092ZXJyaWRkZW46IDAsXG4gICAgICAgICAgICAgIF9yZW5kZXJUcmFuc2Zvcm1zOiAwLFxuICAgICAgICAgICAgICBfcHJldlJlcDogbnVsbCwgLy8gRm9yIHJlcGxhY2VkIHR3ZWVuXG4gICAgICAgICAgICAgIF9uZXh0UmVwOiBudWxsLCAvLyBGb3IgcmVwbGFjZWQgdHdlZW5cbiAgICAgICAgICAgICAgX3ByZXZBZGQ6IG51bGwsIC8vIEZvciBhZGRpdGl2ZSB0d2VlblxuICAgICAgICAgICAgICBfbmV4dEFkZDogbnVsbCwgLy8gRm9yIGFkZGl0aXZlIHR3ZWVuXG4gICAgICAgICAgICAgIF9wcmV2OiBudWxsLFxuICAgICAgICAgICAgICBfbmV4dDogbnVsbCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0d2VlbkNvbXBvc2l0aW9uICE9PSBjb21wb3NpdGlvblR5cGVzLm5vbmUpIHtcbiAgICAgICAgICAgICAgY29tcG9zZVR3ZWVuKHR3ZWVuLCBzaWJsaW5ncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc05hTihmaXJzdFR3ZWVuQ2hhbmdlU3RhcnRUaW1lKSkge1xuICAgICAgICAgICAgICBmaXJzdFR3ZWVuQ2hhbmdlU3RhcnRUaW1lID0gdHdlZW4uX3N0YXJ0VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJvdW5kaW5nIGlzIG5lY2Vzc2FyeSBoZXJlIHRvIG1pbmltaXplIGZsb2F0aW5nIHBvaW50IGVycm9yc1xuICAgICAgICAgICAgbGFzdFR3ZWVuQ2hhbmdlRW5kVGltZSA9IHJvdW5kKHR3ZWVuU3RhcnRUaW1lICsgdHdlZW5VcGRhdGVEdXJhdGlvbiwgMTIpO1xuICAgICAgICAgICAgcHJldlR3ZWVuID0gdHdlZW47XG4gICAgICAgICAgICBhbmltYXRpb25BbmltYXRpb25MZW5ndGgrKztcblxuICAgICAgICAgICAgYWRkQ2hpbGQodGhpcywgdHdlZW4pO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXBkYXRlIGFuaW1hdGlvbiB0aW1pbmdzIHdpdGggdGhlIGFkZGVkIHR3ZWVucyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgICBpZiAoaXNOYU4oaXRlcmF0aW9uRGVsYXkpIHx8IGZpcnN0VHdlZW5DaGFuZ2VTdGFydFRpbWUgPCBpdGVyYXRpb25EZWxheSkge1xuICAgICAgICAgICAgaXRlcmF0aW9uRGVsYXkgPSBmaXJzdFR3ZWVuQ2hhbmdlU3RhcnRUaW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc05hTihpdGVyYXRpb25EdXJhdGlvbikgfHwgbGFzdFR3ZWVuQ2hhbmdlRW5kVGltZSA+IGl0ZXJhdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICBpdGVyYXRpb25EdXJhdGlvbiA9IGxhc3RUd2VlbkNoYW5nZUVuZFRpbWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVE9ETzogRmluZCBhIHdheSB0byBpbmxpbmUgdHdlZW4uX3JlbmRlclRyYW5zZm9ybXMgPSAxIGhlcmVcbiAgICAgICAgICBpZiAodHdlZW5UeXBlID09PSB0d2VlblR5cGVzLlRSQU5TRk9STSkge1xuICAgICAgICAgICAgbGFzdFRyYW5zZm9ybUdyb3VwSW5kZXggPSBhbmltYXRpb25BbmltYXRpb25MZW5ndGggLSB0d2VlbkluZGV4O1xuICAgICAgICAgICAgbGFzdFRyYW5zZm9ybUdyb3VwTGVuZ3RoID0gYW5pbWF0aW9uQW5pbWF0aW9uTGVuZ3RoO1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgLy8gU2V0IF9yZW5kZXJUcmFuc2Zvcm1zIHRvIGxhc3QgdHJhbnNmb3JtIHByb3BlcnR5IHRvIGNvcnJlY3RseSByZW5kZXIgdGhlIHRyYW5zZm9ybXMgbGlzdFxuICAgICAgaWYgKCFpc05hTihsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCkpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7VHdlZW59ICovdHdlZW4pID0+IHtcbiAgICAgICAgICBpZiAoaSA+PSBsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCAmJiBpIDwgbGFzdFRyYW5zZm9ybUdyb3VwTGVuZ3RoKSB7XG4gICAgICAgICAgICB0d2Vlbi5fcmVuZGVyVHJhbnNmb3JtcyA9IDE7XG4gICAgICAgICAgICBpZiAodHdlZW4uX2NvbXBvc2l0aW9uID09PSBjb21wb3NpdGlvblR5cGVzLmJsZW5kKSB7XG4gICAgICAgICAgICAgIGZvckVhY2hDaGlsZHJlbihhZGRpdGl2ZS5hbmltYXRpb24sICgvKiogQHR5cGUge1R3ZWVufSAqL2FkZGl0aXZlVHdlZW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpdmVUd2Vlbi5pZCA9PT0gdHdlZW4uaWQpIHtcbiAgICAgICAgICAgICAgICAgIGFkZGl0aXZlVHdlZW4uX3JlbmRlclRyYW5zZm9ybXMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldHNMZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUud2FybihgTm8gdGFyZ2V0IGZvdW5kLiBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgeW91J3JlIHRyeWluZyB0byBhbmltYXRlIGlzIGFjY2Vzc2libGUgYmVmb3JlIGNyZWF0aW5nIHlvdXIgYW5pbWF0aW9uLmApO1xuICAgIH1cblxuICAgIGlmIChpdGVyYXRpb25EZWxheSkge1xuICAgICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgICAgIC8vIElmIChzdGFydFRpbWUgLSBkZWxheSkgZXF1YWxzIDAsIHRoaXMgbWVhbnMgdGhlIHR3ZWVuIGlzIGF0IHRoZSBiZWdpbmluZyBvZiB0aGUgYW5pbWF0aW9uIHNvIHdlIG5lZWQgdG8gdHJpbSB0aGUgZGVsYXkgdG9vXG4gICAgICAgIGlmICghKHR3ZWVuLl9zdGFydFRpbWUgLSB0d2Vlbi5fZGVsYXkpKSB7XG4gICAgICAgICAgdHdlZW4uX2RlbGF5IC09IGl0ZXJhdGlvbkRlbGF5O1xuICAgICAgICB9XG4gICAgICAgIHR3ZWVuLl9zdGFydFRpbWUgLT0gaXRlcmF0aW9uRGVsYXk7XG4gICAgICB9KTtcbiAgICAgIGl0ZXJhdGlvbkR1cmF0aW9uIC09IGl0ZXJhdGlvbkRlbGF5O1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRpb25EZWxheSA9IDA7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudHMgaXRlcmF0aW9uRHVyYXRpb24gdG8gYmUgTmFOIGlmIG5vIHZhbGlkIGFuaW1hdGFibGUgcHJvcHMgaGF2ZSBiZWVuIHByb3ZpZGVkXG4gICAgLy8gUHJldmVudHMgX2l0ZXJhdGlvbkNvdW50IHRvIGJlIE5hTiBpZiBubyB2YWxpZCBhbmltYXRhYmxlIHByb3BzIGhhdmUgYmVlbiBwcm92aWRlZFxuICAgIGlmICghaXRlcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgIGl0ZXJhdGlvbkR1cmF0aW9uID0gbWluVmFsdWU7XG4gICAgICB0aGlzLml0ZXJhdGlvbkNvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtUYXJnZXRzQXJyYXl9ICovXG4gICAgdGhpcy50YXJnZXRzID0gcGFyc2VkVGFyZ2V0cztcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gaXRlcmF0aW9uRHVyYXRpb24gPT09IG1pblZhbHVlID8gbWluVmFsdWUgOiBjbGFtcEluZmluaXR5KCgoaXRlcmF0aW9uRHVyYXRpb24gKyB0aGlzLl9sb29wRGVsYXkpICogdGhpcy5pdGVyYXRpb25Db3VudCkgLSB0aGlzLl9sb29wRGVsYXkpIHx8IG1pblZhbHVlO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vblJlbmRlciA9IG9uUmVuZGVyIHx8IGFuaW1EZWZhdWx0cy5vblJlbmRlcjtcbiAgICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICAgIHRoaXMuX2Vhc2UgPSBhbmltRWFzZTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9kZWxheSA9IGl0ZXJhdGlvbkRlbGF5O1xuICAgIC8vIE5PVEU6IEknbSBrZWVwaW5nIGRlbGF5IHZhbHVlcyBzZXBhcmF0ZWQgZnJvbSBvZmZzZXRzIGluIHRpbWVsaW5lcyBiZWNhdXNlIGRlbGF5cyBjYW4gb3ZlcnJpZGUgcHJldmlvdXMgdHdlZW5zIGFuZCBpdCBjb3VsZCBiZSBjb25mdXNpbmcgdG8gZGVidWcgYSB0aW1lbGluZSB3aXRoIG92ZXJyaWRkZW4gdHdlZW5zIGFuZCBubyBhc3NvY2lhdGVkIHZpc2libGUgZGVsYXlzLlxuICAgIC8vIHRoaXMuX2RlbGF5ID0gcGFyZW50ID8gMCA6IGl0ZXJhdGlvbkRlbGF5O1xuICAgIC8vIHRoaXMuX29mZnNldCArPSBwYXJlbnQgPyBpdGVyYXRpb25EZWxheSA6IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5pdGVyYXRpb25EdXJhdGlvbiA9IGl0ZXJhdGlvbkR1cmF0aW9uO1xuICAgIC8qKiBAdHlwZSB7e319ICovXG4gICAgdGhpcy5faW5saW5lU3R5bGVzID0gYW5pbUlubGluZVN0eWxlcztcblxuICAgIGlmICghdGhpcy5fYXV0b3BsYXkgJiYgc2hvdWxkVHJpZ2dlclJlbmRlcikgdGhpcy5vblJlbmRlcih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG5ld0R1cmF0aW9uXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBzdHJldGNoKG5ld0R1cmF0aW9uKSB7XG4gICAgY29uc3QgY3VycmVudER1cmF0aW9uID0gdGhpcy5kdXJhdGlvbjtcbiAgICBpZiAoY3VycmVudER1cmF0aW9uID09PSBjbGFtcFplcm8obmV3RHVyYXRpb24pKSByZXR1cm4gdGhpcztcbiAgICBjb25zdCB0aW1lU2NhbGUgPSBuZXdEdXJhdGlvbiAvIGN1cnJlbnREdXJhdGlvbjtcbiAgICAvLyBOT1RFOiBGaW5kIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhlIHN0cmV0Y2ggb2YgYW4gYW5pbWF0aW9uIGFmdGVyIHN0cmV0Y2ggPSAwXG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgICAvLyBSb3VuZGluZyBpcyBuZWNlc3NhcnkgaGVyZSB0byBtaW5pbWl6ZSBmbG9hdGluZyBwb2ludCBlcnJvcnNcbiAgICAgIHR3ZWVuLl91cGRhdGVEdXJhdGlvbiA9IGNsYW1wWmVybyhyb3VuZCh0d2Vlbi5fdXBkYXRlRHVyYXRpb24gKiB0aW1lU2NhbGUsIDEyKSk7XG4gICAgICB0d2Vlbi5fY2hhbmdlRHVyYXRpb24gPSBjbGFtcFplcm8ocm91bmQodHdlZW4uX2NoYW5nZUR1cmF0aW9uICogdGltZVNjYWxlLCAxMikpO1xuICAgICAgdHdlZW4uX2N1cnJlbnRUaW1lICo9IHRpbWVTY2FsZTtcbiAgICAgIHR3ZWVuLl9zdGFydFRpbWUgKj0gdGltZVNjYWxlO1xuICAgICAgdHdlZW4uX2Fic29sdXRlU3RhcnRUaW1lICo9IHRpbWVTY2FsZTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3VwZXIuc3RyZXRjaChuZXdEdXJhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgICBjb25zdCBvZ1ZhbHVlID0gZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUodHdlZW4udGFyZ2V0LCB0d2Vlbi5wcm9wZXJ0eSwgdHdlZW4uX3R3ZWVuVHlwZSk7XG4gICAgICBkZWNvbXBvc2VSYXdWYWx1ZShvZ1ZhbHVlLCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSk7XG4gICAgICB0d2Vlbi5fZnJvbU51bWJlcnMgPSBjbG9uZUFycmF5KGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLmQpO1xuICAgICAgdHdlZW4uX2Zyb21OdW1iZXIgPSBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZS5uO1xuICAgICAgaWYgKHR3ZWVuLl9mdW5jKSB7XG4gICAgICAgIGRlY29tcG9zZVJhd1ZhbHVlKHR3ZWVuLl9mdW5jKCksIHRvVGFyZ2V0T2JqZWN0KTtcbiAgICAgICAgdHdlZW4uX3RvTnVtYmVycyA9IGNsb25lQXJyYXkodG9UYXJnZXRPYmplY3QuZCk7XG4gICAgICAgIHR3ZWVuLl9zdHJpbmdzID0gY2xvbmVBcnJheSh0b1RhcmdldE9iamVjdC5zKTtcbiAgICAgICAgdHdlZW4uX3RvTnVtYmVyID0gdG9UYXJnZXRPYmplY3QubjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWwgdGhlIGFuaW1hdGlvbiBhbmQgcmV2ZXJ0IGFsbCB0aGUgdmFsdWVzIGFmZmVjdGVkIGJ5IHRoaXMgYW5pbWF0aW9uIHRvIHRoZWlyIG9yaWdpbmFsIHN0YXRlXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICByZXZlcnQoKSB7XG4gICAgc3VwZXIucmV2ZXJ0KCk7XG4gICAgcmV0dXJuIGNsZWFuSW5saW5lU3R5bGVzKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge0NhbGxiYWNrPHRoaXM+fSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICB0aGVuKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1cGVyLnRoZW4oY2FsbGJhY2spO1xuICB9XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtIHtBbmltYXRpb25QYXJhbXN9IHBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge0pTQW5pbWF0aW9ufVxuICovXG5jb25zdCBhbmltYXRlID0gKHRhcmdldHMsIHBhcmFtZXRlcnMpID0+IG5ldyBKU0FuaW1hdGlvbih0YXJnZXRzLCBwYXJhbWV0ZXJzLCBudWxsLCAwLCBmYWxzZSkuaW5pdCgpO1xuXG5cblxuXG4vKipcbiAqIENvbnZlcnRzIGFuIGVhc2luZyBmdW5jdGlvbiBpbnRvIGEgdmFsaWQgQ1NTIGxpbmVhcigpIHRpbWluZyBmdW5jdGlvbiBzdHJpbmdcbiAqIEBwYXJhbSB7RWFzaW5nRnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gW3NhbXBsZXM9MTAwXVxuICogQHJldHVybnMge3N0cmluZ30gQ1NTIGxpbmVhcigpIHRpbWluZyBmdW5jdGlvblxuICovXG5jb25zdCBlYXNpbmdUb0xpbmVhciA9IChmbiwgc2FtcGxlcyA9IDEwMCkgPT4ge1xuICBjb25zdCBwb2ludHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2FtcGxlczsgaSsrKSBwb2ludHMucHVzaChmbihpIC8gc2FtcGxlcykpO1xuICByZXR1cm4gYGxpbmVhcigke3BvaW50cy5qb2luKCcsICcpfSlgO1xufTtcblxuY29uc3QgV0FBUElFYXNlc0xvb2t1cHMgPSB7XG4gIGluOiAnZWFzZS1pbicsXG4gIG91dDogJ2Vhc2Utb3V0JyxcbiAgaW5PdXQ6ICdlYXNlLWluLW91dCcsXG59O1xuXG5jb25zdCBXQUFQSWVhc2VzID0gLyojX19QVVJFX18qLygoKSA9PiB7XG4gIGNvbnN0IGxpc3QgPSB7fTtcbiAgZm9yIChsZXQgdHlwZSBpbiBlYXNlVHlwZXMpIGxpc3RbdHlwZV0gPSBhID0+IGVhc2VUeXBlc1t0eXBlXShlYXNlSW5Qb3dlcihhKSk7XG4gIHJldHVybiAvKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIEVhc2luZ0Z1bmN0aW9uPn0gKi8obGlzdCk7XG59KSgpO1xuXG4vKipcbiAqIEBwYXJhbSAge0Vhc2luZ1BhcmFtfSBlYXNlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmNvbnN0IHBhcnNlV0FBUElFYXNpbmcgPSAoZWFzZSkgPT4ge1xuICBsZXQgcGFyc2VkRWFzZSA9IFdBQVBJRWFzZXNMb29rdXBzW2Vhc2VdO1xuICBpZiAocGFyc2VkRWFzZSkgcmV0dXJuIHBhcnNlZEVhc2U7XG4gIHBhcnNlZEVhc2UgPSAnbGluZWFyJztcbiAgaWYgKGlzU3RyKGVhc2UpKSB7XG4gICAgaWYgKFxuICAgICAgc3RyaW5nU3RhcnRzV2l0aChlYXNlLCAnbGluZWFyJykgfHxcbiAgICAgIHN0cmluZ1N0YXJ0c1dpdGgoZWFzZSwgJ2N1YmljLScpIHx8XG4gICAgICBzdHJpbmdTdGFydHNXaXRoKGVhc2UsICdzdGVwcycpIHx8XG4gICAgICBzdHJpbmdTdGFydHNXaXRoKGVhc2UsICdlYXNlJylcbiAgICApIHtcbiAgICAgIHBhcnNlZEVhc2UgPSBlYXNlO1xuICAgIH0gZWxzZSBpZiAoc3RyaW5nU3RhcnRzV2l0aChlYXNlLCAnY3ViaWNCJykpIHtcbiAgICAgIHBhcnNlZEVhc2UgPSB0b0xvd2VyQ2FzZShlYXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VFYXNlU3RyaW5nKGVhc2UsIFdBQVBJZWFzZXMsIFdBQVBJRWFzZXNMb29rdXBzKTtcbiAgICAgIGlmIChpc0ZuYyhwYXJzZWQpKSBwYXJzZWRFYXNlID0gcGFyc2VkID09PSBub25lID8gJ2xpbmVhcicgOiBlYXNpbmdUb0xpbmVhcihwYXJzZWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0ZuYyhlYXNlKSkge1xuICAgIGNvbnN0IGVhc2luZyA9IGVhc2luZ1RvTGluZWFyKGVhc2UpO1xuICAgIGlmIChlYXNpbmcpIHBhcnNlZEVhc2UgPSBlYXNpbmc7XG4gIH0gZWxzZSBpZiAoLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UpIHtcbiAgICBwYXJzZWRFYXNlID0gZWFzaW5nVG9MaW5lYXIoLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UpO1xuICB9XG4gIHJldHVybiBXQUFQSUVhc2VzTG9va3Vwc1tlYXNlXSA9IHBhcnNlZEVhc2U7XG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTdHJpbmd8TnVtYmVyfEFycmF5PFN0cmluZz58QXJyYXk8TnVtYmVyPn0gV0FBUElUd2VlblZhbHVlXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgV0FBUElGdW5jdGlvbnZhbHVlXG4gKiBAcGFyYW0ge0RPTVRhcmdldH0gdGFyZ2V0IC0gVGhlIGFuaW1hdGVkIHRhcmdldFxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gVGhlIHRhcmdldCBpbmRleFxuICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRoZSB0b3RhbCBudW1iZXIgb2YgYW5pbWF0ZWQgdGFyZ2V0c1xuICogQHJldHVybiB7V0FBUElUd2VlblZhbHVlfVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1dBQVBJVHdlZW5WYWx1ZXxXQUFQSUZ1bmN0aW9udmFsdWV8QXJyYXk8U3RyaW5nfE51bWJlcnxXQUFQSUZ1bmN0aW9udmFsdWU+fSBXQUFQSUtleWZyYW1lVmFsdWVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoYW5pbWF0aW9uOiBXQUFQSUFuaW1hdGlvbikgPT4gdm9pZH0gV0FBUElDYWxsYmFja1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gV0FBUElUd2Vlbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7V0FBUElLZXlmcmFtZVZhbHVlfSBbdG9dXG4gKiBAcHJvcGVydHkge1dBQVBJS2V5ZnJhbWVWYWx1ZX0gW2Zyb21dXG4gKiBAcHJvcGVydHkge051bWJlcnxXQUFQSUZ1bmN0aW9udmFsdWV9IFtkdXJhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfFdBQVBJRnVuY3Rpb252YWx1ZX0gW2RlbGF5XVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKiBAcHJvcGVydHkge0NvbXBvc2l0ZU9wZXJhdGlvbn0gW2NvbXBvc2l0aW9uXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gV0FBUElBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge051bWJlcnxCb29sZWFufSBbbG9vcF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW1JldmVyc2VkXVxuICogQHByb3BlcnR5IHtCb29sZWFufSBbQWx0ZXJuYXRlXVxuICogQHByb3BlcnR5IHtCb29sZWFufFNjcm9sbE9ic2VydmVyfSBbYXV0b3BsYXldXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3BsYXliYWNrUmF0ZV1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfFdBQVBJRnVuY3Rpb252YWx1ZX0gW2R1cmF0aW9uXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8V0FBUElGdW5jdGlvbnZhbHVlfSBbZGVsYXldXG4gKiBAcHJvcGVydHkge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAqIEBwcm9wZXJ0eSB7Q29tcG9zaXRlT3BlcmF0aW9ufSBbY29tcG9zaXRpb25dXG4gKiBAcHJvcGVydHkge1dBQVBJQ2FsbGJhY2t9IFtvbkNvbXBsZXRlXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1JlY29yZDxTdHJpbmcsIFdBQVBJS2V5ZnJhbWVWYWx1ZSB8IFdBQVBJQW5pbWF0aW9uT3B0aW9ucyB8IEJvb2xlYW4gfCBTY3JvbGxPYnNlcnZlciB8IFdBQVBJQ2FsbGJhY2sgfCBFYXNpbmdQYXJhbSB8IFdBQVBJVHdlZW5PcHRpb25zPiAmIFdBQVBJQW5pbWF0aW9uT3B0aW9uc30gV0FBUElBbmltYXRpb25QYXJhbXNcbiAqL1xuXG5jb25zdCB0cmFuc2Zvcm1zU2hvcnRoYW5kcyA9IFsneCcsICd5JywgJ3onXTtcbmNvbnN0IGNvbW1vbkRlZmF1bHRQWFByb3BlcnRpZXMgPSBbXG4gICdwZXJzcGVjdGl2ZScsXG4gICd3aWR0aCcsXG4gICdoZWlnaHQnLFxuICAnbWFyZ2luJyxcbiAgJ3BhZGRpbmcnLFxuICAndG9wJyxcbiAgJ3JpZ2h0JyxcbiAgJ2JvdHRvbScsXG4gICdsZWZ0JyxcbiAgJ2JvcmRlcldpZHRoJyxcbiAgJ2ZvbnRTaXplJyxcbiAgJ2JvcmRlclJhZGl1cycsXG4gIC4uLnRyYW5zZm9ybXNTaG9ydGhhbmRzXG5dO1xuXG5jb25zdCB2YWxpZEluZGl2aWR1YWxUcmFuc2Zvcm1zID0gWy4uLnRyYW5zZm9ybXNTaG9ydGhhbmRzLCAuLi52YWxpZFRyYW5zZm9ybXMuZmlsdGVyKHQgPT4gWydYJywgJ1knLCAnWiddLnNvbWUoYXhpcyA9PiB0LmVuZHNXaXRoKGF4aXMpKSldO1xuXG4vLyBTZXR0aW5nIGl0IHRvIHRydWUgaW4gY2FzZSBDU1MucmVnaXN0ZXJQcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIHdpbGwgYXV0b21hdGljYWxseSBza2lwIHRoZSByZWdpc3RyYXRpb24gYW5kIGZhbGxiYWNrIHRvIG5vIGFuaW1hdGlvblxubGV0IHRyYW5zZm9ybXNQcm9wZXJ0aWVzUmVnaXN0ZXJlZCA9IGlzQnJvd3NlciAmJiAoaXNVbmQoQ1NTKSB8fCAhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoQ1NTLCAncmVnaXN0ZXJQcm9wZXJ0eScpKTtcblxuY29uc3QgcmVnaXN0ZXJUcmFuc2Zvcm1zUHJvcGVydGllcyA9ICgpID0+IHtcbiAgdmFsaWRUcmFuc2Zvcm1zLmZvckVhY2godCA9PiB7XG4gICAgY29uc3QgaXNTa2V3ID0gc3RyaW5nU3RhcnRzV2l0aCh0LCAnc2tldycpO1xuICAgIGNvbnN0IGlzU2NhbGUgPSBzdHJpbmdTdGFydHNXaXRoKHQsICdzY2FsZScpO1xuICAgIGNvbnN0IGlzUm90YXRlID0gc3RyaW5nU3RhcnRzV2l0aCh0LCAncm90YXRlJyk7XG4gICAgY29uc3QgaXNUcmFuc2xhdGUgPSBzdHJpbmdTdGFydHNXaXRoKHQsICd0cmFuc2xhdGUnKTtcbiAgICBjb25zdCBpc0FuZ2xlID0gaXNSb3RhdGUgfHwgaXNTa2V3O1xuICAgIGNvbnN0IHN5bnRheCA9IGlzQW5nbGUgPyAnPGFuZ2xlPicgOiBpc1NjYWxlID8gXCI8bnVtYmVyPlwiIDogaXNUcmFuc2xhdGUgPyBcIjxsZW5ndGgtcGVyY2VudGFnZT5cIiA6IFwiKlwiO1xuICAgIENTUy5yZWdpc3RlclByb3BlcnR5KHtcbiAgICAgIG5hbWU6ICctLScgKyB0LFxuICAgICAgc3ludGF4LFxuICAgICAgaW5oZXJpdHM6IGZhbHNlLFxuICAgICAgaW5pdGlhbFZhbHVlOiBpc1RyYW5zbGF0ZSA/ICcwcHgnIDogaXNBbmdsZSA/ICcwZGVnJyA6IGlzU2NhbGUgPyAnMScgOiAnMCcsXG4gICAgfSk7XG4gIH0pO1xuICB0cmFuc2Zvcm1zUHJvcGVydGllc1JlZ2lzdGVyZWQgPSB0cnVlO1xufTtcblxuY29uc3QgV0FBUElBbmltYXRpb25zTG9va3VwcyA9IHtcbiAgX2hlYWQ6IG51bGwsXG4gIF90YWlsOiBudWxsLFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0RPTVRhcmdldH0gJGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5XVxuICogQHBhcmFtIHtXQUFQSUFuaW1hdGlvbn0gW3BhcmVudF1cbiAqL1xuY29uc3QgcmVtb3ZlV0FBUElBbmltYXRpb24gPSAoJGVsLCBwcm9wZXJ0eSwgcGFyZW50KSA9PiB7XG4gIGxldCBuZXh0TG9va3VwID0gV0FBUElBbmltYXRpb25zTG9va3Vwcy5faGVhZDtcbiAgd2hpbGUgKG5leHRMb29rdXApIHtcbiAgICBjb25zdCBuZXh0ID0gbmV4dExvb2t1cC5fbmV4dDtcbiAgICBjb25zdCBtYXRjaFRhcmdldCA9IG5leHRMb29rdXAuJGVsID09PSAkZWw7XG4gICAgY29uc3QgbWF0Y2hQcm9wZXJ0eSA9ICFwcm9wZXJ0eSB8fCBuZXh0TG9va3VwLnByb3BlcnR5ID09PSBwcm9wZXJ0eTtcbiAgICBjb25zdCBtYXRjaFBhcmVudCA9ICFwYXJlbnQgfHwgbmV4dExvb2t1cC5wYXJlbnQgPT09IHBhcmVudDtcbiAgICBpZiAobWF0Y2hUYXJnZXQgJiYgbWF0Y2hQcm9wZXJ0eSAmJiBtYXRjaFBhcmVudCkge1xuICAgICAgY29uc3QgYW5pbSA9IG5leHRMb29rdXAuYW5pbWF0aW9uO1xuICAgICAgdHJ5IHsgYW5pbS5jb21taXRTdHlsZXMoKTsgfSBjYXRjaCB7fSAgICAgIGFuaW0uY2FuY2VsKCk7XG4gICAgICByZW1vdmVDaGlsZChXQUFQSUFuaW1hdGlvbnNMb29rdXBzLCBuZXh0TG9va3VwKTtcbiAgICAgIGNvbnN0IGxvb2t1cFBhcmVudCA9IG5leHRMb29rdXAucGFyZW50O1xuICAgICAgaWYgKGxvb2t1cFBhcmVudCkge1xuICAgICAgICBsb29rdXBQYXJlbnQuX2NvbXBsZXRlZCsrO1xuICAgICAgICBpZiAobG9va3VwUGFyZW50LmFuaW1hdGlvbnMubGVuZ3RoID09PSBsb29rdXBQYXJlbnQuX2NvbXBsZXRlZCkge1xuICAgICAgICAgIGxvb2t1cFBhcmVudC5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICghbG9va3VwUGFyZW50Lm11dGVDYWxsYmFja3MpIHtcbiAgICAgICAgICAgIGxvb2t1cFBhcmVudC5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgbG9va3VwUGFyZW50Lm9uQ29tcGxldGUobG9va3VwUGFyZW50KTtcbiAgICAgICAgICAgIGxvb2t1cFBhcmVudC5fcmVzb2x2ZShsb29rdXBQYXJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBuZXh0TG9va3VwID0gbmV4dDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1dBQVBJQW5pbWF0aW9ufSBwYXJlbnRcbiAqIEBwYXJhbSB7RE9NVGFyZ2V0fSAkZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHBhcmFtIHtQcm9wZXJ0eUluZGV4ZWRLZXlmcmFtZXN9IGtleWZyYW1lc1xuICogQHBhcmFtIHtLZXlmcmFtZUFuaW1hdGlvbk9wdGlvbnN9IHBhcmFtc1xuICogQHJldHVuIHtBbmltYXRpb259XG4gKi9cbmNvbnN0IGFkZFdBQVBJQW5pbWF0aW9uID0gKHBhcmVudCwgJGVsLCBwcm9wZXJ0eSwga2V5ZnJhbWVzLCBwYXJhbXMpID0+IHtcbiAgY29uc3QgYW5pbWF0aW9uID0gJGVsLmFuaW1hdGUoa2V5ZnJhbWVzLCBwYXJhbXMpO1xuICBjb25zdCBhbmltVG90YWxEdXJhdGlvbiA9IHBhcmFtcy5kZWxheSArICgrcGFyYW1zLmR1cmF0aW9uICogcGFyYW1zLml0ZXJhdGlvbnMpO1xuICBhbmltYXRpb24ucGxheWJhY2tSYXRlID0gcGFyZW50Ll9zcGVlZDtcbiAgaWYgKHBhcmVudC5wYXVzZWQpIGFuaW1hdGlvbi5wYXVzZSgpO1xuICBpZiAocGFyZW50LmR1cmF0aW9uIDwgYW5pbVRvdGFsRHVyYXRpb24pIHtcbiAgICBwYXJlbnQuZHVyYXRpb24gPSBhbmltVG90YWxEdXJhdGlvbjtcbiAgICBwYXJlbnQuY29udHJvbEFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgfVxuICBwYXJlbnQuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XG4gIHJlbW92ZVdBQVBJQW5pbWF0aW9uKCRlbCwgcHJvcGVydHkpO1xuICBhZGRDaGlsZChXQUFQSUFuaW1hdGlvbnNMb29rdXBzLCB7IHBhcmVudCwgYW5pbWF0aW9uLCAkZWwsIHByb3BlcnR5LCBfbmV4dDogbnVsbCwgX3ByZXY6IG51bGwgfSk7XG4gIGNvbnN0IGhhbmRsZVJlbW92ZSA9ICgpID0+IHsgcmVtb3ZlV0FBUElBbmltYXRpb24oJGVsLCBwcm9wZXJ0eSwgcGFyZW50KTsgfTtcbiAgYW5pbWF0aW9uLm9ucmVtb3ZlID0gaGFuZGxlUmVtb3ZlO1xuICBhbmltYXRpb24ub25maW5pc2ggPSBoYW5kbGVSZW1vdmU7XG4gIHJldHVybiBhbmltYXRpb247XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1N0cmluZ30gcHJvcE5hbWVcbiAqIEBwYXJhbSAge1dBQVBJS2V5ZnJhbWVWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSAge0RPTVRhcmdldH0gJGVsXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGlcbiAqIEBwYXJhbSAge051bWJlcn0gdGFyZ2V0c0xlbmd0aFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBub3JtYWxpemVUd2VlblZhbHVlID0gKHByb3BOYW1lLCB2YWx1ZSwgJGVsLCBpLCB0YXJnZXRzTGVuZ3RoKSA9PiB7XG4gIGxldCB2ID0gZ2V0RnVuY3Rpb25WYWx1ZSgvKiogQHR5cGUge2FueX0gKi8odmFsdWUpLCAkZWwsIGksIHRhcmdldHNMZW5ndGgpO1xuICBpZiAoIWlzTnVtKHYpKSByZXR1cm4gdjtcbiAgaWYgKGNvbW1vbkRlZmF1bHRQWFByb3BlcnRpZXMuaW5jbHVkZXMocHJvcE5hbWUpIHx8IHN0cmluZ1N0YXJ0c1dpdGgocHJvcE5hbWUsICd0cmFuc2xhdGUnKSkgcmV0dXJuIGAke3Z9cHhgO1xuICBpZiAoc3RyaW5nU3RhcnRzV2l0aChwcm9wTmFtZSwgJ3JvdGF0ZScpIHx8IHN0cmluZ1N0YXJ0c1dpdGgocHJvcE5hbWUsICdza2V3JykpIHJldHVybiBgJHt2fWRlZ2A7XG4gIHJldHVybiBgJHt2fWA7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge0RPTVRhcmdldH0gJGVsXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gIHtXQUFQSUtleWZyYW1lVmFsdWV9IGZyb21cbiAqIEBwYXJhbSAge1dBQVBJS2V5ZnJhbWVWYWx1ZX0gdG9cbiAqIEBwYXJhbSAge051bWJlcn0gaVxuICogQHBhcmFtICB7TnVtYmVyfSB0YXJnZXRzTGVuZ3RoXG4gKiBAcmV0dXJuIHtXQUFQSVR3ZWVuVmFsdWV9XG4gKi9cbmNvbnN0IHBhcnNlSW5kaXZpZHVhbFR3ZWVuVmFsdWUgPSAoJGVsLCBwcm9wTmFtZSwgZnJvbSwgdG8sIGksIHRhcmdldHNMZW5ndGgpID0+IHtcbiAgLyoqIEB0eXBlIHtXQUFQSVR3ZWVuVmFsdWV9ICovXG4gIGxldCB0d2VlblZhbHVlID0gJzAnO1xuICBjb25zdCBjb21wdXRlZFRvID0gIWlzVW5kKHRvKSA/IG5vcm1hbGl6ZVR3ZWVuVmFsdWUocHJvcE5hbWUsIHRvLCAkZWwsIGksIHRhcmdldHNMZW5ndGgpIDogZ2V0Q29tcHV0ZWRTdHlsZSgkZWwpW3Byb3BOYW1lXTtcbiAgaWYgKCFpc1VuZChmcm9tKSkge1xuICAgIGNvbnN0IGNvbXB1dGVkRnJvbSA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWUocHJvcE5hbWUsIGZyb20sICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCk7XG4gICAgdHdlZW5WYWx1ZSA9IFtjb21wdXRlZEZyb20sIGNvbXB1dGVkVG9dO1xuICB9IGVsc2Uge1xuICAgIHR3ZWVuVmFsdWUgPSBpc0Fycih0bykgPyB0by5tYXAoKC8qKiBAdHlwZSB7YW55fSAqL3YpID0+IG5vcm1hbGl6ZVR3ZWVuVmFsdWUocHJvcE5hbWUsIHYsICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkpIDogY29tcHV0ZWRUbztcbiAgfVxuICByZXR1cm4gdHdlZW5WYWx1ZTtcbn07XG5cbmNsYXNzIFdBQVBJQW5pbWF0aW9uIHtcbi8qKlxuICogQHBhcmFtIHtET01UYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEBwYXJhbSB7V0FBUElBbmltYXRpb25QYXJhbXN9IHBhcmFtc1xuICovXG4gIGNvbnN0cnVjdG9yKHRhcmdldHMsIHBhcmFtcykge1xuXG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcblxuICAgIGlmICghdHJhbnNmb3Jtc1Byb3BlcnRpZXNSZWdpc3RlcmVkKSByZWdpc3RlclRyYW5zZm9ybXNQcm9wZXJ0aWVzKCk7XG5cbiAgICBjb25zdCBwYXJzZWRUYXJnZXRzID0gcmVnaXN0ZXJUYXJnZXRzKHRhcmdldHMpO1xuICAgIGNvbnN0IHRhcmdldHNMZW5ndGggPSBwYXJzZWRUYXJnZXRzLmxlbmd0aDtcblxuICAgIGlmICghdGFyZ2V0c0xlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKGBObyB0YXJnZXQgZm91bmQuIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCB5b3UncmUgdHJ5aW5nIHRvIGFuaW1hdGUgaXMgYWNjZXNzaWJsZSBiZWZvcmUgY3JlYXRpbmcgeW91ciBhbmltYXRpb24uYCk7XG4gICAgfVxuXG4gICAgY29uc3QgZWFzZSA9IHNldFZhbHVlKHBhcmFtcy5lYXNlLCBwYXJzZVdBQVBJRWFzaW5nKGdsb2JhbHMuZGVmYXVsdHMuZWFzZSkpO1xuICAgIGNvbnN0IHNwcmluZyA9IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKS5lYXNlICYmIGVhc2U7XG4gICAgY29uc3QgYXV0b3BsYXkgPSBzZXRWYWx1ZShwYXJhbXMuYXV0b3BsYXksIGdsb2JhbHMuZGVmYXVsdHMuYXV0b3BsYXkpO1xuICAgIGNvbnN0IHNjcm9sbCA9IGF1dG9wbGF5ICYmIC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovKGF1dG9wbGF5KS5saW5rID8gYXV0b3BsYXkgOiBmYWxzZTtcbiAgICBjb25zdCBhbHRlcm5hdGUgPSBwYXJhbXMuYWx0ZXJuYXRlICYmIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi8ocGFyYW1zLmFsdGVybmF0ZSkgPT09IHRydWU7XG4gICAgY29uc3QgcmV2ZXJzZWQgPSBwYXJhbXMucmV2ZXJzZWQgJiYgLyoqIEB0eXBlIHtCb29sZWFufSAqLyhwYXJhbXMucmV2ZXJzZWQpID09PSB0cnVlO1xuICAgIGNvbnN0IGxvb3AgPSBzZXRWYWx1ZShwYXJhbXMubG9vcCwgZ2xvYmFscy5kZWZhdWx0cy5sb29wKTtcbiAgICBjb25zdCBpdGVyYXRpb25zID0gLyoqIEB0eXBlIHtOdW1iZXJ9ICovKChsb29wID09PSB0cnVlIHx8IGxvb3AgPT09IEluZmluaXR5KSA/IEluZmluaXR5IDogaXNOdW0obG9vcCkgPyBsb29wICsgMSA6IDEpO1xuICAgIC8qKiBAdHlwZSB7UGxheWJhY2tEaXJlY3Rpb259ICovXG4gICAgY29uc3QgZGlyZWN0aW9uID0gYWx0ZXJuYXRlID8gcmV2ZXJzZWQgPyAnYWx0ZXJuYXRlLXJldmVyc2UnIDogJ2FsdGVybmF0ZScgOiByZXZlcnNlZCA/ICdyZXZlcnNlJyA6ICdub3JtYWwnO1xuICAgIC8qKiBAdHlwZSB7RmlsbE1vZGV9ICovXG4gICAgY29uc3QgZmlsbCA9ICdmb3J3YXJkcyc7XG4gICAgLyoqIEB0eXBlIHtTdHJpbmd9ICovXG4gICAgY29uc3QgZWFzaW5nID0gcGFyc2VXQUFQSUVhc2luZyhlYXNlKTtcbiAgICBjb25zdCB0aW1lU2NhbGUgPSAoZ2xvYmFscy50aW1lU2NhbGUgPT09IDEgPyAxIDogSyk7XG5cbiAgICAvKiogQHR5cGUge0RPTVRhcmdldHNBcnJheX1dICovXG4gICAgdGhpcy50YXJnZXRzID0gcGFyc2VkVGFyZ2V0cztcbiAgICAvKiogQHR5cGUge0FycmF5PGdsb2JhbFRoaXMuQW5pbWF0aW9uPn1dICovXG4gICAgdGhpcy5hbmltYXRpb25zID0gW107XG4gICAgLyoqIEB0eXBlIHtnbG9iYWxUaGlzLkFuaW1hdGlvbn1dICovXG4gICAgdGhpcy5jb250cm9sQW5pbWF0aW9uID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25Db21wbGV0ZSA9IHBhcmFtcy5vbkNvbXBsZXRlIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5kdXJhdGlvbiA9IDA7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMubXV0ZUNhbGxiYWNrcyA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLnBhdXNlZCA9ICFhdXRvcGxheSB8fCBzY3JvbGwgIT09IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLnJldmVyc2VkID0gcmV2ZXJzZWQ7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufFNjcm9sbE9ic2VydmVyfSAqL1xuICAgIHRoaXMuYXV0b3BsYXkgPSBhdXRvcGxheTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9zcGVlZCA9IHNldFZhbHVlKHBhcmFtcy5wbGF5YmFja1JhdGUsIGdsb2JhbHMuZGVmYXVsdHMucGxheWJhY2tSYXRlKTtcbiAgICAvKiogQHR5cGUge0Z1bmN0aW9ufSAqL1xuICAgIHRoaXMuX3Jlc29sdmUgPSBub29wOyAvLyBVc2VkIGJ5IC50aGVuKClcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLl9jb21wbGV0ZWQgPSAwO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8T2JqZWN0Pn1dICovXG4gICAgdGhpcy5faW5saW5lU3R5bGVzID0gcGFyc2VkVGFyZ2V0cy5tYXAoJGVsID0+ICRlbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykpO1xuXG4gICAgcGFyc2VkVGFyZ2V0cy5mb3JFYWNoKCgkZWwsIGkpID0+IHtcblxuICAgICAgY29uc3QgY2FjaGVkVHJhbnNmb3JtcyA9ICRlbFt0cmFuc2Zvcm1zU3ltYm9sXTtcblxuICAgICAgY29uc3QgaGFzSW5kaXZpZHVhbFRyYW5zZm9ybXMgPSB2YWxpZEluZGl2aWR1YWxUcmFuc2Zvcm1zLnNvbWUodCA9PiBwYXJhbXMuaGFzT3duUHJvcGVydHkodCkpO1xuXG4gICAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gKHNwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhzcHJpbmcpLmR1cmF0aW9uIDogZ2V0RnVuY3Rpb25WYWx1ZShzZXRWYWx1ZShwYXJhbXMuZHVyYXRpb24sIGdsb2JhbHMuZGVmYXVsdHMuZHVyYXRpb24pLCAkZWwsIGksIHRhcmdldHNMZW5ndGgpKSAqIHRpbWVTY2FsZTtcbiAgICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgICAgY29uc3QgZGVsYXkgPSBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKHBhcmFtcy5kZWxheSwgZ2xvYmFscy5kZWZhdWx0cy5kZWxheSksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkgKiB0aW1lU2NhbGU7XG4gICAgICAvKiogQHR5cGUge0NvbXBvc2l0ZU9wZXJhdGlvbn0gKi9cbiAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IC8qKiBAdHlwZSB7Q29tcG9zaXRlT3BlcmF0aW9ufSAqLyhzZXRWYWx1ZShwYXJhbXMuY29tcG9zaXRpb24sICdyZXBsYWNlJykpO1xuXG4gICAgICBmb3IgKGxldCBuYW1lIGluIHBhcmFtcykge1xuICAgICAgICBpZiAoIWlzS2V5KG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgLyoqIEB0eXBlIHtQcm9wZXJ0eUluZGV4ZWRLZXlmcmFtZXN9ICovXG4gICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IHt9O1xuICAgICAgICAvKiogQHR5cGUge0tleWZyYW1lQW5pbWF0aW9uT3B0aW9uc30gKi9cbiAgICAgICAgY29uc3QgdHdlZW5QYXJhbXMgPSB7IGl0ZXJhdGlvbnMsIGRpcmVjdGlvbiwgZmlsbCwgZWFzaW5nLCBkdXJhdGlvbiwgZGVsYXksIGNvbXBvc2l0ZSB9O1xuICAgICAgICBjb25zdCBwcm9wZXJ0eVZhbHVlID0gcGFyYW1zW25hbWVdO1xuICAgICAgICBjb25zdCBpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHkgPSBoYXNJbmRpdmlkdWFsVHJhbnNmb3JtcyA/IHZhbGlkVHJhbnNmb3Jtcy5pbmNsdWRlcyhuYW1lKSA/IG5hbWUgOiBzaG9ydFRyYW5zZm9ybXMuZ2V0KG5hbWUpIDogZmFsc2U7XG4gICAgICAgIGxldCBwYXJzZWRQcm9wZXJ0eVZhbHVlO1xuICAgICAgICBpZiAoaXNPYmoocHJvcGVydHlWYWx1ZSkpIHtcbiAgICAgICAgICBjb25zdCB0d2Vlbk9wdGlvbnMgPSAvKiogQHR5cGUge1dBQVBJVHdlZW5PcHRpb25zfSAqLyhwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgICBjb25zdCB0d2Vlbk9wdGlvbnNFYXNlID0gc2V0VmFsdWUodHdlZW5PcHRpb25zLmVhc2UsIGVhc2UpO1xuICAgICAgICAgIGNvbnN0IHR3ZWVuT3B0aW9uc1NwcmluZyA9IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyh0d2Vlbk9wdGlvbnNFYXNlKS5lYXNlICYmIHR3ZWVuT3B0aW9uc0Vhc2U7XG4gICAgICAgICAgY29uc3QgdG8gPSAvKiogQHR5cGUge1dBQVBJVHdlZW5PcHRpb25zfSAqLyh0d2Vlbk9wdGlvbnMpLnRvO1xuICAgICAgICAgIGNvbnN0IGZyb20gPSAvKiogQHR5cGUge1dBQVBJVHdlZW5PcHRpb25zfSAqLyh0d2Vlbk9wdGlvbnMpLmZyb207XG4gICAgICAgICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgICAgICAgdHdlZW5QYXJhbXMuZHVyYXRpb24gPSAodHdlZW5PcHRpb25zU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKHR3ZWVuT3B0aW9uc1NwcmluZykuZHVyYXRpb24gOiBnZXRGdW5jdGlvblZhbHVlKHNldFZhbHVlKHR3ZWVuT3B0aW9ucy5kdXJhdGlvbiwgZHVyYXRpb24pLCAkZWwsIGksIHRhcmdldHNMZW5ndGgpKSAqIHRpbWVTY2FsZTtcbiAgICAgICAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICAgICAgICB0d2VlblBhcmFtcy5kZWxheSA9IGdldEZ1bmN0aW9uVmFsdWUoc2V0VmFsdWUodHdlZW5PcHRpb25zLmRlbGF5LCBkZWxheSksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkgKiB0aW1lU2NhbGU7XG4gICAgICAgICAgLyoqIEB0eXBlIHtDb21wb3NpdGVPcGVyYXRpb259ICovXG4gICAgICAgICAgdHdlZW5QYXJhbXMuY29tcG9zaXRlID0gLyoqIEB0eXBlIHtDb21wb3NpdGVPcGVyYXRpb259ICovKHNldFZhbHVlKHR3ZWVuT3B0aW9ucy5jb21wb3NpdGlvbiwgY29tcG9zaXRlKSk7XG4gICAgICAgICAgLyoqIEB0eXBlIHtTdHJpbmd9ICovXG4gICAgICAgICAgdHdlZW5QYXJhbXMuZWFzaW5nID0gcGFyc2VXQUFQSUVhc2luZyh0d2Vlbk9wdGlvbnNFYXNlKTtcbiAgICAgICAgICBwYXJzZWRQcm9wZXJ0eVZhbHVlID0gcGFyc2VJbmRpdmlkdWFsVHdlZW5WYWx1ZSgkZWwsIG5hbWUsIGZyb20sIHRvLCBpLCB0YXJnZXRzTGVuZ3RoKTtcbiAgICAgICAgICBpZiAoaW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5KSB7XG4gICAgICAgICAgICBrZXlmcmFtZXNbYC0tJHtpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHl9YF0gPSBwYXJzZWRQcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgY2FjaGVkVHJhbnNmb3Jtc1tpbmRpdmlkdWFsVHJhbnNmb3JtUHJvcGVydHldID0gcGFyc2VkUHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ZnJhbWVzW25hbWVdID0gcGFyc2VJbmRpdmlkdWFsVHdlZW5WYWx1ZSgkZWwsIG5hbWUsIGZyb20sIHRvLCBpLCB0YXJnZXRzTGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkV0FBUElBbmltYXRpb24odGhpcywgJGVsLCBuYW1lLCBrZXlmcmFtZXMsIHR3ZWVuUGFyYW1zKTtcbiAgICAgICAgICBpZiAoIWlzVW5kKGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWluZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAkZWwuc3R5bGVbbmFtZV0gPSBrZXlmcmFtZXNbbmFtZV1bMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBrZXkgPSBgLS0ke2luZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eX1gO1xuICAgICAgICAgICAgICAkZWwuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCBrZXlmcmFtZXNba2V5XVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnNlZFByb3BlcnR5VmFsdWUgPSBpc0Fycihwcm9wZXJ0eVZhbHVlKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUubWFwKCgvKiogQHR5cGUge2FueX0gKi92KSA9PiBub3JtYWxpemVUd2VlblZhbHVlKG5hbWUsIHYsICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplVHdlZW5WYWx1ZShuYW1lLCAvKiogQHR5cGUge2FueX0gKi8ocHJvcGVydHlWYWx1ZSksICRlbCwgaSwgdGFyZ2V0c0xlbmd0aCk7XG4gICAgICAgICAgaWYgKGluZGl2aWR1YWxUcmFuc2Zvcm1Qcm9wZXJ0eSkge1xuICAgICAgICAgICAga2V5ZnJhbWVzW2AtLSR7aW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5fWBdID0gcGFyc2VkUHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgIGNhY2hlZFRyYW5zZm9ybXNbaW5kaXZpZHVhbFRyYW5zZm9ybVByb3BlcnR5XSA9IHBhcnNlZFByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleWZyYW1lc1tuYW1lXSA9IHBhcnNlZFByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFdBQVBJQW5pbWF0aW9uKHRoaXMsICRlbCwgbmFtZSwga2V5ZnJhbWVzLCB0d2VlblBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChoYXNJbmRpdmlkdWFsVHJhbnNmb3Jtcykge1xuICAgICAgICBsZXQgdHJhbnNmb3JtcyA9IGVtcHR5U3RyaW5nO1xuICAgICAgICBmb3IgKGxldCB0IGluIGNhY2hlZFRyYW5zZm9ybXMpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1zICs9IGAke3RyYW5zZm9ybXNGcmFnbWVudFN0cmluZ3NbdF19dmFyKC0tJHt0fSkpIGA7XG4gICAgICAgIH1cbiAgICAgICAgJGVsLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybXM7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc2Nyb2xsKSB7XG4gICAgICAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqLyh0aGlzLmF1dG9wbGF5KS5saW5rKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgZm9yRWFjaENhbGxiYWNrXG4gICAqIEBwYXJhbSB7Z2xvYmFsVGhpcy5BbmltYXRpb259IGFuaW1hdGlvblxuICAgKi9cblxuICAvKipcbiAgICogQHBhcmFtICB7Zm9yRWFjaENhbGxiYWNrfFN0cmluZ30gY2FsbGJhY2tcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICBjb25zdCBjYiA9IGlzU3RyKGNhbGxiYWNrKSA/IGEgPT4gYVtjYWxsYmFja10oKSA6IGNhbGxiYWNrO1xuICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKGNiKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldCBzcGVlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHNwZWVkICovXG4gIHNldCBzcGVlZChzcGVlZCkge1xuICAgIHRoaXMuX3NwZWVkID0gK3NwZWVkO1xuICAgIHRoaXMuZm9yRWFjaChhbmltID0+IGFuaW0ucGxheWJhY2tSYXRlID0gc3BlZWQpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgIGNvbnN0IGNvbnRyb2xBbmltYXRpb24gPSB0aGlzLmNvbnRyb2xBbmltYXRpb247XG4gICAgY29uc3QgdGltZVNjYWxlID0gZ2xvYmFscy50aW1lU2NhbGU7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGVkID8gdGhpcy5kdXJhdGlvbiA6IGNvbnRyb2xBbmltYXRpb24gPyArY29udHJvbEFuaW1hdGlvbi5jdXJyZW50VGltZSAqICh0aW1lU2NhbGUgPT09IDEgPyAxIDogdGltZVNjYWxlKSA6IDA7XG4gIH1cblxuICAvKiogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgKi9cbiAgc2V0IGN1cnJlbnRUaW1lKHRpbWUpIHtcbiAgICBjb25zdCB0ID0gdGltZSAqIChnbG9iYWxzLnRpbWVTY2FsZSA9PT0gMSA/IDEgOiBLKTtcbiAgICB0aGlzLmZvckVhY2goYW5pbSA9PiBhbmltLmN1cnJlbnRUaW1lID0gdCk7XG4gIH1cblxuICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7TnVtYmVyfSBwcm9ncmVzcyAqL1xuICBzZXQgcHJvZ3Jlc3MocHJvZ3Jlc3MpIHtcbiAgICB0aGlzLmZvckVhY2goYW5pbSA9PiBhbmltLmN1cnJlbnRUaW1lID0gcHJvZ3Jlc3MgKiB0aGlzLmR1cmF0aW9uIHx8IDApO1xuICB9XG5cbiAgcmVzdW1lKCkge1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHJldHVybiB0aGlzO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgLy8gVE9ETzogU3RvcmUgdGhlIGN1cnJlbnQgdGltZSwgYW5kIHNlZWsgYmFjayB0byB0aGUgbGFzdCBwb3NpdGlvblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goJ3BsYXknKTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLnBhdXNlZCkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmZvckVhY2goJ3BhdXNlJyk7XG4gIH1cblxuICBhbHRlcm5hdGUoKSB7XG4gICAgdGhpcy5yZXZlcnNlZCA9ICF0aGlzLnJldmVyc2VkO1xuICAgIHRoaXMuZm9yRWFjaCgncmV2ZXJzZScpO1xuICAgIGlmICh0aGlzLnBhdXNlZCkgdGhpcy5mb3JFYWNoKCdwYXVzZScpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGxheSgpIHtcbiAgICBpZiAodGhpcy5yZXZlcnNlZCkgdGhpcy5hbHRlcm5hdGUoKTtcbiAgICByZXR1cm4gdGhpcy5yZXN1bWUoKTtcbiAgfVxuXG4gIHJldmVyc2UoKSB7XG4gICAgaWYgKCF0aGlzLnJldmVyc2VkKSB0aGlzLmFsdGVybmF0ZSgpO1xuICAgIHJldHVybiB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAvKipcbiAgKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICAqIEBwYXJhbSB7Qm9vbGVhbn0gbXV0ZUNhbGxiYWNrc1xuICAqL1xuICBzZWVrKHRpbWUsIG11dGVDYWxsYmFja3MgPSBmYWxzZSkge1xuICAgIGlmIChtdXRlQ2FsbGJhY2tzKSB0aGlzLm11dGVDYWxsYmFja3MgPSB0cnVlO1xuICAgIGlmICh0aW1lIDwgdGhpcy5kdXJhdGlvbikgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGltZTtcbiAgICB0aGlzLm11dGVDYWxsYmFja3MgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5wYXVzZWQpIHRoaXMucGF1c2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlc3RhcnQoKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5zZWVrKDAsIHRydWUpLnJlc3VtZSgpO1xuICB9XG5cbiAgY29tbWl0U3R5bGVzKCkge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2goJ2NvbW1pdFN0eWxlcycpO1xuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2Vlayh0aGlzLmR1cmF0aW9uKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLmZvckVhY2goJ2NhbmNlbCcpO1xuICAgIHJldHVybiB0aGlzLnBhdXNlKCk7XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgdGhpcy5jYW5jZWwoKTtcbiAgICB0aGlzLnRhcmdldHMuZm9yRWFjaCgoJGVsLCBpKSA9PiAkZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRoaXMuX2lubGluZVN0eWxlc1tpXSkgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtXQUFQSUNhbGxiYWNrfSBbY2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICB0aGVuKGNhbGxiYWNrID0gbm9vcCkge1xuICAgIGNvbnN0IHRoZW4gPSB0aGlzLnRoZW47XG4gICAgY29uc3Qgb25SZXNvbHZlID0gKCkgPT4ge1xuICAgICAgdGhpcy50aGVuID0gbnVsbDtcbiAgICAgIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgdGhpcy50aGVuID0gdGhlbjtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSBub29wO1xuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHIgPT4ge1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9ICgpID0+IHIob25SZXNvbHZlKCkpO1xuICAgICAgaWYgKHRoaXMuY29tcGxldGVkKSB0aGlzLl9yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB3YWFwaSA9IHtcbi8qKlxuICogQHBhcmFtIHtET01UYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEBwYXJhbSB7V0FBUElBbmltYXRpb25QYXJhbXN9IHBhcmFtc1xuICogQHJldHVybiB7V0FBUElBbmltYXRpb259XG4gKi9cbiAgYW5pbWF0ZTogKHRhcmdldHMsIHBhcmFtcykgPT4gbmV3IFdBQVBJQW5pbWF0aW9uKHRhcmdldHMsIHBhcmFtcyksXG4gIGNvbnZlcnRFYXNlOiBlYXNpbmdUb0xpbmVhclxufTtcblxuXG5cblxuLyoqXG4gKiBAcGFyYW0gIHtDYWxsYmFjazxUaW1lcj59IFtjYWxsYmFja11cbiAqIEByZXR1cm4ge1RpbWVyfVxuICovXG5jb25zdCBzeW5jID0gKGNhbGxiYWNrID0gbm9vcCkgPT4ge1xuICByZXR1cm4gbmV3IFRpbWVyKHsgZHVyYXRpb246IDEgKiBnbG9iYWxzLnRpbWVTY2FsZSwgb25Db21wbGV0ZTogY2FsbGJhY2sgfSwgbnVsbCwgMCkucmVzdW1lKCk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7RE9NVGFyZ2V0U2VsZWN0b3J9IHRhcmdldFNlbGVjdG9yXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgcHJvcE5hbWVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge0pTVGFyZ2V0c1BhcmFtfSB0YXJnZXRTZWxlY3RvclxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgIHByb3BOYW1lXG4gKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfVxuICpcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtICB7RE9NVGFyZ2V0c1BhcmFtfSB0YXJnZXRTZWxlY3RvclxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICBwcm9wTmFtZVxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICB1bml0XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHRhcmdldFNlbGVjdG9yXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIHByb3BOYW1lXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgICAgIHVuaXRcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19ICAgdGFyZ2V0U2VsZWN0b3JcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICBwcm9wTmFtZVxuICogQHBhcmFtICB7U3RyaW5nfEJvb2xlYW59IFt1bml0XVxuICovXG5mdW5jdGlvbiBnZXRUYXJnZXRWYWx1ZSh0YXJnZXRTZWxlY3RvciwgcHJvcE5hbWUsIHVuaXQpIHtcbiAgY29uc3QgdGFyZ2V0cyA9IHJlZ2lzdGVyVGFyZ2V0cyh0YXJnZXRTZWxlY3Rvcik7XG4gIGlmICghdGFyZ2V0cy5sZW5ndGgpIHJldHVybjtcbiAgY29uc3QgWyB0YXJnZXQgXSA9IHRhcmdldHM7XG4gIGNvbnN0IHR3ZWVuVHlwZSA9IGdldFR3ZWVuVHlwZSh0YXJnZXQsIHByb3BOYW1lKTtcbiAgY29uc3Qgbm9ybWFsaXplUHJvcE5hbWUgPSBzYW5pdGl6ZVByb3BlcnR5TmFtZShwcm9wTmFtZSwgdGFyZ2V0LCB0d2VlblR5cGUpO1xuICBsZXQgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlKHRhcmdldCwgbm9ybWFsaXplUHJvcE5hbWUpO1xuICBpZiAoaXNVbmQodW5pdCkpIHtcbiAgICByZXR1cm4gb3JpZ2luYWxWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBkZWNvbXBvc2VSYXdWYWx1ZShvcmlnaW5hbFZhbHVlLCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSk7XG4gICAgaWYgKGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLnQgPT09IHZhbHVlVHlwZXMuTlVNQkVSIHx8IGRlY29tcG9zZWRPcmlnaW5hbFZhbHVlLnQgPT09IHZhbHVlVHlwZXMuVU5JVCkge1xuICAgICAgaWYgKHVuaXQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZS5uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkVmFsdWUgPSBjb252ZXJ0VmFsdWVVbml0KC8qKiBAdHlwZSB7RE9NVGFyZ2V0fSAqLyh0YXJnZXQpLCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSwgLyoqIEB0eXBlIHtTdHJpbmd9ICovKHVuaXQpLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBgJHtyb3VuZChjb252ZXJ0ZWRWYWx1ZS5uLCBnbG9iYWxzLnByZWNpc2lvbil9JHtjb252ZXJ0ZWRWYWx1ZS51fWA7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSAgICB0YXJnZXRzXG4gKiBAcGFyYW0gIHtBbmltYXRpb25QYXJhbXN9IHBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge0pTQW5pbWF0aW9ufVxuICovXG5jb25zdCBzZXRUYXJnZXRWYWx1ZXMgPSAodGFyZ2V0cywgcGFyYW1ldGVycykgPT4ge1xuICBpZiAoaXNVbmQocGFyYW1ldGVycykpIHJldHVybjtcbiAgcGFyYW1ldGVycy5kdXJhdGlvbiA9IG1pblZhbHVlO1xuICAvLyBEbyBub3Qgb3ZlcnJpZGVzIGN1cnJlbnRseSBhY3RpdmUgdHdlZW5zIGJ5IGRlZmF1bHRcbiAgcGFyYW1ldGVycy5jb21wb3NpdGlvbiA9IHNldFZhbHVlKHBhcmFtZXRlcnMuY29tcG9zaXRpb24sIGNvbXBvc2l0aW9uVHlwZXMubm9uZSk7XG4gIC8vIFNraXAgaW5pdCgpIGFuZCBmb3JjZSByZW5kZXJpbmcgYnkgcGxheWluZyB0aGUgYW5pbWF0aW9uXG4gIHJldHVybiBuZXcgSlNBbmltYXRpb24odGFyZ2V0cywgcGFyYW1ldGVycywgbnVsbCwgMCwgdHJ1ZSkucmVzdW1lKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RhcmdldHNBcnJheX0gdGFyZ2V0c0FycmF5XG4gKiBAcGFyYW0gIHtKU0FuaW1hdGlvbn0gICAgYW5pbWF0aW9uXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIFtwcm9wZXJ0eU5hbWVdXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbiA9ICh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbiwgcHJvcGVydHlOYW1lKSA9PiB7XG4gIGxldCB0d2VlbnNNYXRjaGVzVGFyZ2V0cyA9IGZhbHNlO1xuICBmb3JFYWNoQ2hpbGRyZW4oYW5pbWF0aW9uLCAoLyoqQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgY29uc3QgdHdlZW5UYXJnZXQgPSB0d2Vlbi50YXJnZXQ7XG4gICAgaWYgKHRhcmdldHNBcnJheS5pbmNsdWRlcyh0d2VlblRhcmdldCkpIHtcbiAgICAgIGNvbnN0IHR3ZWVuTmFtZSA9IHR3ZWVuLnByb3BlcnR5O1xuICAgICAgY29uc3QgdHdlZW5UeXBlID0gdHdlZW4uX3R3ZWVuVHlwZTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZVByb3BOYW1lID0gc2FuaXRpemVQcm9wZXJ0eU5hbWUocHJvcGVydHlOYW1lLCB0d2VlblRhcmdldCwgdHdlZW5UeXBlKTtcbiAgICAgIGlmICghbm9ybWFsaXplUHJvcE5hbWUgfHwgbm9ybWFsaXplUHJvcE5hbWUgJiYgbm9ybWFsaXplUHJvcE5hbWUgPT09IHR3ZWVuTmFtZSkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdG8gZmxhZyB0aGUgcHJldmlvdXMgQ1NTIHRyYW5zZm9ybSB0d2VlbiB0byByZW5kZXJUcmFuc2Zvcm1cbiAgICAgICAgaWYgKHR3ZWVuLnBhcmVudC5fdGFpbCA9PT0gdHdlZW4gJiZcbiAgICAgICAgICAgIHR3ZWVuLl90d2VlblR5cGUgPT09IHR3ZWVuVHlwZXMuVFJBTlNGT1JNICYmXG4gICAgICAgICAgICB0d2Vlbi5fcHJldiAmJlxuICAgICAgICAgICAgdHdlZW4uX3ByZXYuX3R3ZWVuVHlwZSA9PT0gdHdlZW5UeXBlcy5UUkFOU0ZPUk1cbiAgICAgICAgKSB7XG4gICAgICAgICAgdHdlZW4uX3ByZXYuX3JlbmRlclRyYW5zZm9ybXMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIHR3ZWVuIGZyb20gdGhlIHNlbGVjdGVkIGFuaW1hdGlvblxuICAgICAgICByZW1vdmVDaGlsZChhbmltYXRpb24sIHR3ZWVuKTtcbiAgICAgICAgLy8gRGV0YWNoIHRoZSB0d2VlbiBmcm9tIGl0cyBzaWJsaW5ncyB0byBtYWtlIHN1cmUgYmxlbmRlZCB0d2VlbnMgYXJlIGNvcnJlY3RsbHkgcmVtb3ZlZFxuICAgICAgICByZW1vdmVUd2VlblNsaWJsaW5ncyh0d2Vlbik7XG4gICAgICAgIHR3ZWVuc01hdGNoZXNUYXJnZXRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRydWUpO1xuICByZXR1cm4gdHdlZW5zTWF0Y2hlc1RhcmdldHM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RhcmdldHNQYXJhbX0gdGFyZ2V0c1xuICogQHBhcmFtICB7UmVuZGVyYWJsZXxXQUFQSUFuaW1hdGlvbn0gW3JlbmRlcmFibGVdXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICBbcHJvcGVydHlOYW1lXVxuICogQHJldHVybiB7VGFyZ2V0c0FycmF5fVxuICovXG5jb25zdCByZW1vdmUgPSAodGFyZ2V0cywgcmVuZGVyYWJsZSwgcHJvcGVydHlOYW1lKSA9PiB7XG4gIGNvbnN0IHRhcmdldHNBcnJheSA9IHBhcnNlVGFyZ2V0cyh0YXJnZXRzKTtcbiAgY29uc3QgcGFyZW50ID0gLyoqIEB0eXBlIHtSZW5kZXJhYmxlfHR5cGVvZiBlbmdpbmV9ICoqLyhyZW5kZXJhYmxlID8gcmVuZGVyYWJsZSA6IGVuZ2luZSk7XG4gIGNvbnN0IHdhYXBpQW5pbWF0aW9uID0gcmVuZGVyYWJsZSAmJiAvKiogQHR5cGUge1dBQVBJQW5pbWF0aW9ufSAqLyhyZW5kZXJhYmxlKS5jb250cm9sQW5pbWF0aW9uICYmIC8qKiBAdHlwZSB7V0FBUElBbmltYXRpb259ICovKHJlbmRlcmFibGUpO1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHRhcmdldHNBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCAkZWwgPSAvKiogQHR5cGUge0RPTVRhcmdldH0gICovKHRhcmdldHNBcnJheVtpXSk7XG4gICAgcmVtb3ZlV0FBUElBbmltYXRpb24oJGVsLCBwcm9wZXJ0eU5hbWUsIHdhYXBpQW5pbWF0aW9uKTtcbiAgfVxuICBsZXQgcmVtb3ZlTWF0Y2hlcztcbiAgaWYgKHBhcmVudC5faGFzQ2hpbGRyZW4pIHtcbiAgICBsZXQgaXRlcmF0aW9uRHVyYXRpb24gPSAwO1xuICAgIGZvckVhY2hDaGlsZHJlbihwYXJlbnQsICgvKiogQHR5cGUge1JlbmRlcmFibGV9ICovY2hpbGQpID0+IHtcbiAgICAgIGlmICghY2hpbGQuX2hhc0NoaWxkcmVuKSB7XG4gICAgICAgIHJlbW92ZU1hdGNoZXMgPSByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbih0YXJnZXRzQXJyYXksIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKGNoaWxkKSwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjaGlsZCBmcm9tIGl0cyBwYXJlbnQgaWYgbm8gdHdlZW5zIGFuZCBubyBjaGlsZHJlbiBsZWZ0IGFmdGVyIHRoZSByZW1vdmFsXG4gICAgICAgIGlmIChyZW1vdmVNYXRjaGVzICYmICFjaGlsZC5faGVhZCkge1xuICAgICAgICAgIGNoaWxkLmNhbmNlbCgpO1xuICAgICAgICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbmV3IGl0ZXJhdGlvbkR1cmF0aW9uIHZhbHVlIHRvIGhhbmRsZSBvbkNvbXBsZXRlIHdpdGggbGFzdCBjaGlsZCBpbiByZW5kZXIoKVxuICAgICAgICAgIGNvbnN0IGNoaWxkVExPZmZzZXQgPSBjaGlsZC5fb2Zmc2V0ICsgY2hpbGQuX2RlbGF5O1xuICAgICAgICAgIGNvbnN0IGNoaWxkRHVyID0gY2hpbGRUTE9mZnNldCArIGNoaWxkLmR1cmF0aW9uO1xuICAgICAgICAgIGlmIChjaGlsZER1ciA+IGl0ZXJhdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICBpdGVyYXRpb25EdXJhdGlvbiA9IGNoaWxkRHVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWFrZSBzdXJlIHRvIGFsc28gcmVtb3ZlIGVuZ2luZSdzIGNoaWxkcmVuIHRhcmdldHNcbiAgICAgIC8vIE5PVEU6IEF2b2lkIHJlY3Vyc2lvbj9cbiAgICAgIGlmIChjaGlsZC5faGVhZCkge1xuICAgICAgICByZW1vdmUodGFyZ2V0cywgY2hpbGQsIHByb3BlcnR5TmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZC5faGFzQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgICAvLyBVcGRhdGUgaXRlcmF0aW9uRHVyYXRpb24gdmFsdWUgdG8gaGFuZGxlIG9uQ29tcGxldGUgd2l0aCBsYXN0IGNoaWxkIGluIHJlbmRlcigpXG4gICAgaWYgKCFpc1VuZCgvKiogQHR5cGUge1JlbmRlcmFibGV9ICovKHBhcmVudCkuaXRlcmF0aW9uRHVyYXRpb24pKSB7XG4gICAgICAvKiogQHR5cGUge1JlbmRlcmFibGV9ICovKHBhcmVudCkuaXRlcmF0aW9uRHVyYXRpb24gPSBpdGVyYXRpb25EdXJhdGlvbjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlTWF0Y2hlcyA9IHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9uKFxuICAgICAgdGFyZ2V0c0FycmF5LFxuICAgICAgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi8ocGFyZW50KSxcbiAgICAgIHByb3BlcnR5TmFtZVxuICAgICk7XG4gIH1cblxuICBpZiAocmVtb3ZlTWF0Y2hlcyAmJiAhcGFyZW50Ll9oZWFkKSB7XG4gICAgcGFyZW50Ll9oYXNDaGlsZHJlbiA9IGZhbHNlO1xuICAgIC8vIENhbmNlbCB0aGUgcGFyZW50IGlmIHRoZXJlIGFyZSBubyB0d2VlbnMgYW5kIG5vIGNoaWxkcmVuIGxlZnQgYWZ0ZXIgdGhlIHJlbW92YWxcbiAgICAvLyBXZSBoYXZlIHRvIGNoZWNrIGlmIHRoZSAuY2FuY2VsKCkgbWV0aG9kIGV4aXN0IHRvIGhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgcGFyZW50IGlzIHRoZSBlbmdpbmUgaXRzZWxmXG4gICAgaWYgKC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi8ocGFyZW50KS5jYW5jZWwpIC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi8ocGFyZW50KS5jYW5jZWwoKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRzQXJyYXk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gbWluXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1heFxuICogQHBhcmFtICB7TnVtYmVyfSBbZGVjaW1hbExlbmd0aF1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgcmFuZG9tID0gKG1pbiwgbWF4LCBkZWNpbWFsTGVuZ3RoKSA9PiB7IGNvbnN0IG0gPSAxMCAqKiAoZGVjaW1hbExlbmd0aCB8fCAwKTsgcmV0dXJuIGZsb29yKChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArICgxIC8gbSkpICsgbWluKSAqIG0pIC8gbSB9O1xuXG4vKipcbiAqIEBwYXJhbSAge1N0cmluZ3xBcnJheX0gaXRlbXNcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuY29uc3QgcmFuZG9tUGljayA9IGl0ZW1zID0+IGl0ZW1zW3JhbmRvbSgwLCBpdGVtcy5sZW5ndGggLSAxKV07XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGh0dHBzOi8vYm9zdC5vY2tzLm9yZy9taWtlL3NodWZmbGUvXG4gKiBAcGFyYW0gIHtBcnJheX0gaXRlbXNcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5jb25zdCBzaHVmZmxlID0gaXRlbXMgPT4ge1xuICBsZXQgbSA9IGl0ZW1zLmxlbmd0aCwgdCwgaTtcbiAgd2hpbGUgKG0pIHsgaSA9IHJhbmRvbSgwLCAtLW0pOyB0ID0gaXRlbXNbbV07IGl0ZW1zW21dID0gaXRlbXNbaV07IGl0ZW1zW2ldID0gdDsgfVxuICByZXR1cm4gaXRlbXM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcnxTdHJpbmd9IHZcbiAqIEBwYXJhbSAge051bWJlcn0gZGVjaW1hbExlbmd0aFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCByb3VuZFBhZCA9ICh2LCBkZWNpbWFsTGVuZ3RoKSA9PiAoK3YpLnRvRml4ZWQoZGVjaW1hbExlbmd0aCk7XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRvdGFsTGVuZ3RoXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHBhZFN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBwYWRTdGFydCA9ICh2LCB0b3RhbExlbmd0aCwgcGFkU3RyaW5nKSA9PiBgJHt2fWAucGFkU3RhcnQodG90YWxMZW5ndGgsIHBhZFN0cmluZyk7XG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSB2XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRvdGFsTGVuZ3RoXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHBhZFN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5jb25zdCBwYWRFbmQgPSAodiwgdG90YWxMZW5ndGgsIHBhZFN0cmluZykgPT4gYCR7dn1gLnBhZEVuZCh0b3RhbExlbmd0aCwgcGFkU3RyaW5nKTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHZcbiAqIEBwYXJhbSAge051bWJlcn0gbWluXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1heFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCB3cmFwID0gKHYsIG1pbiwgbWF4KSA9PiAoKCh2IC0gbWluKSAlIChtYXggLSBtaW4pICsgKG1heCAtIG1pbikpICUgKG1heCAtIG1pbikpICsgbWluO1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSAge051bWJlcn0gaW5Mb3dcbiAqIEBwYXJhbSAge051bWJlcn0gaW5IaWdoXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG91dExvd1xuICogQHBhcmFtICB7TnVtYmVyfSBvdXRIaWdoXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IG1hcFJhbmdlID0gKHZhbHVlLCBpbkxvdywgaW5IaWdoLCBvdXRMb3csIG91dEhpZ2gpID0+IG91dExvdyArICgodmFsdWUgLSBpbkxvdykgLyAoaW5IaWdoIC0gaW5Mb3cpKSAqIChvdXRIaWdoIC0gb3V0TG93KTtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGRlZ3JlZXNcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgZGVnVG9SYWQgPSBkZWdyZWVzID0+IGRlZ3JlZXMgKiBQSSAvIDE4MDtcblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHJhZGlhbnNcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3QgcmFkVG9EZWcgPSByYWRpYW5zID0+IHJhZGlhbnMgKiAxODAgLyBQSTtcblxuLyoqXG4gKiBodHRwczovL3d3dy5yb3J5ZHJpc2NvbGwuY29tLzIwMTYvMDMvMDcvZnJhbWUtcmF0ZS1pbmRlcGVuZGVudC1kYW1waW5nLXVzaW5nLWxlcnAvXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGVuZFxuICogQHBhcmFtICB7TnVtYmVyfSBhbW91bnRcbiAqIEBwYXJhbSAge1JlbmRlcmFibGV8Qm9vbGVhbn0gW3JlbmRlcmFibGVdXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGxlcnAgPSAoc3RhcnQsIGVuZCwgYW1vdW50LCByZW5kZXJhYmxlKSA9PiB7XG4gIGxldCBkdCA9IEsgLyBnbG9iYWxzLmRlZmF1bHRzLmZyYW1lUmF0ZTtcbiAgaWYgKHJlbmRlcmFibGUgIT09IGZhbHNlKSB7XG4gICAgY29uc3QgdGlja2VyID0gLyoqIEB0eXBlIFJlbmRlcmFibGUgKi9cbiAgICAgICAgICAgICAgICAgICAocmVuZGVyYWJsZSkgfHxcbiAgICAgICAgICAgICAgICAgICAoZW5naW5lLl9oYXNDaGlsZHJlbiAmJiBlbmdpbmUpO1xuICAgIGlmICh0aWNrZXIgJiYgdGlja2VyLmRlbHRhVGltZSkge1xuICAgICAgZHQgPSB0aWNrZXIuZGVsdGFUaW1lO1xuICAgIH1cbiAgfVxuICBjb25zdCB0ID0gMSAtIE1hdGguZXhwKC1hbW91bnQgKiBkdCAqIC4xKTtcbiAgcmV0dXJuICFhbW91bnQgPyBzdGFydCA6IGFtb3VudCA9PT0gMSA/IGVuZCA6ICgxIC0gdCkgKiBzdGFydCArIHQgKiBlbmQ7XG59O1xuXG4vLyBDaGFpbi1hYmxlIHV0aWxpdGllc1xuXG4vKipcbiAqIEBjYWxsYmFjayBVdGlsaXR5RnVuY3Rpb25cbiAqIEBwYXJhbSB7Li4uKn0gYXJnc1xuICogQHJldHVybiB7TnVtYmVyfFN0cmluZ31cbiAqXG4gKiBAcGFyYW0ge1V0aWxpdHlGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbGFzdD0wXVxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uKE51bWJlcnxTdHJpbmcpKTogZnVuY3Rpb24oTnVtYmVyfFN0cmluZyk6IChOdW1iZXJ8U3RyaW5nKX1cbiAqL1xuY29uc3QgY3VycnkgPSAoZm4sIGxhc3QgPSAwKSA9PiAoLi4uYXJncykgPT4gbGFzdCA/IHYgPT4gZm4oLi4uYXJncywgdikgOiB2ID0+IGZuKHYsIC4uLmFyZ3MpO1xuXG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi4oTnVtYmVyfFN0cmluZykpfVxuICovXG5jb25zdCBjaGFpbiA9IGZuID0+IHtcbiAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuKC4uLmFyZ3MpO1xuICAgIHJldHVybiBuZXcgUHJveHkobm9vcCwge1xuICAgICAgYXBwbHk6IChfLCBfXywgW3ZdKSA9PiByZXN1bHQodiksXG4gICAgICBnZXQ6IChfLCBwcm9wKSA9PiBjaGFpbigvKipAcGFyYW0gey4uLk51bWJlcnxTdHJpbmd9IG5leHRBcmdzICovKC4uLm5leHRBcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSB1dGlsc1twcm9wXSguLi5uZXh0QXJncyk7XG4gICAgICAgIHJldHVybiAoLyoqQHR5cGUge051bWJlcnxTdHJpbmd9ICovdikgPT4gbmV4dFJlc3VsdChyZXN1bHQodikpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1V0aWxpdHlGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbcmlnaHRdXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi4oTnVtYmVyfFN0cmluZykpOiBVdGlsaXR5RnVuY3Rpb259XG4gKi9cbmNvbnN0IG1ha2VDaGFpbmFibGUgPSAoZm4sIHJpZ2h0ID0gMCkgPT4gKC4uLmFyZ3MpID0+IChhcmdzLmxlbmd0aCA8IGZuLmxlbmd0aCA/IGNoYWluKGN1cnJ5KGZuLCByaWdodCkpIDogZm4pKC4uLmFyZ3MpO1xuXG4vKipcbiAqIEBjYWxsYmFjayBDaGFpbmVkVXRpbHNSZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICogQHJldHVybiB7TnVtYmVyfVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENoYWluYWJsZVV0aWxzXG4gKiBAcHJvcGVydHkge0NoYWluZWRDbGFtcH0gY2xhbXBcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZFJvdW5kfSByb3VuZFxuICogQHByb3BlcnR5IHtDaGFpbmVkU25hcH0gc25hcFxuICogQHByb3BlcnR5IHtDaGFpbmVkV3JhcH0gd3JhcFxuICogQHByb3BlcnR5IHtDaGFpbmVkSW50ZXJwb2xhdGV9IGludGVycG9sYXRlXG4gKiBAcHJvcGVydHkge0NoYWluZWRNYXBSYW5nZX0gbWFwUmFuZ2VcbiAqIEBwcm9wZXJ0eSB7Q2hhaW5lZFJvdW5kUGFkfSByb3VuZFBhZFxuICogQHByb3BlcnR5IHtDaGFpbmVkUGFkU3RhcnR9IHBhZFN0YXJ0XG4gKiBAcHJvcGVydHkge0NoYWluZWRQYWRFbmR9IHBhZEVuZFxuICogQHByb3BlcnR5IHtDaGFpbmVkRGVnVG9SYWR9IGRlZ1RvUmFkXG4gKiBAcHJvcGVydHkge0NoYWluZWRSYWRUb0RlZ30gcmFkVG9EZWdcbiAqXG4gKiBAdHlwZWRlZiB7Q2hhaW5hYmxlVXRpbHMgJiBDaGFpbmVkVXRpbHNSZXN1bHR9IENoYWluYWJsZVV0aWxcbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZENsYW1wXG4gKiBAcGFyYW0ge051bWJlcn0gbWluXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4XG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkUm91bmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWNpbWFsTGVuZ3RoXG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkU25hcFxuICogQHBhcmFtIHtOdW1iZXJ9IGluY3JlbWVudFxuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZFdyYXBcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRJbnRlcnBvbGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0XG4gKiBAcGFyYW0ge051bWJlcn0gZW5kXG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkTWFwUmFuZ2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbkxvd1xuICogQHBhcmFtIHtOdW1iZXJ9IGluSGlnaFxuICogQHBhcmFtIHtOdW1iZXJ9IG91dExvd1xuICogQHBhcmFtIHtOdW1iZXJ9IG91dEhpZ2hcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRSb3VuZFBhZFxuICogQHBhcmFtIHtOdW1iZXJ9IGRlY2ltYWxMZW5ndGhcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWRQYWRTdGFydFxuICogQHBhcmFtIHtOdW1iZXJ9IHRvdGFsTGVuZ3RoXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFkU3RyaW5nXG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICpcbiAqIEBjYWxsYmFjayBDaGFpbmVkUGFkRW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdG90YWxMZW5ndGhcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYWRTdHJpbmdcbiAqIEByZXR1cm4ge0NoYWluYWJsZVV0aWx9XG4gKlxuICogQGNhbGxiYWNrIENoYWluZWREZWdUb1JhZFxuICogQHJldHVybiB7Q2hhaW5hYmxlVXRpbH1cbiAqXG4gKiBAY2FsbGJhY2sgQ2hhaW5lZFJhZFRvRGVnXG4gKiBAcmV0dXJuIHtDaGFpbmFibGVVdGlsfVxuICovXG5cbmNvbnN0IHV0aWxzID0ge1xuICAkOiByZWdpc3RlclRhcmdldHMsXG4gIGdldDogZ2V0VGFyZ2V0VmFsdWUsXG4gIHNldDogc2V0VGFyZ2V0VmFsdWVzLFxuICByZW1vdmUsXG4gIGNsZWFuSW5saW5lU3R5bGVzLFxuICByYW5kb20sXG4gIHJhbmRvbVBpY2ssXG4gIHNodWZmbGUsXG4gIGxlcnAsXG4gIHN5bmMsXG4gIGNsYW1wOiAvKiogQHR5cGUge3R5cGVvZiBjbGFtcCAmIENoYWluZWRDbGFtcH0gKi8obWFrZUNoYWluYWJsZShjbGFtcCkpLFxuICByb3VuZDogLyoqIEB0eXBlIHt0eXBlb2Ygcm91bmQgJiBDaGFpbmVkUm91bmR9ICovKG1ha2VDaGFpbmFibGUocm91bmQpKSxcbiAgc25hcDogLyoqIEB0eXBlIHt0eXBlb2Ygc25hcCAmIENoYWluZWRTbmFwfSAqLyhtYWtlQ2hhaW5hYmxlKHNuYXApKSxcbiAgd3JhcDogLyoqIEB0eXBlIHt0eXBlb2Ygd3JhcCAmIENoYWluZWRXcmFwfSAqLyhtYWtlQ2hhaW5hYmxlKHdyYXApKSxcbiAgaW50ZXJwb2xhdGU6IC8qKiBAdHlwZSB7dHlwZW9mIGludGVycG9sYXRlICYgQ2hhaW5lZEludGVycG9sYXRlfSAqLyhtYWtlQ2hhaW5hYmxlKGludGVycG9sYXRlLCAxKSksXG4gIG1hcFJhbmdlOiAvKiogQHR5cGUge3R5cGVvZiBtYXBSYW5nZSAmIENoYWluZWRNYXBSYW5nZX0gKi8obWFrZUNoYWluYWJsZShtYXBSYW5nZSkpLFxuICByb3VuZFBhZDogLyoqIEB0eXBlIHt0eXBlb2Ygcm91bmRQYWQgJiBDaGFpbmVkUm91bmRQYWR9ICovKG1ha2VDaGFpbmFibGUocm91bmRQYWQpKSxcbiAgcGFkU3RhcnQ6IC8qKiBAdHlwZSB7dHlwZW9mIHBhZFN0YXJ0ICYgQ2hhaW5lZFBhZFN0YXJ0fSAqLyhtYWtlQ2hhaW5hYmxlKHBhZFN0YXJ0KSksXG4gIHBhZEVuZDogLyoqIEB0eXBlIHt0eXBlb2YgcGFkRW5kICYgQ2hhaW5lZFBhZEVuZH0gKi8obWFrZUNoYWluYWJsZShwYWRFbmQpKSxcbiAgZGVnVG9SYWQ6IC8qKiBAdHlwZSB7dHlwZW9mIGRlZ1RvUmFkICYgQ2hhaW5lZERlZ1RvUmFkfSAqLyhtYWtlQ2hhaW5hYmxlKGRlZ1RvUmFkKSksXG4gIHJhZFRvRGVnOiAvKiogQHR5cGUge3R5cGVvZiByYWRUb0RlZyAmIENoYWluZWRSYWRUb0RlZ30gKi8obWFrZUNoYWluYWJsZShyYWRUb0RlZykpLFxufTtcblxuXG5cblxuLyoqXG4gKiBAdHlwZWRlZiB7TnVtYmVyfFN0cmluZ3xGdW5jdGlvbn0gVGltZVBvc2l0aW9uXG4gKi9cblxuLyoqXG4gKiBUaW1lbGluZSdzIGNoaWxkcmVuIG9mZnNldHMgcG9zaXRpb25zIHBhcnNlclxuICogQHBhcmFtICB7VGltZWxpbmV9IHRpbWVsaW5lXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHRpbWVQb3NpdGlvblxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBnZXRQcmV2Q2hpbGRPZmZzZXQgPSAodGltZWxpbmUsIHRpbWVQb3NpdGlvbikgPT4ge1xuICBpZiAoc3RyaW5nU3RhcnRzV2l0aCh0aW1lUG9zaXRpb24sICc8JykpIHtcbiAgICBjb25zdCBnb1RvUHJldkFuaW1hdGlvbk9mZnNldCA9IHRpbWVQb3NpdGlvblsxXSA9PT0gJzwnO1xuICAgIGNvbnN0IHByZXZBbmltYXRpb24gPSAvKiogQHR5cGUge1RpY2thYmxlfSAqLyh0aW1lbGluZS5fdGFpbCk7XG4gICAgY29uc3QgcHJldk9mZnNldCA9IHByZXZBbmltYXRpb24gPyBwcmV2QW5pbWF0aW9uLl9vZmZzZXQgKyBwcmV2QW5pbWF0aW9uLl9kZWxheSA6IDA7XG4gICAgcmV0dXJuIGdvVG9QcmV2QW5pbWF0aW9uT2Zmc2V0ID8gcHJldk9mZnNldCA6IHByZXZPZmZzZXQgKyBwcmV2QW5pbWF0aW9uLmR1cmF0aW9uO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge1RpbWVsaW5lfSB0aW1lbGluZVxuICogQHBhcmFtICB7VGltZVBvc2l0aW9ufSBbdGltZVBvc2l0aW9uXVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBwYXJzZVRpbWVsaW5lUG9zaXRpb24gPSAodGltZWxpbmUsIHRpbWVQb3NpdGlvbikgPT4ge1xuICBsZXQgdGxEdXJhdGlvbiA9IHRpbWVsaW5lLml0ZXJhdGlvbkR1cmF0aW9uO1xuICBpZiAodGxEdXJhdGlvbiA9PT0gbWluVmFsdWUpIHRsRHVyYXRpb24gPSAwO1xuICBpZiAoaXNVbmQodGltZVBvc2l0aW9uKSkgcmV0dXJuIHRsRHVyYXRpb247XG4gIGlmIChpc051bSgrdGltZVBvc2l0aW9uKSkgcmV0dXJuICt0aW1lUG9zaXRpb247XG4gIGNvbnN0IHRpbWVQb3NTdHIgPSAvKiogQHR5cGUge1N0cmluZ30gKi8odGltZVBvc2l0aW9uKTtcbiAgY29uc3QgdGxMYWJlbHMgPSB0aW1lbGluZSA/IHRpbWVsaW5lLmxhYmVscyA6IG51bGw7XG4gIGNvbnN0IGhhc0xhYmVscyA9ICFpc05pbCh0bExhYmVscyk7XG4gIGNvbnN0IHByZXZPZmZzZXQgPSBnZXRQcmV2Q2hpbGRPZmZzZXQodGltZWxpbmUsIHRpbWVQb3NTdHIpO1xuICBjb25zdCBoYXNTaWJsaW5nID0gIWlzVW5kKHByZXZPZmZzZXQpO1xuICBjb25zdCBtYXRjaGVkUmVsYXRpdmVPcGVyYXRvciA9IHJlbGF0aXZlVmFsdWVzRXhlY1JneC5leGVjKHRpbWVQb3NTdHIpO1xuICBpZiAobWF0Y2hlZFJlbGF0aXZlT3BlcmF0b3IpIHtcbiAgICBjb25zdCBmdWxsT3BlcmF0b3IgPSBtYXRjaGVkUmVsYXRpdmVPcGVyYXRvclswXTtcbiAgICBjb25zdCBzcGxpdCA9IHRpbWVQb3NTdHIuc3BsaXQoZnVsbE9wZXJhdG9yKTtcbiAgICBjb25zdCBsYWJlbE9mZnNldCA9IGhhc0xhYmVscyAmJiBzcGxpdFswXSA/IHRsTGFiZWxzW3NwbGl0WzBdXSA6IHRsRHVyYXRpb247XG4gICAgY29uc3QgcGFyc2VkT2Zmc2V0ID0gaGFzU2libGluZyA/IHByZXZPZmZzZXQgOiBoYXNMYWJlbHMgPyBsYWJlbE9mZnNldCA6IHRsRHVyYXRpb247XG4gICAgY29uc3QgcGFyc2VkTnVtZXJpY2FsT2Zmc2V0ID0gK3NwbGl0WzFdO1xuICAgIHJldHVybiBnZXRSZWxhdGl2ZVZhbHVlKHBhcnNlZE9mZnNldCwgcGFyc2VkTnVtZXJpY2FsT2Zmc2V0LCBmdWxsT3BlcmF0b3JbMF0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBoYXNTaWJsaW5nID8gcHJldk9mZnNldCA6XG4gICAgICAgICAgIGhhc0xhYmVscyA/ICFpc1VuZCh0bExhYmVsc1t0aW1lUG9zU3RyXSkgPyB0bExhYmVsc1t0aW1lUG9zU3RyXSA6XG4gICAgICAgICAgIHRsRHVyYXRpb24gOiB0bER1cmF0aW9uO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7VGltZWxpbmV9IHRsXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFRpbWVsaW5lVG90YWxEdXJhdGlvbih0bCkge1xuICByZXR1cm4gY2xhbXBJbmZpbml0eSgoKHRsLml0ZXJhdGlvbkR1cmF0aW9uICsgdGwuX2xvb3BEZWxheSkgKiB0bC5pdGVyYXRpb25Db3VudCkgLSB0bC5fbG9vcERlbGF5KSB8fCBtaW5WYWx1ZTtcbn1cblxuLyoqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSAge1RpbWVyUGFyYW1zfSBjaGlsZFBhcmFtc1xuICogQHBhcmFtICB7VGltZWxpbmV9IHRsXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVQb3NpdGlvblxuICogQHJldHVybiB7VGltZWxpbmV9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0gIHtBbmltYXRpb25QYXJhbXN9IGNoaWxkUGFyYW1zXG4gKiBAcGFyYW0gIHtUaW1lbGluZX0gdGxcbiAqIEBwYXJhbSAge051bWJlcn0gdGltZVBvc2l0aW9uXG4gKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEBwYXJhbSAge051bWJlcn0gW2luZGV4XVxuICogQHBhcmFtICB7TnVtYmVyfSBbbGVuZ3RoXVxuICogQHJldHVybiB7VGltZWxpbmV9XG4gKlxuICogQHBhcmFtICB7VGltZXJQYXJhbXN8QW5pbWF0aW9uUGFyYW1zfSBjaGlsZFBhcmFtc1xuICogQHBhcmFtICB7VGltZWxpbmV9IHRsXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVQb3NpdGlvblxuICogQHBhcmFtICB7VGFyZ2V0c1BhcmFtfSBbdGFyZ2V0c11cbiAqIEBwYXJhbSAge051bWJlcn0gW2luZGV4XVxuICogQHBhcmFtICB7TnVtYmVyfSBbbGVuZ3RoXVxuICovXG5mdW5jdGlvbiBhZGRUbENoaWxkKGNoaWxkUGFyYW1zLCB0bCwgdGltZVBvc2l0aW9uLCB0YXJnZXRzLCBpbmRleCwgbGVuZ3RoKSB7XG4gIGNvbnN0IGlzU2V0dGVyID0gaXNOdW0oY2hpbGRQYXJhbXMuZHVyYXRpb24pICYmIC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhjaGlsZFBhcmFtcy5kdXJhdGlvbikgPD0gbWluVmFsdWU7XG4gIC8vIE9mZnNldCB0aGUgdGwgcG9zaXRpb24gd2l0aCAtbWluVmFsdWUgZm9yIDAgZHVyYXRpb24gYW5pbWF0aW9ucyBvciAuc2V0KCkgY2FsbHMgaW4gb3JkZXIgdG8gYWxpZ24gdGhlaXIgZW5kIHZhbHVlIHdpdGggdGhlIGRlZmluZWQgcG9zaXRpb25cbiAgY29uc3QgYWRqdXN0ZWRQb3NpdGlvbiA9IGlzU2V0dGVyID8gdGltZVBvc2l0aW9uIC0gbWluVmFsdWUgOiB0aW1lUG9zaXRpb247XG4gIHRpY2sodGwsIGFkanVzdGVkUG9zaXRpb24sIDEsIDEsIHRpY2tNb2Rlcy5BVVRPKTtcbiAgY29uc3QgdGxDaGlsZCA9IHRhcmdldHMgP1xuICAgIG5ldyBKU0FuaW1hdGlvbih0YXJnZXRzLC8qKiBAdHlwZSB7QW5pbWF0aW9uUGFyYW1zfSAqLyhjaGlsZFBhcmFtcyksIHRsLCBhZGp1c3RlZFBvc2l0aW9uLCBmYWxzZSwgaW5kZXgsIGxlbmd0aCkgOlxuICAgIG5ldyBUaW1lcigvKiogQHR5cGUge1RpbWVyUGFyYW1zfSAqLyhjaGlsZFBhcmFtcyksIHRsLCBhZGp1c3RlZFBvc2l0aW9uKTtcbiAgdGxDaGlsZC5pbml0KDEpO1xuICAvLyBUT0RPOiBNaWdodCBiZSBiZXR0ZXIgdG8gaW5zZXJ0IGF0IGEgcG9zaXRpb24gcmVsYXRpdmUgdG8gc3RhcnRUaW1lP1xuICBhZGRDaGlsZCh0bCwgdGxDaGlsZCk7XG4gIGZvckVhY2hDaGlsZHJlbih0bCwgKC8qKiBAdHlwZSB7UmVuZGVyYWJsZX0gKi9jaGlsZCkgPT4ge1xuICAgIGNvbnN0IGNoaWxkVExPZmZzZXQgPSBjaGlsZC5fb2Zmc2V0ICsgY2hpbGQuX2RlbGF5O1xuICAgIGNvbnN0IGNoaWxkRHVyID0gY2hpbGRUTE9mZnNldCArIGNoaWxkLmR1cmF0aW9uO1xuICAgIGlmIChjaGlsZER1ciA+IHRsLml0ZXJhdGlvbkR1cmF0aW9uKSB0bC5pdGVyYXRpb25EdXJhdGlvbiA9IGNoaWxkRHVyO1xuICB9KTtcbiAgdGwuZHVyYXRpb24gPSBnZXRUaW1lbGluZVRvdGFsRHVyYXRpb24odGwpO1xuICByZXR1cm4gdGw7XG59XG5cbmNsYXNzIFRpbWVsaW5lIGV4dGVuZHMgVGltZXIge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RpbWVsaW5lUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHN1cGVyKC8qKiBAdHlwZSB7VGltZXJQYXJhbXMmVGltZWxpbmVQYXJhbXN9ICovKHBhcmFtZXRlcnMpLCBudWxsLCAwKTtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gMDsgLy8gVEwgZHVyYXRpb24gc3RhcnRzIGF0IDAgYW5kIGdyb3dzIHdoZW4gYWRkaW5nIGNoaWxkcmVuXG4gICAgLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBOdW1iZXI+fSAqL1xuICAgIHRoaXMubGFiZWxzID0ge307XG4gICAgY29uc3QgZGVmYXVsdHNQYXJhbXMgPSBwYXJhbWV0ZXJzLmRlZmF1bHRzO1xuICAgIGNvbnN0IGdsb2JhbERlZmF1bHRzID0gZ2xvYmFscy5kZWZhdWx0cztcbiAgICAvKiogQHR5cGUge0RlZmF1bHRzUGFyYW1zfSAqL1xuICAgIHRoaXMuZGVmYXVsdHMgPSBkZWZhdWx0c1BhcmFtcyA/IG1lcmdlT2JqZWN0cyhkZWZhdWx0c1BhcmFtcywgZ2xvYmFsRGVmYXVsdHMpIDogZ2xvYmFsRGVmYXVsdHM7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uUmVuZGVyID0gcGFyYW1ldGVycy5vblJlbmRlciB8fCBnbG9iYWxEZWZhdWx0cy5vblJlbmRlcjtcbiAgICBjb25zdCB0bFBsYXliYWNrRWFzZSA9IHNldFZhbHVlKHBhcmFtZXRlcnMucGxheWJhY2tFYXNlLCBnbG9iYWxEZWZhdWx0cy5wbGF5YmFja0Vhc2UpO1xuICAgIHRoaXMuX2Vhc2UgPSB0bFBsYXliYWNrRWFzZSA/IHBhcnNlRWFzaW5ncyh0bFBsYXliYWNrRWFzZSkgOiBudWxsO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuaXRlcmF0aW9uRHVyYXRpb24gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge1RhcmdldHNQYXJhbX0gYTFcbiAgICogQHBhcmFtIHtBbmltYXRpb25QYXJhbXN9IGEyXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbYTNdXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge1RpbWVyUGFyYW1zfSBhMVxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW2EyXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKiBAcGFyYW0ge1RhcmdldHNQYXJhbXxUaW1lclBhcmFtc30gYTFcbiAgICogQHBhcmFtIHtBbmltYXRpb25QYXJhbXN8VGltZVBvc2l0aW9ufSBhMlxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW2EzXVxuICAgKi9cbiAgYWRkKGExLCBhMiwgYTMpIHtcbiAgICBjb25zdCBpc0FuaW0gPSBpc09iaihhMik7XG4gICAgY29uc3QgaXNUaW1lciA9IGlzT2JqKGExKTtcbiAgICBpZiAoaXNBbmltIHx8IGlzVGltZXIpIHtcbiAgICAgIHRoaXMuX2hhc0NoaWxkcmVuID0gdHJ1ZTtcbiAgICAgIGlmIChpc0FuaW0pIHtcbiAgICAgICAgY29uc3QgY2hpbGRQYXJhbXMgPSAvKiogQHR5cGUge0FuaW1hdGlvblBhcmFtc30gKi8oYTIpO1xuICAgICAgICAvLyBDaGVjayBmb3IgZnVuY3Rpb24gZm9yIGNoaWxkcmVuIHN0YWdnZXIgcG9zaXRpb25zXG4gICAgICAgIGlmIChpc0ZuYyhhMykpIHtcbiAgICAgICAgICBjb25zdCBzdGFnZ2VyZWRQb3NpdGlvbiA9IC8qKiBAdHlwZSB7RnVuY3Rpb259ICovKGEzKTtcbiAgICAgICAgICBjb25zdCBwYXJzZWRUYXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHMoLyoqIEB0eXBlIHtUYXJnZXRzUGFyYW19ICovKGExKSk7XG4gICAgICAgICAgLy8gU3RvcmUgaW5pdGlhbCBkdXJhdGlvbiBiZWZvcmUgYWRkaW5nIG5ldyBjaGlsZHJlbiB0aGF0IHdpbGwgY2hhbmdlIHRoZSBkdXJhdGlvblxuICAgICAgICAgIGNvbnN0IHRsRHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICAgIC8vIFN0b3JlIGluaXRpYWwgX2l0ZXJhdGlvbkR1cmF0aW9uIGJlZm9yZSBhZGRpbmcgbmV3IGNoaWxkcmVuIHRoYXQgd2lsbCBjaGFuZ2UgdGhlIGR1cmF0aW9uXG4gICAgICAgICAgY29uc3QgdGxJdGVyYXRpb25EdXJhdGlvbiA9IHRoaXMuaXRlcmF0aW9uRHVyYXRpb247XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIG9yaWdpbmFsIGlkIGluIG9yZGVyIHRvIGFkZCBzcGVjaWZpYyBpbmRleGVzIHRvIHRoZSBuZXcgYW5pbWF0aW9ucyBpZHNcbiAgICAgICAgICBjb25zdCBpZCA9IGNoaWxkUGFyYW1zLmlkO1xuICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICBjb25zdCBwYXJzZWRMZW5ndGggPSBwYXJzZWRUYXJnZXRzQXJyYXkubGVuZ3RoO1xuICAgICAgICAgIHBhcnNlZFRhcmdldHNBcnJheS5mb3JFYWNoKCgvKiogQHR5cGUge1RhcmdldH0gKi90YXJnZXQpID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJhbWV0ZXIgb2JqZWN0IGZvciBlYWNoIHN0YWdnZXJlZCBjaGlsZHJlblxuICAgICAgICAgICAgY29uc3Qgc3RhZ2dlcmVkQ2hpbGRQYXJhbXMgPSB7IC4uLmNoaWxkUGFyYW1zIH07XG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVsaW5lIGl0ZXJhdGlvbiBiZWZvcmUgZWFjaCBzdGFnZ2VyIHRvIHByZXZlbnQgd3Jvbmcgc3RhcnQgdmFsdWUgY2FsY3VsYXRpb25cbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0bER1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRpb25EdXJhdGlvbiA9IHRsSXRlcmF0aW9uRHVyYXRpb247XG4gICAgICAgICAgICBpZiAoIWlzVW5kKGlkKSkgc3RhZ2dlcmVkQ2hpbGRQYXJhbXMuaWQgPSBpZCArICctJyArIGk7XG4gICAgICAgICAgICBhZGRUbENoaWxkKFxuICAgICAgICAgICAgICBzdGFnZ2VyZWRDaGlsZFBhcmFtcyxcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgc3RhZ2dlcmVkUG9zaXRpb24odGFyZ2V0LCBpLCBwYXJzZWRMZW5ndGgsIHRoaXMpLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgIHBhcnNlZExlbmd0aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRUbENoaWxkKFxuICAgICAgICAgICAgY2hpbGRQYXJhbXMsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgcGFyc2VUaW1lbGluZVBvc2l0aW9uKHRoaXMsIGEzKSxcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7VGFyZ2V0c1BhcmFtfSAqLyhhMSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSXQncyBhIFRpbWVyXG4gICAgICAgIGFkZFRsQ2hpbGQoXG4gICAgICAgICAgLyoqIEB0eXBlIFRpbWVyUGFyYW1zICovKGExKSxcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHBhcnNlVGltZWxpbmVQb3NpdGlvbih0aGlzLC8qKiBAdHlwZSBUaW1lUG9zaXRpb24gKi8oYTIpKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmluaXQoMSk7IC8vIDEgPSBpbnRlcm5hbFJlbmRlclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtUaWNrYWJsZX0gW3N5bmNlZF1cbiAgICogQHBhcmFtIHtUaW1lUG9zaXRpb259IFtwb3NpdGlvbl1cbiAgICogQHJldHVybiB7dGhpc31cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7Z2xvYmFsVGhpcy5BbmltYXRpb259IFtzeW5jZWRdXG4gICAqIEBwYXJhbSB7VGltZVBvc2l0aW9ufSBbcG9zaXRpb25dXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge1dBQVBJQW5pbWF0aW9ufSBbc3luY2VkXVxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKiBAcGFyYW0ge1RpY2thYmxlfFdBQVBJQW5pbWF0aW9ufGdsb2JhbFRoaXMuQW5pbWF0aW9ufSBbc3luY2VkXVxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKi9cbiAgc3luYyhzeW5jZWQsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGlzVW5kKHN5bmNlZCkgfHwgc3luY2VkICYmIGlzVW5kKHN5bmNlZC5wYXVzZSkpIHJldHVybiB0aGlzO1xuICAgIHN5bmNlZC5wYXVzZSgpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gKygvKiogQHR5cGUge2dsb2JhbFRoaXMuQW5pbWF0aW9ufSAqLyhzeW5jZWQpLmVmZmVjdCA/IC8qKiBAdHlwZSB7Z2xvYmFsVGhpcy5BbmltYXRpb259ICovKHN5bmNlZCkuZWZmZWN0LmdldFRpbWluZygpLmR1cmF0aW9uIDogLyoqIEB0eXBlIHtUaWNrYWJsZX0gKi8oc3luY2VkKS5kdXJhdGlvbik7XG4gICAgcmV0dXJuIHRoaXMuYWRkKHN5bmNlZCwgeyBjdXJyZW50VGltZTogWzAsIGR1cmF0aW9uXSwgZHVyYXRpb24sIGVhc2U6ICdsaW5lYXInIH0sIHBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAgICogQHBhcmFtICB7QW5pbWF0aW9uUGFyYW1zfSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSAge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgc2V0KHRhcmdldHMsIHBhcmFtZXRlcnMsIHBvc2l0aW9uKSB7XG4gICAgaWYgKGlzVW5kKHBhcmFtZXRlcnMpKSByZXR1cm4gdGhpcztcbiAgICBwYXJhbWV0ZXJzLmR1cmF0aW9uID0gbWluVmFsdWU7XG4gICAgcGFyYW1ldGVycy5jb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uVHlwZXMucmVwbGFjZTtcbiAgICByZXR1cm4gdGhpcy5hZGQodGFyZ2V0cywgcGFyYW1ldGVycywgcG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FsbGJhY2s8VGltZXI+fSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgY2FsbChjYWxsYmFjaywgcG9zaXRpb24pIHtcbiAgICBpZiAoaXNVbmQoY2FsbGJhY2spIHx8IGNhbGxiYWNrICYmICFpc0ZuYyhjYWxsYmFjaykpIHJldHVybiB0aGlzO1xuICAgIHJldHVybiB0aGlzLmFkZCh7IGR1cmF0aW9uOiAwLCBvbkNvbXBsZXRlOiAoKSA9PiBjYWxsYmFjayh0aGlzKSB9LCBwb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsTmFtZVxuICAgKiBAcGFyYW0ge1RpbWVQb3NpdGlvbn0gW3Bvc2l0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKi9cbiAgbGFiZWwobGFiZWxOYW1lLCBwb3NpdGlvbikge1xuICAgIGlmIChpc1VuZChsYWJlbE5hbWUpIHx8IGxhYmVsTmFtZSAmJiAhaXNTdHIobGFiZWxOYW1lKSkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5sYWJlbHNbbGFiZWxOYW1lXSA9IHBhcnNlVGltZWxpbmVQb3NpdGlvbih0aGlzLC8qKiBAdHlwZSBUaW1lUG9zaXRpb24gKi8ocG9zaXRpb24pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBbcHJvcGVydHlOYW1lXVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgcmVtb3ZlKHRhcmdldHMsIHByb3BlcnR5TmFtZSkge1xuICAgIHJlbW92ZSh0YXJnZXRzLCB0aGlzLCBwcm9wZXJ0eU5hbWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gbmV3RHVyYXRpb25cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHN0cmV0Y2gobmV3RHVyYXRpb24pIHtcbiAgICBjb25zdCBjdXJyZW50RHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uO1xuICAgIGlmIChjdXJyZW50RHVyYXRpb24gPT09IGNsYW1wWmVybyhuZXdEdXJhdGlvbikpIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IHRpbWVTY2FsZSA9IG5ld0R1cmF0aW9uIC8gY3VycmVudER1cmF0aW9uO1xuICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCAoLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9jaGlsZCkgPT4ge1xuICAgICAgY2hpbGQuc3RyZXRjaChjaGlsZC5kdXJhdGlvbiAqIHRpbWVTY2FsZSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgbGFiZWxOYW1lIGluIGxhYmVscykge1xuICAgICAgbGFiZWxzW2xhYmVsTmFtZV0gKj0gdGltZVNjYWxlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuc3RyZXRjaChuZXdEdXJhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHJlZnJlc2goKSB7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL2NoaWxkKSA9PiB7XG4gICAgICBpZiAoY2hpbGQucmVmcmVzaCkgY2hpbGQucmVmcmVzaCgpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICByZXZlcnQoKSB7XG4gICAgc3VwZXIucmV2ZXJ0KCk7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL2NoaWxkKSA9PiBjaGlsZC5yZXZlcnQsIHRydWUpO1xuICAgIHJldHVybiBjbGVhbklubGluZVN0eWxlcyh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtDYWxsYmFjazx0aGlzPn0gW2NhbGxiYWNrXVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgdGhlbihjYWxsYmFjaykge1xuICAgIHJldHVybiBzdXBlci50aGVuKGNhbGxiYWNrKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VGltZWxpbmVQYXJhbXN9IFtwYXJhbWV0ZXJzXVxuICogQHJldHVybiB7VGltZWxpbmV9XG4gKi9cbmNvbnN0IGNyZWF0ZVRpbWVsaW5lID0gcGFyYW1ldGVycyA9PiBuZXcgVGltZWxpbmUocGFyYW1ldGVycykuaW5pdCgpO1xuXG5cblxuXG5jbGFzcyBBbmltYXRhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRzXG4gICAqIEBwYXJhbSB7QW5pbWF0YWJsZVBhcmFtc30gcGFyYW1ldGVyc1xuICAgKi9cbiAgY29uc3RydWN0b3IodGFyZ2V0cywgcGFyYW1ldGVycykge1xuICAgIGlmIChnbG9iYWxzLnNjb3BlKSBnbG9iYWxzLnNjb3BlLnJldmVydGlibGVzLnB1c2godGhpcyk7XG4gICAgLyoqIEB0eXBlIHtBbmltYXRpb25QYXJhbXN9ICovXG4gICAgY29uc3QgZ2xvYmFsUGFyYW1zID0ge307XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgIHRoaXMudGFyZ2V0cyA9IFtdO1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgIGlmIChpc1VuZCh0YXJnZXRzKSB8fCBpc1VuZChwYXJhbWV0ZXJzKSkgcmV0dXJuO1xuICAgIGZvciAobGV0IHByb3BOYW1lIGluIHBhcmFtZXRlcnMpIHtcbiAgICAgIGNvbnN0IHBhcmFtVmFsdWUgPSBwYXJhbWV0ZXJzW3Byb3BOYW1lXTtcbiAgICAgIGlmIChpc0tleShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBwYXJhbVZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsUGFyYW1zW3Byb3BOYW1lXSA9IHBhcmFtVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IHByb3BOYW1lIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BlcnRpZXNbcHJvcE5hbWVdO1xuICAgICAgY29uc3QgaXNPYmpWYWx1ZSA9IGlzT2JqKHByb3BWYWx1ZSk7XG4gICAgICAvKiogQHR5cGUge1R3ZWVuUGFyYW1zT3B0aW9uc30gKi9cbiAgICAgIGxldCBwcm9wUGFyYW1zID0ge307XG4gICAgICBsZXQgdG8gPSAnKz0wJztcbiAgICAgIGlmIChpc09ialZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHVuaXQgPSBwcm9wVmFsdWUudW5pdDtcbiAgICAgICAgaWYgKGlzU3RyKHVuaXQpKSB0byArPSB1bml0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcFBhcmFtcy5kdXJhdGlvbiA9IHByb3BWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHByb3BQYXJhbXNbcHJvcE5hbWVdID0gaXNPYmpWYWx1ZSA/IG1lcmdlT2JqZWN0cyh7IHRvIH0sIHByb3BWYWx1ZSkgOiB0bztcbiAgICAgIGNvbnN0IGFuaW1QYXJhbXMgPSBtZXJnZU9iamVjdHMoZ2xvYmFsUGFyYW1zLCBwcm9wUGFyYW1zKTtcbiAgICAgIGFuaW1QYXJhbXMuY29tcG9zaXRpb24gPSBjb21wb3NpdGlvblR5cGVzLnJlcGxhY2U7XG4gICAgICBhbmltUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbcHJvcE5hbWVdID0gbmV3IEpTQW5pbWF0aW9uKHRhcmdldHMsIGFuaW1QYXJhbXMsIG51bGwsIDAsIGZhbHNlKS5pbml0KCk7XG4gICAgICBpZiAoIXRoaXMudGFyZ2V0cy5sZW5ndGgpIHRoaXMudGFyZ2V0cy5wdXNoKC4uLmFuaW1hdGlvbi50YXJnZXRzKTtcbiAgICAgIC8qKiBAdHlwZSB7QW5pbWF0YWJsZVByb3BlcnR5fSAqL1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSAodG8sIGR1cmF0aW9uLCBlYXNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHR3ZWVuID0gLyoqIEB0eXBlIHtUd2Vlbn0gKi8oYW5pbWF0aW9uLl9oZWFkKTtcbiAgICAgICAgaWYgKGlzVW5kKHRvKSAmJiB0d2Vlbikge1xuICAgICAgICAgIGNvbnN0IG51bWJlcnMgPSB0d2Vlbi5fbnVtYmVycztcbiAgICAgICAgICBpZiAobnVtYmVycyAmJiBudW1iZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0d2Vlbi5fbW9kaWZpZXIodHdlZW4uX251bWJlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvckVhY2hDaGlsZHJlbihhbmltYXRpb24sICgvKiogQHR5cGUge1R3ZWVufSAqL3R3ZWVuKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBcnIodG8pKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gLyoqIEB0eXBlIHtBcnJheX0gKi8odG8pLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghaXNVbmQodHdlZW4uX251bWJlcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICB0d2Vlbi5fZnJvbU51bWJlcnNbaV0gPSAvKiogQHR5cGUge051bWJlcn0gKi8odHdlZW4uX21vZGlmaWVyKHR3ZWVuLl9udW1iZXJzW2ldKSk7XG4gICAgICAgICAgICAgICAgICB0d2Vlbi5fdG9OdW1iZXJzW2ldID0gdG9baV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0d2Vlbi5fZnJvbU51bWJlciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh0d2Vlbi5fbW9kaWZpZXIodHdlZW4uX251bWJlcikpO1xuICAgICAgICAgICAgICB0d2Vlbi5fdG9OdW1iZXIgPSAvKiogQHR5cGUge051bWJlcn0gKi8odG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1VuZChlYXNlKSkgdHdlZW4uX2Vhc2UgPSBwYXJzZUVhc2luZ3MoZWFzZSk7XG4gICAgICAgICAgICB0d2Vlbi5fY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghaXNVbmQoZHVyYXRpb24pKSBhbmltYXRpb24uc3RyZXRjaChkdXJhdGlvbik7XG4gICAgICAgICAgYW5pbWF0aW9uLnJlc2V0KDEpLnJlc3VtZSgpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldmVydCgpIHtcbiAgICBmb3IgKGxldCBwcm9wTmFtZSBpbiB0aGlzLmFuaW1hdGlvbnMpIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9vcDtcbiAgICAgIHRoaXMuYW5pbWF0aW9uc1twcm9wTmFtZV0ucmV2ZXJ0KCk7XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgIHRoaXMudGFyZ2V0cy5sZW5ndGggPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldHNcbiAqIEBwYXJhbSB7QW5pbWF0YWJsZVBhcmFtc30gcGFyYW1ldGVyc1xuICogQHJldHVybiB7QW5pbWF0YWJsZU9iamVjdH1cbiAqL1xuY29uc3QgY3JlYXRlQW5pbWF0YWJsZSA9ICh0YXJnZXRzLCBwYXJhbWV0ZXJzKSA9PiAvKiogQHR5cGUge0FuaW1hdGFibGVPYmplY3R9ICovKG5ldyBBbmltYXRhYmxlKHRhcmdldHMsIHBhcmFtZXRlcnMpKTtcblxuXG5cblxuLypcbiAqIFNwcmluZyBlYXNlIHNvbHZlciBhZGFwdGVkIGZyb20gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcbiAqIFdlYmtpdCBDb3B5cmlnaHQgXHUwMEE5IDIwMTYgQXBwbGUgSW5jXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTcHJpbmdQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWFzcz0xXSAtIE1hc3MsIGRlZmF1bHQgMVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtzdGlmZm5lc3M9MTAwXSAtIFN0aWZmbmVzcywgZGVmYXVsdCAxMDBcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZGFtcGluZz0xMF0gLSBEYW1waW5nLCBkZWZhdWx0IDEwXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3ZlbG9jaXR5PTBdIC0gSW5pdGlhbCB2ZWxvY2l0eSwgZGVmYXVsdCAwXG4gKi9cblxuY2xhc3MgU3ByaW5nIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7U3ByaW5nUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHRoaXMudGltZVN0ZXAgPSAuMDI7IC8vIEludGVydmFsIGZlZCB0byB0aGUgc29sdmVyIHRvIGNhbGN1bGF0ZSBkdXJhdGlvblxuICAgIHRoaXMucmVzdFRocmVzaG9sZCA9IC4wMDA1OyAvLyBWYWx1ZXMgYmVsb3cgdGhpcyB0aHJlc2hvbGQgYXJlIGNvbnNpZGVyZWQgcmVzdGluZyBwb3NpdGlvblxuICAgIHRoaXMucmVzdER1cmF0aW9uID0gMjAwOyAvLyBEdXJhdGlvbiBpbiBtcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBzcHJpbmcgaXMgcmVzdGluZyBhZnRlciByZWFjaGluZyByZXN0VGhyZXNob2xkXG4gICAgdGhpcy5tYXhEdXJhdGlvbiA9IDYwMDAwOyAvLyBUaGUgbWF4aW11bSBhbGxvd2VkIHNwcmluZyBkdXJhdGlvbiBpbiBtcyAoZGVmYXVsdCAxIG1pbilcbiAgICB0aGlzLm1heFJlc3RTdGVwcyA9IHRoaXMucmVzdER1cmF0aW9uIC8gdGhpcy50aW1lU3RlcCAvIEs7IC8vIEhvdyBtYW55IHN0ZXBzIGFsbG93ZWQgYWZ0ZXIgcmVhY2hpbmcgcmVzdFRocmVzaG9sZCBiZWZvcmUgc3RvcHBpbmcgdGhlIGR1cmF0aW9uIGNhbGN1bGF0aW9uXG4gICAgdGhpcy5tYXhJdGVyYXRpb25zID0gdGhpcy5tYXhEdXJhdGlvbiAvIHRoaXMudGltZVN0ZXAgLyBLOyAvLyBDYWxjdWxhdGUgdGhlIG1heGltdW0gaXRlcmF0aW9ucyBhbGxvd2VkIGJhc2VkIG9uIG1heER1cmF0aW9uXG4gICAgdGhpcy5tID0gY2xhbXAoc2V0VmFsdWUocGFyYW1ldGVycy5tYXNzLCAxKSwgMCwgSyk7XG4gICAgdGhpcy5zID0gY2xhbXAoc2V0VmFsdWUocGFyYW1ldGVycy5zdGlmZm5lc3MsIDEwMCksIDEsIEspO1xuICAgIHRoaXMuZCA9IGNsYW1wKHNldFZhbHVlKHBhcmFtZXRlcnMuZGFtcGluZywgMTApLCAuMSwgSyk7XG4gICAgdGhpcy52ID0gY2xhbXAoc2V0VmFsdWUocGFyYW1ldGVycy52ZWxvY2l0eSwgMCksIC0xZTMsIEspO1xuICAgIHRoaXMudzAgPSAwO1xuICAgIHRoaXMuemV0YSA9IDA7XG4gICAgdGhpcy53ZCA9IDA7XG4gICAgdGhpcy5iID0gMDtcbiAgICB0aGlzLnNvbHZlckR1cmF0aW9uID0gMDtcbiAgICB0aGlzLmR1cmF0aW9uID0gMDtcbiAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICAvKiogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufSAqL1xuICAgIHRoaXMuZWFzZSA9IHQgPT4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IHRoaXMuc29sdmUodCAqIHRoaXMuc29sdmVyRHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgc29sdmUodGltZSkge1xuICAgIGNvbnN0IHsgemV0YSwgdzAsIHdkLCBiIH0gPSB0aGlzO1xuICAgIGxldCB0ID0gdGltZTtcbiAgICBpZiAoemV0YSA8IDEpIHtcbiAgICAgIHQgPSBleHAoLXQgKiB6ZXRhICogdzApICogKDEgKiBjb3Mod2QgKiB0KSArIGIgKiBzaW4od2QgKiB0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQgPSAoMSArIGIgKiB0KSAqIGV4cCgtdCAqIHcwKTtcbiAgICB9XG4gICAgcmV0dXJuIDEgLSB0O1xuICB9XG5cbiAgY29tcHV0ZSgpIHtcbiAgICBjb25zdCB7IG1heFJlc3RTdGVwcywgbWF4SXRlcmF0aW9ucywgcmVzdFRocmVzaG9sZCwgdGltZVN0ZXAsIG0sIGQsIHMsIHYgfSA9IHRoaXM7XG4gICAgY29uc3QgdzAgPSB0aGlzLncwID0gY2xhbXAoc3FydChzIC8gbSksIG1pblZhbHVlLCBLKTtcbiAgICBjb25zdCB6ZXRhID0gdGhpcy56ZXRhID0gZCAvICgyICogc3FydChzICogbSkpO1xuICAgIGNvbnN0IHdkID0gdGhpcy53ZCA9IHpldGEgPCAxID8gdzAgKiBzcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICAgIHRoaXMuYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12KSAvIHdkIDogLXYgKyB3MDtcbiAgICBsZXQgc29sdmVyVGltZSA9IDA7XG4gICAgbGV0IHJlc3RTdGVwcyA9IDA7XG4gICAgbGV0IGl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlIChyZXN0U3RlcHMgPCBtYXhSZXN0U3RlcHMgJiYgaXRlcmF0aW9ucyA8IG1heEl0ZXJhdGlvbnMpIHtcbiAgICAgIGlmIChhYnMoMSAtIHRoaXMuc29sdmUoc29sdmVyVGltZSkpIDwgcmVzdFRocmVzaG9sZCkge1xuICAgICAgICByZXN0U3RlcHMrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3RTdGVwcyA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLnNvbHZlckR1cmF0aW9uID0gc29sdmVyVGltZTtcbiAgICAgIHNvbHZlclRpbWUgKz0gdGltZVN0ZXA7XG4gICAgICBpdGVyYXRpb25zKys7XG4gICAgfVxuICAgIHRoaXMuZHVyYXRpb24gPSByb3VuZCh0aGlzLnNvbHZlckR1cmF0aW9uICogSywgMCkgKiBnbG9iYWxzLnRpbWVTY2FsZTtcbiAgfVxuXG4gIGdldCBtYXNzKCkge1xuICAgIHJldHVybiB0aGlzLm07XG4gIH1cblxuICBzZXQgbWFzcyh2KSB7XG4gICAgdGhpcy5tID0gY2xhbXAoc2V0VmFsdWUodiwgMSksIDAsIEspO1xuICAgIHRoaXMuY29tcHV0ZSgpO1xuICB9XG5cbiAgZ2V0IHN0aWZmbmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5zO1xuICB9XG5cbiAgc2V0IHN0aWZmbmVzcyh2KSB7XG4gICAgdGhpcy5zID0gY2xhbXAoc2V0VmFsdWUodiwgMTAwKSwgMSwgSyk7XG4gICAgdGhpcy5jb21wdXRlKCk7XG4gIH1cblxuICBnZXQgZGFtcGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5kO1xuICB9XG5cbiAgc2V0IGRhbXBpbmcodikge1xuICAgIHRoaXMuZCA9IGNsYW1wKHNldFZhbHVlKHYsIDEwKSwgLjEsIEspO1xuICAgIHRoaXMuY29tcHV0ZSgpO1xuICB9XG5cbiAgZ2V0IHZlbG9jaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnY7XG4gIH1cblxuICBzZXQgdmVsb2NpdHkodikge1xuICAgIHRoaXMudiA9IGNsYW1wKHNldFZhbHVlKHYsIDApLCAtMWUzLCBLKTtcbiAgICB0aGlzLmNvbXB1dGUoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7U3ByaW5nUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAqIEByZXR1cm5zIHtTcHJpbmd9XG4gKi9cbmNvbnN0IGNyZWF0ZVNwcmluZyA9IChwYXJhbWV0ZXJzKSA9PiBuZXcgU3ByaW5nKHBhcmFtZXRlcnMpO1xuXG5cblxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGVcbiAqL1xuY29uc3QgcHJldmVudERlZmF1bHQgPSBlID0+IHtcbiAgaWYgKGUuY2FuY2VsYWJsZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xufTtcblxuY2xhc3MgRE9NUHJveHkge1xuICAvKiogQHBhcmFtIHtPYmplY3R9IGVsICovXG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuekluZGV4ID0gMDtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY2xhc3NMaXN0ID0ge1xuICAgICAgYWRkOiBub29wLFxuICAgICAgcmVtb3ZlOiBub29wLFxuICAgIH07XG4gIH1cblxuICBnZXQgeCgpIHsgcmV0dXJuIHRoaXMuZWwueCB8fCAwIH07XG4gIHNldCB4KHYpIHsgdGhpcy5lbC54ID0gdjsgfTtcblxuICBnZXQgeSgpIHsgcmV0dXJuIHRoaXMuZWwueSB8fCAwIH07XG4gIHNldCB5KHYpIHsgdGhpcy5lbC55ID0gdjsgfTtcblxuICBnZXQgd2lkdGgoKSB7IHJldHVybiB0aGlzLmVsLndpZHRoIHx8IDAgfTtcbiAgc2V0IHdpZHRoKHYpIHsgdGhpcy5lbC53aWR0aCA9IHY7IH07XG5cbiAgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMuZWwuaGVpZ2h0IHx8IDAgfTtcbiAgc2V0IGhlaWdodCh2KSB7IHRoaXMuZWwuaGVpZ2h0ID0gdjsgfTtcblxuICBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogdGhpcy55LFxuICAgICAgcmlnaHQ6IHRoaXMueCxcbiAgICAgIGJvdHRvbTogdGhpcy55ICsgdGhpcy5oZWlnaHQsXG4gICAgICBsZWZ0OiB0aGlzLnggKyB0aGlzLndpZHRoLFxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBUcmFuc2Zvcm1zIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NVGFyZ2V0fERPTVByb3h5fSAkZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCRlbCkge1xuICAgIHRoaXMuJGVsID0gJGVsO1xuICAgIHRoaXMuaW5saW5lVHJhbnNmb3JtcyA9IFtdO1xuICAgIHRoaXMucG9pbnQgPSBuZXcgRE9NUG9pbnQoKTtcbiAgICB0aGlzLmludmVyc2VkTWF0cml4ID0gdGhpcy5nZXRNYXRyaXgoKS5pbnZlcnNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICogQHJldHVybiB7RE9NUG9pbnR9XG4gICAqL1xuICBub3JtYWxpemVQb2ludCh4LCB5KSB7XG4gICAgdGhpcy5wb2ludC54ID0geDtcbiAgICB0aGlzLnBvaW50LnkgPSB5O1xuICAgIHJldHVybiB0aGlzLnBvaW50Lm1hdHJpeFRyYW5zZm9ybSh0aGlzLmludmVyc2VkTWF0cml4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgVHJhdmVyc2VQYXJlbnRzQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtET01UYXJnZXR9ICRlbFxuICAgKiBAcGFyYW0ge051bWJlcn0gaVxuICAgKi9cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmF2ZXJzZVBhcmVudHNDYWxsYmFja30gY2JcbiAgICovXG4gIHRyYXZlcnNlVXAoY2IpIHtcbiAgICBsZXQgJGVsID0gLyoqIEB0eXBlIHtET01UYXJnZXR8RG9jdW1lbnR9ICovKHRoaXMuJGVsLnBhcmVudEVsZW1lbnQpLCBpID0gMDtcbiAgICB3aGlsZSAoJGVsICYmICRlbCAhPT0gZG9jKSB7XG4gICAgICBjYigvKiogQHR5cGUge0RPTVRhcmdldH0gKi8oJGVsKSwgaSk7XG4gICAgICAkZWwgPSAvKiogQHR5cGUge0RPTVRhcmdldH0gKi8oJGVsLnBhcmVudEVsZW1lbnQpO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGdldE1hdHJpeCgpIHtcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgRE9NTWF0cml4KCk7XG4gICAgdGhpcy50cmF2ZXJzZVVwKCRlbCA9PiB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1WYWx1ZSA9IGdldENvbXB1dGVkU3R5bGUoJGVsKS50cmFuc2Zvcm07XG4gICAgICBpZiAodHJhbnNmb3JtVmFsdWUpIHtcbiAgICAgICAgY29uc3QgZWxNYXRyaXggPSBuZXcgRE9NTWF0cml4KHRyYW5zZm9ybVZhbHVlKTtcbiAgICAgICAgbWF0cml4LnByZU11bHRpcGx5U2VsZihlbE1hdHJpeCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRyYXZlcnNlVXAoKCRlbCwgaSkgPT4ge1xuICAgICAgdGhpcy5pbmxpbmVUcmFuc2Zvcm1zW2ldID0gJGVsLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICRlbC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgfSk7XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgdGhpcy50cmF2ZXJzZVVwKCgkZWwsIGkpID0+IHtcbiAgICAgIGNvbnN0IGN0ID0gdGhpcy5pbmxpbmVUcmFuc2Zvcm1zW2ldO1xuICAgICAgaWYgKGN0ID09PSAnJykge1xuICAgICAgICAkZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zZm9ybScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsLnN0eWxlLnRyYW5zZm9ybSA9IGN0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRHJhZ2dhYmxlQ3Vyc29yUGFyYW1zXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW29uSG92ZXJdXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW29uR3JhYl1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7QXJyYXk8TnVtYmVyPnxET01UYXJnZXRTZWxlY3RvcnxTdHJpbmd8TnVtYmVyfEJvb2xlYW58RnVuY3Rpb258RHJhZ2dhYmxlQ3Vyc29yUGFyYW1zfSBUXG4gKiBAcGFyYW0ge1QgfCAoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBUKX0gdmFsdWVcbiAqIEBwYXJhbSB7RHJhZ2dhYmxlfSBkcmFnZ2FibGVcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmNvbnN0IHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIgPSAodmFsdWUsIGRyYWdnYWJsZSkgPT4gdmFsdWUgJiYgaXNGbmModmFsdWUpID8gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8odmFsdWUpKGRyYWdnYWJsZSkgOiB2YWx1ZTtcblxubGV0IHpJbmRleCA9IDA7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRHJhZ2dhYmxlQXhpc1BhcmFtXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW21hcFRvXVxuICogQHByb3BlcnR5IHtUd2Vlbk1vZGlmaWVyfSBbbW9kaWZpZXJdXG4gKiBAcHJvcGVydHkge1R3ZWVuQ29tcG9zaXRpb259IFtjb21wb3NpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfEFycmF5PE51bWJlcj58KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyfEFycmF5PE51bWJlcj4pfSBbc25hcF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERyYWdnYWJsZVBhcmFtc1xuICogQHByb3BlcnR5IHtET01UYXJnZXRTZWxlY3Rvcn0gW3RyaWdnZXJdXG4gKiBAcHJvcGVydHkge0RPTVRhcmdldFNlbGVjdG9yfEFycmF5PE51bWJlcj58KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gRE9NVGFyZ2V0U2VsZWN0b3J8QXJyYXk8TnVtYmVyPil9IFtjb250YWluZXJdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW58RHJhZ2dhYmxlQXhpc1BhcmFtfSBbeF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxEcmFnZ2FibGVBeGlzUGFyYW19IFt5XVxuICogQHByb3BlcnR5IHtUd2Vlbk1vZGlmaWVyfSBbbW9kaWZpZXJdXG4gKiBAcHJvcGVydHkge051bWJlcnxBcnJheTxOdW1iZXI+fCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcnxBcnJheTxOdW1iZXI+KX0gW3NuYXBdXG4gKiBAcHJvcGVydHkge051bWJlcnxBcnJheTxOdW1iZXI+fCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcnxBcnJheTxOdW1iZXI+KX0gW2NvbnRhaW5lclBhZGRpbmddXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbY29udGFpbmVyRnJpY3Rpb25dXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbcmVsZWFzZUNvbnRhaW5lckZyaWN0aW9uXVxuICogQHByb3BlcnR5IHtOdW1iZXJ8KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gTnVtYmVyKX0gW2RyYWdTcGVlZF1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFtzY3JvbGxTcGVlZF1cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfCgoZHJhZ2dhYmxlOiBEcmFnZ2FibGUpID0+IE51bWJlcil9IFtzY3JvbGxUaHJlc2hvbGRdXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbbWluVmVsb2NpdHldXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbbWF4VmVsb2NpdHldXG4gKiBAcHJvcGVydHkge051bWJlcnwoKGRyYWdnYWJsZTogRHJhZ2dhYmxlKSA9PiBOdW1iZXIpfSBbdmVsb2NpdHlNdWx0aXBsaWVyXVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtyZWxlYXNlTWFzc11cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcmVsZWFzZVN0aWZmbmVzc11cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcmVsZWFzZURhbXBpbmddXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtyZWxlYXNlRGFtcGluZ11cbiAqIEBwcm9wZXJ0eSB7RWFzaW5nUGFyYW19IFtyZWxlYXNlRWFzZV1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxEcmFnZ2FibGVDdXJzb3JQYXJhbXN8KChkcmFnZ2FibGU6IERyYWdnYWJsZSkgPT4gQm9vbGVhbnxEcmFnZ2FibGVDdXJzb3JQYXJhbXMpfSBbY3Vyc29yXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25HcmFiXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25EcmFnXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25SZWxlYXNlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25VcGRhdGVdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPERyYWdnYWJsZT59IFtvblNldHRsZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8RHJhZ2dhYmxlPn0gW29uU25hcF1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8RHJhZ2dhYmxlPn0gW29uUmVzaXplXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxEcmFnZ2FibGU+fSBbb25BZnRlclJlc2l6ZV1cbiAqL1xuXG5jbGFzcyBEcmFnZ2FibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtUYXJnZXRzUGFyYW19IHRhcmdldFxuICAgKiBAcGFyYW0ge0RyYWdnYWJsZVBhcmFtc30gW3BhcmFtZXRlcnNdXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcbiAgICBjb25zdCBwYXJhbVggPSBwYXJhbWV0ZXJzLng7XG4gICAgY29uc3QgcGFyYW1ZID0gcGFyYW1ldGVycy55O1xuICAgIGNvbnN0IHRyaWdnZXIgPSBwYXJhbWV0ZXJzLnRyaWdnZXI7XG4gICAgY29uc3QgbW9kaWZpZXIgPSBwYXJhbWV0ZXJzLm1vZGlmaWVyO1xuICAgIGNvbnN0IGVhc2UgPSBwYXJhbWV0ZXJzLnJlbGVhc2VFYXNlO1xuICAgIGNvbnN0IGN1c3RvbUVhc2UgPSBlYXNlICYmIHBhcnNlRWFzaW5ncyhlYXNlKTtcbiAgICBjb25zdCBoYXNTcHJpbmcgPSAhaXNVbmQoZWFzZSkgJiYgIWlzVW5kKC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKS5lYXNlKTtcbiAgICBjb25zdCB4UHJvcCA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhpc09iaihwYXJhbVgpICYmICFpc1VuZCgvKiogQHR5cGUge09iamVjdH0gKi8ocGFyYW1YKS5tYXBUbykgPyAvKiogQHR5cGUge09iamVjdH0gKi8ocGFyYW1YKS5tYXBUbyA6ICd0cmFuc2xhdGVYJyk7XG4gICAgY29uc3QgeVByb3AgPSAvKiogQHR5cGUge1N0cmluZ30gKi8oaXNPYmoocGFyYW1ZKSAmJiAhaXNVbmQoLyoqIEB0eXBlIHtPYmplY3R9ICovKHBhcmFtWSkubWFwVG8pID8gLyoqIEB0eXBlIHtPYmplY3R9ICovKHBhcmFtWSkubWFwVG8gOiAndHJhbnNsYXRlWScpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1ldGVycy5jb250YWluZXIsIHRoaXMpO1xuICAgIHRoaXMuY29udGFpbmVyQXJyYXkgPSBpc0Fycihjb250YWluZXIpID8gY29udGFpbmVyIDogbnVsbDtcbiAgICB0aGlzLiRjb250YWluZXIgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhjb250YWluZXIgJiYgIXRoaXMuY29udGFpbmVyQXJyYXkgPyBwYXJzZVRhcmdldHMoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKGNvbnRhaW5lcikpWzBdIDogZG9jLmJvZHkpO1xuICAgIHRoaXMudXNlV2luID0gdGhpcy4kY29udGFpbmVyID09PSBkb2MuYm9keTtcbiAgICAvKiogQHR5cGUge1dpbmRvdyB8IEhUTUxFbGVtZW50fSAqL1xuICAgIHRoaXMuJHNjcm9sbENvbnRhaW5lciA9IHRoaXMudXNlV2luID8gd2luIDogdGhpcy4kY29udGFpbmVyO1xuICAgIHRoaXMuJHRhcmdldCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGlzT2JqKHRhcmdldCkgPyBuZXcgRE9NUHJveHkodGFyZ2V0KSA6IHBhcnNlVGFyZ2V0cyh0YXJnZXQpWzBdKTtcbiAgICB0aGlzLiR0cmlnZ2VyID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8ocGFyc2VUYXJnZXRzKHRyaWdnZXIgPyB0cmlnZ2VyIDogdGFyZ2V0KVswXSk7XG4gICAgdGhpcy5maXhlZCA9IGdldFRhcmdldFZhbHVlKHRoaXMuJHRhcmdldCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCc7XG4gICAgLy8gUmVmcmVzaGFibGUgcGFyYW1ldGVyc1xuICAgIHRoaXMuaXNGaW5lUG9pbnRlciA9IHRydWU7XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLmNvbnRhaW5lclBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5jb250YWluZXJGcmljdGlvbiA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5yZWxlYXNlQ29udGFpbmVyRnJpY3Rpb24gPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfEFycmF5PE51bWJlcj59ICovXG4gICAgdGhpcy5zbmFwWCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ8QXJyYXk8TnVtYmVyPn0gKi9cbiAgICB0aGlzLnNuYXBZID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnNjcm9sbFNwZWVkID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnNjcm9sbFRocmVzaG9sZCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5kcmFnU3BlZWQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMubWF4VmVsb2NpdHkgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMubWluVmVsb2NpdHkgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlNdWx0aXBsaWVyID0gMDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW58RHJhZ2dhYmxlQ3Vyc29yUGFyYW1zfSAqL1xuICAgIHRoaXMuY3Vyc29yID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtTcHJpbmd9ICovXG4gICAgdGhpcy5yZWxlYXNlWFNwcmluZyA9IGhhc1NwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKSA6IGNyZWF0ZVNwcmluZyh7XG4gICAgICBtYXNzOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VNYXNzLCAxKSxcbiAgICAgIHN0aWZmbmVzczogc2V0VmFsdWUocGFyYW1ldGVycy5yZWxlYXNlU3RpZmZuZXNzLCA4MCksXG4gICAgICBkYW1waW5nOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VEYW1waW5nLCAyMCksXG4gICAgfSk7XG4gICAgLyoqIEB0eXBlIHtTcHJpbmd9ICovXG4gICAgdGhpcy5yZWxlYXNlWVNwcmluZyA9IGhhc1NwcmluZyA/IC8qKiBAdHlwZSB7U3ByaW5nfSAqLyhlYXNlKSA6IGNyZWF0ZVNwcmluZyh7XG4gICAgICBtYXNzOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VNYXNzLCAxKSxcbiAgICAgIHN0aWZmbmVzczogc2V0VmFsdWUocGFyYW1ldGVycy5yZWxlYXNlU3RpZmZuZXNzLCA4MCksXG4gICAgICBkYW1waW5nOiBzZXRWYWx1ZShwYXJhbWV0ZXJzLnJlbGVhc2VEYW1waW5nLCAyMCksXG4gICAgfSk7XG4gICAgLyoqIEB0eXBlIHtFYXNpbmdGdW5jdGlvbn0gKi9cbiAgICB0aGlzLnJlbGVhc2VFYXNlID0gY3VzdG9tRWFzZSB8fCBlYXNlcy5vdXRRdWludDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5oYXNSZWxlYXNlU3ByaW5nID0gaGFzU3ByaW5nO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkdyYWIgPSBwYXJhbWV0ZXJzLm9uR3JhYiB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkRyYWcgPSBwYXJhbWV0ZXJzLm9uRHJhZyB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vblJlbGVhc2UgPSBwYXJhbWV0ZXJzLm9uUmVsZWFzZSB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vblVwZGF0ZSA9IHBhcmFtZXRlcnMub25VcGRhdGUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPHRoaXM+fSAqL1xuICAgIHRoaXMub25TZXR0bGUgPSBwYXJhbWV0ZXJzLm9uU2V0dGxlIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uU25hcCA9IHBhcmFtZXRlcnMub25TbmFwIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazx0aGlzPn0gKi9cbiAgICB0aGlzLm9uUmVzaXplID0gcGFyYW1ldGVycy5vblJlc2l6ZSB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8dGhpcz59ICovXG4gICAgdGhpcy5vbkFmdGVyUmVzaXplID0gcGFyYW1ldGVycy5vbkFmdGVyUmVzaXplIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuZGlzYWJsZWQgPSBbMCwgMF07XG4gICAgLyoqIEB0eXBlIHtBbmltYXRhYmxlUGFyYW1zfSAqL1xuICAgIGNvbnN0IGFuaW1hdGFibGVQYXJhbXMgPSB7fTtcbiAgICBpZiAobW9kaWZpZXIpIGFuaW1hdGFibGVQYXJhbXMubW9kaWZpZXIgPSBtb2RpZmllcjtcbiAgICBpZiAoaXNVbmQocGFyYW1YKSB8fCBwYXJhbVggPT09IHRydWUpIHtcbiAgICAgIGFuaW1hdGFibGVQYXJhbXNbeFByb3BdID0gMDtcbiAgICB9IGVsc2UgaWYgKGlzT2JqKHBhcmFtWCkpIHtcbiAgICAgIGNvbnN0IHBhcmFtWE9iamVjdCA9IC8qKiBAdHlwZSB7RHJhZ2dhYmxlQXhpc1BhcmFtfSAqLyhwYXJhbVgpO1xuICAgICAgY29uc3QgYW5pbWF0YWJsZVhQYXJhbXMgPSB7fTtcbiAgICAgIGlmIChwYXJhbVhPYmplY3QubW9kaWZpZXIpIGFuaW1hdGFibGVYUGFyYW1zLm1vZGlmaWVyID0gcGFyYW1YT2JqZWN0Lm1vZGlmaWVyO1xuICAgICAgaWYgKHBhcmFtWE9iamVjdC5jb21wb3NpdGlvbikgYW5pbWF0YWJsZVhQYXJhbXMuY29tcG9zaXRpb24gPSBwYXJhbVhPYmplY3QuY29tcG9zaXRpb247XG4gICAgICBhbmltYXRhYmxlUGFyYW1zW3hQcm9wXSA9IGFuaW1hdGFibGVYUGFyYW1zO1xuICAgIH0gZWxzZSBpZiAocGFyYW1YID09PSBmYWxzZSkge1xuICAgICAgYW5pbWF0YWJsZVBhcmFtc1t4UHJvcF0gPSAwO1xuICAgICAgdGhpcy5kaXNhYmxlZFswXSA9IDE7XG4gICAgfVxuICAgIGlmIChpc1VuZChwYXJhbVkpIHx8IHBhcmFtWSA9PT0gdHJ1ZSkge1xuICAgICAgYW5pbWF0YWJsZVBhcmFtc1t5UHJvcF0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaXNPYmoocGFyYW1ZKSkge1xuICAgICAgY29uc3QgcGFyYW1ZT2JqZWN0ID0gLyoqIEB0eXBlIHtEcmFnZ2FibGVBeGlzUGFyYW19ICovKHBhcmFtWSk7XG4gICAgICBjb25zdCBhbmltYXRhYmxlWVBhcmFtcyA9IHt9O1xuICAgICAgaWYgKHBhcmFtWU9iamVjdC5tb2RpZmllcikgYW5pbWF0YWJsZVlQYXJhbXMubW9kaWZpZXIgPSBwYXJhbVlPYmplY3QubW9kaWZpZXI7XG4gICAgICBpZiAocGFyYW1ZT2JqZWN0LmNvbXBvc2l0aW9uKSBhbmltYXRhYmxlWVBhcmFtcy5jb21wb3NpdGlvbiA9IHBhcmFtWU9iamVjdC5jb21wb3NpdGlvbjtcbiAgICAgIGFuaW1hdGFibGVQYXJhbXNbeVByb3BdID0gYW5pbWF0YWJsZVlQYXJhbXM7XG4gICAgfSBlbHNlIGlmIChwYXJhbVkgPT09IGZhbHNlKSB7XG4gICAgICBhbmltYXRhYmxlUGFyYW1zW3lQcm9wXSA9IDA7XG4gICAgICB0aGlzLmRpc2FibGVkWzFdID0gMTtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtBbmltYXRhYmxlT2JqZWN0fSAqL1xuICAgIHRoaXMuYW5pbWF0ZSA9IC8qKiBAdHlwZSB7QW5pbWF0YWJsZU9iamVjdH0gKi8obmV3IEFuaW1hdGFibGUodGhpcy4kdGFyZ2V0LCBhbmltYXRhYmxlUGFyYW1zKSk7XG4gICAgLy8gSW50ZXJuYWwgcHJvcHNcbiAgICB0aGlzLnhQcm9wID0geFByb3A7XG4gICAgdGhpcy55UHJvcCA9IHlQcm9wO1xuICAgIHRoaXMuZGVzdFggPSAwO1xuICAgIHRoaXMuZGVzdFkgPSAwO1xuICAgIHRoaXMuZGVsdGFYID0gMDtcbiAgICB0aGlzLmRlbHRhWSA9IDA7XG4gICAgdGhpcy5zY3JvbGwgPSB7eDogMCwgeTogMH07XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLmNvb3JkcyA9IFt0aGlzLngsIHRoaXMueSwgMCwgMF07IC8vIHgsIHksIHRlbXAgeCwgdGVtcCB5XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuc25hcHBlZCA9IFswLCAwXTsgLy8geCwgeVxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLnBvaW50ZXIgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07IC8vIHgxLCB5MSwgeDIsIHkyLCB0ZW1wIHgxLCB0ZW1wIHkxLCB0ZW1wIHgyLCB0ZW1wIHkyXG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXJdfSAqL1xuICAgIHRoaXMuc2Nyb2xsVmlldyA9IFswLCAwXTsgLy8gdywgaFxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy5kcmFnQXJlYSA9IFswLCAwLCAwLCAwXTsgLy8geCwgeSwgdywgaFxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy5jb250YWluZXJCb3VuZHMgPSBbLTFlMTIsIG1heFZhbHVlLCBtYXhWYWx1ZSwgLTFlMTJdOyAvLyB0LCByLCBiLCBsXG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLnNjcm9sbEJvdW5kcyA9IFswLCAwLCAwLCAwXTsgLy8gdCwgciwgYiwgbFxuICAgIC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy50YXJnZXRCb3VuZHMgPSBbMCwgMCwgMCwgMF07IC8vIHQsIHIsIGIsIGxcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlcl19ICovXG4gICAgdGhpcy53aW5kb3cgPSBbMCwgMF07IC8vIHcsIGhcbiAgICAvKiogQHR5cGUge1tOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLnZlbG9jaXR5U3RhY2sgPSBbMCwgMCwgMF07XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eVN0YWNrSW5kZXggPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMudmVsb2NpdHlUaW1lID0gbm93KCk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9cbiAgICB0aGlzLmN1cnNvclN0eWxlcyA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9cbiAgICB0aGlzLnRyaWdnZXJTdHlsZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovXG4gICAgdGhpcy5ib2R5U3R5bGVzID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMudGFyZ2V0U3R5bGVzID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMudG91Y2hBY3Rpb25TdHlsZXMgPSBudWxsO1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IG5ldyBUcmFuc2Zvcm1zKHRoaXMuJHRhcmdldCk7XG4gICAgdGhpcy5vdmVyc2hvb3RDb29yZHMgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLm92ZXJzaG9vdFhUaWNrZXIgPSBuZXcgVGltZXIoeyBhdXRvcGxheTogZmFsc2UgfSwgbnVsbCwgMCkuaW5pdCgpO1xuICAgIHRoaXMub3ZlcnNob290WVRpY2tlciA9IG5ldyBUaW1lcih7IGF1dG9wbGF5OiBmYWxzZSB9LCBudWxsLCAwKS5pbml0KCk7XG4gICAgdGhpcy51cGRhdGVUaWNrZXIgPSBuZXcgVGltZXIoeyBhdXRvcGxheTogZmFsc2UgfSwgbnVsbCwgMCkuaW5pdCgpO1xuICAgIHRoaXMub3ZlcnNob290WFRpY2tlci5vblVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkWzBdKSByZXR1cm47XG4gICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5tYW51YWwgPSB0cnVlO1xuICAgICAgdGhpcy5hbmltYXRlW3RoaXMueFByb3BdKHRoaXMub3ZlcnNob290Q29vcmRzLngsIDApO1xuICAgIH07XG4gICAgdGhpcy5vdmVyc2hvb3RYVGlja2VyLm9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZFswXSkgcmV0dXJuO1xuICAgICAgdGhpcy5tYW51YWwgPSBmYWxzZTtcbiAgICAgIHRoaXMuYW5pbWF0ZVt0aGlzLnhQcm9wXSh0aGlzLm92ZXJzaG9vdENvb3Jkcy54LCAwKTtcbiAgICB9O1xuICAgIHRoaXMub3ZlcnNob290WVRpY2tlci5vblVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkWzFdKSByZXR1cm47XG4gICAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5tYW51YWwgPSB0cnVlO1xuICAgICAgdGhpcy5hbmltYXRlW3RoaXMueVByb3BdKHRoaXMub3ZlcnNob290Q29vcmRzLnksIDApO1xuICAgIH07XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLm9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZFsxXSkgcmV0dXJuO1xuICAgICAgdGhpcy5tYW51YWwgPSBmYWxzZTtcbiAgICAgIHRoaXMuYW5pbWF0ZVt0aGlzLnlQcm9wXSh0aGlzLm92ZXJzaG9vdENvb3Jkcy55LCAwKTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlVGlja2VyLm9uVXBkYXRlID0gKCkgPT4gdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLmNvbnRhaW5lZCA9ICFpc1VuZChjb250YWluZXIpO1xuICAgIHRoaXMubWFudWFsID0gZmFsc2U7XG4gICAgdGhpcy5ncmFiYmVkID0gZmFsc2U7XG4gICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZWxlYXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuU2Nyb2xsID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuYWN0aXZlUHJvcCA9IHRoaXMuZGlzYWJsZWRbMF0gPyB5UHJvcCA6IHhQcm9wO1xuICAgIHRoaXMuYW5pbWF0ZS5hbmltYXRpb25zW3RoaXMuYWN0aXZlUHJvcF0ub25SZW5kZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBoYXNVcGRhdGVkID0gdGhpcy51cGRhdGVkO1xuICAgICAgY29uc3QgaGFzTW92ZWQgPSB0aGlzLmdyYWJiZWQgJiYgaGFzVXBkYXRlZDtcbiAgICAgIGNvbnN0IGhhc1JlbGVhc2VkID0gIWhhc01vdmVkICYmIHRoaXMucmVsZWFzZWQ7XG4gICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgIGNvbnN0IGR4ID0geCAtIHRoaXMuY29vcmRzWzJdO1xuICAgICAgY29uc3QgZHkgPSB5IC0gdGhpcy5jb29yZHNbM107XG4gICAgICB0aGlzLmRlbHRhWCA9IGR4O1xuICAgICAgdGhpcy5kZWx0YVkgPSBkeTtcbiAgICAgIHRoaXMuY29vcmRzWzJdID0geDtcbiAgICAgIHRoaXMuY29vcmRzWzNdID0geTtcbiAgICAgIGlmIChoYXNVcGRhdGVkKSB7XG4gICAgICAgIHRoaXMub25VcGRhdGUodGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAoIWhhc1JlbGVhc2VkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb21wdXRlVmVsb2NpdHkoZHgsIGR5KTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGF0YW4yKGR5LCBkeCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmFuaW1hdGUuYW5pbWF0aW9uc1t0aGlzLmFjdGl2ZVByb3BdLm9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAoKCF0aGlzLmdyYWJiZWQgJiYgdGhpcy5yZWxlYXNlZCkpIHtcbiAgICAgICAgLy8gU2V0IGVsZWFzZWQgdG8gZmFsc2UgYmVmb3JlIGNhbGxpbmcgb25TZXR0bGUgdG8gYXZvaWQgcmVjdXJzaW9uXG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5tYW51YWwpIHtcbiAgICAgICAgdGhpcy5kZWx0YVggPSAwO1xuICAgICAgICB0aGlzLmRlbHRhWSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMF0gPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMV0gPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMl0gPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleCA9IDA7XG4gICAgICAgIHRoaXMub25TZXR0bGUodGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZVRpY2tlciA9IG5ldyBUaW1lcih7XG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBkdXJhdGlvbjogMTUwICogZ2xvYmFscy50aW1lU2NhbGUsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub25SZXNpemUodGhpcyk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLm9uQWZ0ZXJSZXNpemUodGhpcyk7XG4gICAgICB9LFxuICAgIH0pLmluaXQoKTtcbiAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5yZXNpemVUaWNrZXIucmVzdGFydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5lbmFibGUoKTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy4kY29udGFpbmVyKTtcbiAgICBpZiAoIWlzT2JqKHRhcmdldCkpIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiR0YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHhcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkeVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBjb21wdXRlVmVsb2NpdHkoZHgsIGR5KSB7XG4gICAgY29uc3QgcHJldlRpbWUgPSB0aGlzLnZlbG9jaXR5VGltZTtcbiAgICBjb25zdCBjdXJUaW1lID0gbm93KCk7XG4gICAgY29uc3QgZWxhcHNlZCA9IGN1clRpbWUgLSBwcmV2VGltZTtcbiAgICBpZiAoZWxhcHNlZCA8IDE3KSByZXR1cm4gdGhpcy52ZWxvY2l0eTtcbiAgICB0aGlzLnZlbG9jaXR5VGltZSA9IGN1clRpbWU7XG4gICAgY29uc3QgdmVsb2NpdHlTdGFjayA9IHRoaXMudmVsb2NpdHlTdGFjaztcbiAgICBjb25zdCB2TXVsID0gdGhpcy52ZWxvY2l0eU11bHRpcGxpZXI7XG4gICAgY29uc3QgbWluViA9IHRoaXMubWluVmVsb2NpdHk7XG4gICAgY29uc3QgbWF4ViA9IHRoaXMubWF4VmVsb2NpdHk7XG4gICAgY29uc3QgdmkgPSB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleDtcbiAgICB2ZWxvY2l0eVN0YWNrW3ZpXSA9IHJvdW5kKGNsYW1wKChzcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGVsYXBzZWQpICogdk11bCwgbWluViwgbWF4ViksIDUpO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gbWF4KHZlbG9jaXR5U3RhY2tbMF0sIHZlbG9jaXR5U3RhY2tbMV0sIHZlbG9jaXR5U3RhY2tbMl0pO1xuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleCA9ICh2aSArIDEpICUgMztcbiAgICByZXR1cm4gdmVsb2NpdHk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICB4XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW211dGVVcGRhdGVDYWxsYmFja11cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHNldFgoeCwgbXV0ZVVwZGF0ZUNhbGxiYWNrID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZFswXSkgcmV0dXJuO1xuICAgIGNvbnN0IHYgPSByb3VuZCh4LCA1KTtcbiAgICB0aGlzLm92ZXJzaG9vdFhUaWNrZXIucGF1c2UoKTtcbiAgICB0aGlzLm1hbnVhbCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVkID0gIW11dGVVcGRhdGVDYWxsYmFjaztcbiAgICB0aGlzLmRlc3RYID0gdjtcbiAgICB0aGlzLnNuYXBwZWRbMF0gPSBzbmFwKHYsIHRoaXMuc25hcFgpO1xuICAgIHRoaXMuYW5pbWF0ZVt0aGlzLnhQcm9wXSh2LCAwKTtcbiAgICB0aGlzLm1hbnVhbCA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgeVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttdXRlVXBkYXRlQ2FsbGJhY2tdXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBzZXRZKHksIG11dGVVcGRhdGVDYWxsYmFjayA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWRbMV0pIHJldHVybjtcbiAgICBjb25zdCB2ID0gcm91bmQoeSwgNSk7XG4gICAgdGhpcy5vdmVyc2hvb3RZVGlja2VyLnBhdXNlKCk7XG4gICAgdGhpcy5tYW51YWwgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlZCA9ICFtdXRlVXBkYXRlQ2FsbGJhY2s7XG4gICAgdGhpcy5kZXN0WSA9IHY7XG4gICAgdGhpcy5zbmFwcGVkWzFdID0gc25hcCh2LCB0aGlzLnNuYXBZKTtcbiAgICB0aGlzLmFuaW1hdGVbdGhpcy55UHJvcF0odiwgMCk7XG4gICAgdGhpcy5tYW51YWwgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldCB4KCkge1xuICAgIHJldHVybiByb3VuZCgvKiogQHR5cGUge051bWJlcn0gKi8odGhpcy5hbmltYXRlW3RoaXMueFByb3BdKCkpLCBnbG9iYWxzLnByZWNpc2lvbik7XG4gIH1cblxuICBzZXQgeCh4KSB7XG4gICAgdGhpcy5zZXRYKHgsIGZhbHNlKTtcbiAgfVxuXG4gIGdldCB5KCkge1xuICAgIHJldHVybiByb3VuZCgvKiogQHR5cGUge051bWJlcn0gKi8odGhpcy5hbmltYXRlW3RoaXMueVByb3BdKCkpLCBnbG9iYWxzLnByZWNpc2lvbik7XG4gIH1cblxuICBzZXQgeSh5KSB7XG4gICAgdGhpcy5zZXRZKHksIGZhbHNlKTtcbiAgfVxuXG4gIGdldCBwcm9ncmVzc1goKSB7XG4gICAgcmV0dXJuIG1hcFJhbmdlKHRoaXMueCwgdGhpcy5jb250YWluZXJCb3VuZHNbM10sIHRoaXMuY29udGFpbmVyQm91bmRzWzFdLCAwLCAxKTtcbiAgfVxuXG4gIHNldCBwcm9ncmVzc1goeCkge1xuICAgIHRoaXMuc2V0WChtYXBSYW5nZSh4LCAwLCAxLCB0aGlzLmNvbnRhaW5lckJvdW5kc1szXSwgdGhpcy5jb250YWluZXJCb3VuZHNbMV0pLCBmYWxzZSk7XG4gIH1cblxuICBnZXQgcHJvZ3Jlc3NZKCkge1xuICAgIHJldHVybiBtYXBSYW5nZSh0aGlzLnksIHRoaXMuY29udGFpbmVyQm91bmRzWzBdLCB0aGlzLmNvbnRhaW5lckJvdW5kc1syXSwgMCwgMSk7XG4gIH1cblxuICBzZXQgcHJvZ3Jlc3NZKHkpIHtcbiAgICB0aGlzLnNldFkobWFwUmFuZ2UoeSwgMCwgMSwgdGhpcy5jb250YWluZXJCb3VuZHNbMF0sIHRoaXMuY29udGFpbmVyQm91bmRzWzJdKSwgZmFsc2UpO1xuICB9XG5cbiAgdXBkYXRlU2Nyb2xsQ29vcmRzKCkge1xuICAgIGNvbnN0IHN4ID0gcm91bmQodGhpcy51c2VXaW4gPyB3aW4uc2Nyb2xsWCA6IHRoaXMuJGNvbnRhaW5lci5zY3JvbGxMZWZ0LCAwKTtcbiAgICBjb25zdCBzeSA9IHJvdW5kKHRoaXMudXNlV2luID8gd2luLnNjcm9sbFkgOiB0aGlzLiRjb250YWluZXIuc2Nyb2xsVG9wLCAwKTtcbiAgICBjb25zdCBbIGNwdCwgY3ByLCBjcGIsIGNwbCBdID0gdGhpcy5jb250YWluZXJQYWRkaW5nO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IHRoaXMuc2Nyb2xsVGhyZXNob2xkO1xuICAgIHRoaXMuc2Nyb2xsLnggPSBzeDtcbiAgICB0aGlzLnNjcm9sbC55ID0gc3k7XG4gICAgdGhpcy5zY3JvbGxCb3VuZHNbMF0gPSBzeSAtIHRoaXMudGFyZ2V0Qm91bmRzWzBdICsgY3B0IC0gdGhyZXNob2xkO1xuICAgIHRoaXMuc2Nyb2xsQm91bmRzWzFdID0gc3ggLSB0aGlzLnRhcmdldEJvdW5kc1sxXSAtIGNwciArIHRocmVzaG9sZDtcbiAgICB0aGlzLnNjcm9sbEJvdW5kc1syXSA9IHN5IC0gdGhpcy50YXJnZXRCb3VuZHNbMl0gLSBjcGIgKyB0aHJlc2hvbGQ7XG4gICAgdGhpcy5zY3JvbGxCb3VuZHNbM10gPSBzeCAtIHRoaXMudGFyZ2V0Qm91bmRzWzNdICsgY3BsIC0gdGhyZXNob2xkO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdWYWx1ZXMoKSB7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lcjtcbiAgICBjb25zdCBjeCA9IHRoaXMueDtcbiAgICBjb25zdCBjeSA9IHRoaXMueTtcbiAgICBjb25zdCBjeDIgPSB0aGlzLmNvb3Jkc1syXTtcbiAgICBjb25zdCBjeTIgPSAgdGhpcy5jb29yZHNbM107XG4gICAgLy8gUHJldmVudHMgaW50ZXJmZXJpbmcgd2l0aCB0aGUgc2Nyb2xsIGFyZWEgaW4gY2FzZXMgdGhlIHRhcmdldCBpcyBvdXRzaWRlIG9mIHRoZSBjb250YWluZXJcbiAgICAvLyBNYWtlIHN1cmUgdGhlIHRlbXAgY29vcmRzIGFyZSBhbHNvIGFkanVzZXQgdG8gcHJldmVudHMgd3JvbmcgZGVsdGEgY2FsY3VsYXRpb24gb24gdXBkYXRlc1xuICAgIHRoaXMuY29vcmRzWzJdID0gMDtcbiAgICB0aGlzLmNvb3Jkc1szXSA9IDA7XG4gICAgdGhpcy5zZXRYKDAsIHRydWUpO1xuICAgIHRoaXMuc2V0WSgwLCB0cnVlKTtcbiAgICB0aGlzLnRyYW5zZm9ybXMucmVtb3ZlKCk7XG4gICAgY29uc3QgaXcgPSB0aGlzLndpbmRvd1swXSA9IHdpbi5pbm5lcldpZHRoO1xuICAgIGNvbnN0IGloID0gdGhpcy53aW5kb3dbMV0gPSB3aW4uaW5uZXJIZWlnaHQ7XG4gICAgY29uc3QgdXcgPSB0aGlzLnVzZVdpbjtcbiAgICBjb25zdCBzdyA9ICRjb250YWluZXIuc2Nyb2xsV2lkdGg7XG4gICAgY29uc3Qgc2ggPSAkY29udGFpbmVyLnNjcm9sbEhlaWdodDtcbiAgICBjb25zdCBmeCA9IHRoaXMuZml4ZWQ7XG4gICAgY29uc3QgdHJhbnNmb3JtQ29udGFpbmVyUmVjdCA9ICRjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgWyBjcHQsIGNwciwgY3BiLCBjcGwgXSA9IHRoaXMuY29udGFpbmVyUGFkZGluZztcbiAgICB0aGlzLmRyYWdBcmVhWzBdID0gdXcgPyAwIDogdHJhbnNmb3JtQ29udGFpbmVyUmVjdC5sZWZ0O1xuICAgIHRoaXMuZHJhZ0FyZWFbMV0gPSB1dyA/IDAgOiB0cmFuc2Zvcm1Db250YWluZXJSZWN0LnRvcDtcbiAgICB0aGlzLnNjcm9sbFZpZXdbMF0gPSB1dyA/IGNsYW1wKHN3LCBpdywgc3cpIDogc3c7XG4gICAgdGhpcy5zY3JvbGxWaWV3WzFdID0gdXcgPyBjbGFtcChzaCwgaWgsIHNoKSA6IHNoO1xuICAgIHRoaXMudXBkYXRlU2Nyb2xsQ29vcmRzKCk7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20gfSA9ICRjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5kcmFnQXJlYVsyXSA9IHJvdW5kKHV3ID8gY2xhbXAod2lkdGgsIGl3LCBpdykgOiB3aWR0aCwgMCk7XG4gICAgdGhpcy5kcmFnQXJlYVszXSA9IHJvdW5kKHV3ID8gY2xhbXAoaGVpZ2h0LCBpaCwgaWgpIDogaGVpZ2h0LCAwKTtcbiAgICBjb25zdCBjb250YWluZXJPdmVyZmxvdyA9IGdldFRhcmdldFZhbHVlKCRjb250YWluZXIsICdvdmVyZmxvdycpO1xuICAgIGNvbnN0IHZpc2libGVPdmVyZmxvdyA9IGNvbnRhaW5lck92ZXJmbG93ID09PSAndmlzaWJsZSc7XG4gICAgY29uc3QgaGlkZGVuT3ZlcmZsb3cgPSBjb250YWluZXJPdmVyZmxvdyA9PT0gJ2hpZGRlbic7XG4gICAgdGhpcy5jYW5TY3JvbGwgPSBmeCA/IGZhbHNlIDpcbiAgICAgIHRoaXMuY29udGFpbmVkICYmXG4gICAgICAoKCRjb250YWluZXIgPT09IGRvYy5ib2R5ICYmIHZpc2libGVPdmVyZmxvdykgfHwgKCFoaWRkZW5PdmVyZmxvdyAmJiAhdmlzaWJsZU92ZXJmbG93KSkgJiZcbiAgICAgIChzdyA+IHRoaXMuZHJhZ0FyZWFbMl0gKyBjcGwgLSBjcHIgfHwgc2ggPiB0aGlzLmRyYWdBcmVhWzNdICsgY3B0IC0gY3BiKSAmJlxuICAgICAgKCF0aGlzLmNvbnRhaW5lckFycmF5IHx8ICh0aGlzLmNvbnRhaW5lckFycmF5ICYmICFpc0Fycih0aGlzLmNvbnRhaW5lckFycmF5KSkpO1xuICAgIGlmICh0aGlzLmNvbnRhaW5lZCkge1xuICAgICAgY29uc3Qgc3ggPSB0aGlzLnNjcm9sbC54O1xuICAgICAgY29uc3Qgc3kgPSB0aGlzLnNjcm9sbC55O1xuICAgICAgY29uc3QgY2FuU2Nyb2xsID0gdGhpcy5jYW5TY3JvbGw7XG4gICAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGhpcy4kdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgaGlkZGVuTGVmdCA9IGNhblNjcm9sbCA/IHV3ID8gMCA6ICRjb250YWluZXIuc2Nyb2xsTGVmdCA6IDA7XG4gICAgICBjb25zdCBoaWRkZW5Ub3AgPSBjYW5TY3JvbGwgPyB1dyA/IDAgOiAkY29udGFpbmVyLnNjcm9sbFRvcCA6IDA7XG4gICAgICBjb25zdCBoaWRkZW5SaWdodCA9IGNhblNjcm9sbCA/IHRoaXMuc2Nyb2xsVmlld1swXSAtIGhpZGRlbkxlZnQgLSB3aWR0aCA6IDA7XG4gICAgICBjb25zdCBoaWRkZW5Cb3R0b20gPSBjYW5TY3JvbGwgPyB0aGlzLnNjcm9sbFZpZXdbMV0gLSBoaWRkZW5Ub3AgLSBoZWlnaHQgOiAwO1xuICAgICAgdGhpcy50YXJnZXRCb3VuZHNbMF0gPSByb3VuZCgodGFyZ2V0UmVjdC50b3AgKyBzeSkgLSAodXcgPyAwIDogdG9wKSwgMCk7XG4gICAgICB0aGlzLnRhcmdldEJvdW5kc1sxXSA9IHJvdW5kKCh0YXJnZXRSZWN0LnJpZ2h0ICsgc3gpIC0gKHV3ID8gaXcgOiByaWdodCksIDApO1xuICAgICAgdGhpcy50YXJnZXRCb3VuZHNbMl0gPSByb3VuZCgodGFyZ2V0UmVjdC5ib3R0b20gKyBzeSkgLSAodXcgPyBpaCA6IGJvdHRvbSksIDApO1xuICAgICAgdGhpcy50YXJnZXRCb3VuZHNbM10gPSByb3VuZCgodGFyZ2V0UmVjdC5sZWZ0ICsgc3gpIC0gKHV3ID8gMCA6IGxlZnQpLCAwKTtcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5lckFycmF5KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRzWzBdID0gdGhpcy5jb250YWluZXJBcnJheVswXSArIGNwdDtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbMV0gPSB0aGlzLmNvbnRhaW5lckFycmF5WzFdIC0gY3ByO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckJvdW5kc1syXSA9IHRoaXMuY29udGFpbmVyQXJyYXlbMl0gLSBjcGI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRzWzNdID0gdGhpcy5jb250YWluZXJBcnJheVszXSArIGNwbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRzWzBdID0gLXJvdW5kKHRhcmdldFJlY3QudG9wIC0gKGZ4ID8gY2xhbXAodG9wLCAwLCBpaCkgOiB0b3ApICsgaGlkZGVuVG9wIC0gY3B0LCAwKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbMV0gPSAtcm91bmQodGFyZ2V0UmVjdC5yaWdodCAtIChmeCA/IGNsYW1wKHJpZ2h0LCAwLCBpdykgOiByaWdodCkgLSBoaWRkZW5SaWdodCArIGNwciwgMCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRzWzJdID0gLXJvdW5kKHRhcmdldFJlY3QuYm90dG9tIC0gKGZ4ID8gY2xhbXAoYm90dG9tLCAwLCBpaCkgOiBib3R0b20pIC0gaGlkZGVuQm90dG9tICsgY3BiLCAwKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZHNbM10gPSAtcm91bmQodGFyZ2V0UmVjdC5sZWZ0IC0gKGZ4ID8gY2xhbXAobGVmdCwgMCwgaXcpIDogbGVmdCkgKyBoaWRkZW5MZWZ0IC0gY3BsLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50cmFuc2Zvcm1zLnJldmVydCgpO1xuICAgIC8vIFJlc3RvcmUgY29vcmRpbmF0ZXNcbiAgICB0aGlzLmNvb3Jkc1syXSA9IGN4MjtcbiAgICB0aGlzLmNvb3Jkc1szXSA9IGN5MjtcbiAgICB0aGlzLnNldFgoY3gsIHRydWUpO1xuICAgIHRoaXMuc2V0WShjeSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyAwIGlmIG5vdCBPQiwgMSBpZiB4IGlzIE9CLCAyIGlmIHkgaXMgT0IsIDMgaWYgYm90aCB4IGFuZCB5IGFyZSBPQlxuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheX0gYm91bmRzXG4gICAqIEBwYXJhbSAge051bWJlcn0geFxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgaXNPdXRPZkJvdW5kcyhib3VuZHMsIHgsIHkpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVkKSByZXR1cm4gMDtcbiAgICBjb25zdCBbIGJ0LCBiciwgYmIsIGJsIF0gPSBib3VuZHM7XG4gICAgY29uc3QgWyBkeCwgZHkgXSA9IHRoaXMuZGlzYWJsZWQ7XG4gICAgY29uc3Qgb2J4ID0gIWR4ICYmIHggPCBibCB8fCAhZHggJiYgeCA+IGJyO1xuICAgIGNvbnN0IG9ieSA9ICFkeSAmJiB5IDwgYnQgfHwgIWR5ICYmIHkgPiBiYjtcbiAgICByZXR1cm4gb2J4ICYmICFvYnkgPyAxIDogIW9ieCAmJiBvYnkgPyAyIDogb2J4ICYmIG9ieSA/IDMgOiAwO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnM7XG4gICAgY29uc3QgcGFyYW1YID0gcGFyYW1zLng7XG4gICAgY29uc3QgcGFyYW1ZID0gcGFyYW1zLnk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuY29udGFpbmVyLCB0aGlzKTtcbiAgICBjb25zdCBjcCA9IHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLmNvbnRhaW5lclBhZGRpbmcsIHRoaXMpIHx8IDA7XG4gICAgY29uc3QgY29udGFpbmVyUGFkZGluZyA9IC8qKiBAdHlwZSB7W051bWJlciwgTnVtYmVyLCBOdW1iZXIsIE51bWJlcl19ICovKGlzQXJyKGNwKSA/IGNwIDogW2NwLCBjcCwgY3AsIGNwXSk7XG4gICAgY29uc3QgY3ggPSB0aGlzLng7XG4gICAgY29uc3QgY3kgPSB0aGlzLnk7XG4gICAgY29uc3QgcGFyc2VkQ3Vyc29yU3R5bGVzID0gcGFyc2VEcmFnZ2FibGVGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuY3Vyc29yLCB0aGlzKTtcbiAgICBjb25zdCBjdXJzb3JTdHlsZXMgPSB7IG9uSG92ZXI6ICdncmFiJywgb25HcmFiOiAnZ3JhYmJpbmcnIH07XG4gICAgaWYgKHBhcnNlZEN1cnNvclN0eWxlcykge1xuICAgICAgY29uc3QgeyBvbkhvdmVyLCBvbkdyYWIgfSA9IC8qKiBAdHlwZSB7RHJhZ2dhYmxlQ3Vyc29yUGFyYW1zfSAqLyhwYXJzZWRDdXJzb3JTdHlsZXMpO1xuICAgICAgaWYgKG9uSG92ZXIpIGN1cnNvclN0eWxlcy5vbkhvdmVyID0gb25Ib3ZlcjtcbiAgICAgIGlmIChvbkdyYWIpIGN1cnNvclN0eWxlcy5vbkdyYWIgPSBvbkdyYWI7XG4gICAgfVxuICAgIHRoaXMuY29udGFpbmVyQXJyYXkgPSBpc0Fycihjb250YWluZXIpID8gY29udGFpbmVyIDogbnVsbDtcbiAgICB0aGlzLiRjb250YWluZXIgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhjb250YWluZXIgJiYgIXRoaXMuY29udGFpbmVyQXJyYXkgPyBwYXJzZVRhcmdldHMoLyoqIEB0eXBlIHtET01UYXJnZXR9ICovKGNvbnRhaW5lcikpWzBdIDogZG9jLmJvZHkpO1xuICAgIHRoaXMudXNlV2luID0gdGhpcy4kY29udGFpbmVyID09PSBkb2MuYm9keTtcbiAgICAvKiogQHR5cGUge1dpbmRvdyB8IEhUTUxFbGVtZW50fSAqL1xuICAgIHRoaXMuJHNjcm9sbENvbnRhaW5lciA9IHRoaXMudXNlV2luID8gd2luIDogdGhpcy4kY29udGFpbmVyO1xuICAgIHRoaXMuaXNGaW5lUG9pbnRlciA9IG1hdGNoTWVkaWEoJyhwb2ludGVyOmZpbmUpJykubWF0Y2hlcztcbiAgICB0aGlzLmNvbnRhaW5lclBhZGRpbmcgPSBzZXRWYWx1ZShjb250YWluZXJQYWRkaW5nLCBbMCwgMCwgMCwgMF0pO1xuICAgIHRoaXMuY29udGFpbmVyRnJpY3Rpb24gPSBjbGFtcChzZXRWYWx1ZShwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5jb250YWluZXJGcmljdGlvbiwgdGhpcyksIC44KSwgMCwgMSk7XG4gICAgdGhpcy5yZWxlYXNlQ29udGFpbmVyRnJpY3Rpb24gPSBjbGFtcChzZXRWYWx1ZShwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5yZWxlYXNlQ29udGFpbmVyRnJpY3Rpb24sIHRoaXMpLCB0aGlzLmNvbnRhaW5lckZyaWN0aW9uKSwgMCwgMSk7XG4gICAgdGhpcy5zbmFwWCA9IHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIoaXNPYmoocGFyYW1YKSAmJiAhaXNVbmQocGFyYW1YLnNuYXApID8gcGFyYW1YLnNuYXAgOiBwYXJhbXMuc25hcCwgdGhpcyk7XG4gICAgdGhpcy5zbmFwWSA9IHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIoaXNPYmoocGFyYW1ZKSAmJiAhaXNVbmQocGFyYW1ZLnNuYXApID8gcGFyYW1ZLnNuYXAgOiBwYXJhbXMuc25hcCwgdGhpcyk7XG4gICAgdGhpcy5zY3JvbGxTcGVlZCA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLnNjcm9sbFNwZWVkLCB0aGlzKSwgMS41KTtcbiAgICB0aGlzLnNjcm9sbFRocmVzaG9sZCA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLnNjcm9sbFRocmVzaG9sZCwgdGhpcyksIDIwKTtcbiAgICB0aGlzLmRyYWdTcGVlZCA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLmRyYWdTcGVlZCwgdGhpcyksIDEpO1xuICAgIHRoaXMubWluVmVsb2NpdHkgPSBzZXRWYWx1ZShwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5taW5WZWxvY2l0eSwgdGhpcyksIDApO1xuICAgIHRoaXMubWF4VmVsb2NpdHkgPSBzZXRWYWx1ZShwYXJzZURyYWdnYWJsZUZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5tYXhWZWxvY2l0eSwgdGhpcyksIDUwKTtcbiAgICB0aGlzLnZlbG9jaXR5TXVsdGlwbGllciA9IHNldFZhbHVlKHBhcnNlRHJhZ2dhYmxlRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLnZlbG9jaXR5TXVsdGlwbGllciwgdGhpcyksIDEpO1xuICAgIHRoaXMuY3Vyc29yID0gcGFyc2VkQ3Vyc29yU3R5bGVzID09PSBmYWxzZSA/IGZhbHNlIDogY3Vyc29yU3R5bGVzO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdWYWx1ZXMoKTtcblxuICAgIC8vIGNvbnN0IG9iID0gdGhpcy5pc091dE9mQm91bmRzKHRoaXMuY29udGFpbmVyQm91bmRzLCB0aGlzLngsIHRoaXMueSk7XG4gICAgLy8gaWYgKG9iID09PSAxIHx8IG9iID09PSAzKSB0aGlzLnByb2dyZXNzWCA9IHB4O1xuICAgIC8vIGlmIChvYiA9PT0gMiB8fCBvYiA9PT0gMykgdGhpcy5wcm9ncmVzc1kgPSBweTtcblxuICAgIC8vIGlmICh0aGlzLmluaXRpYWxpemVkICYmIHRoaXMuY29udGFpbmVkKSB7XG4gICAgLy8gICBpZiAodGhpcy5wcm9ncmVzc1ggIT09IHB4KSB0aGlzLnByb2dyZXNzWCA9IHB4O1xuICAgIC8vICAgaWYgKHRoaXMucHJvZ3Jlc3NZICE9PSBweSkgdGhpcy5wcm9ncmVzc1kgPSBweTtcbiAgICAvLyB9XG5cbiAgICBjb25zdCBbIGJ0LCBiciwgYmIsIGJsIF0gPSB0aGlzLmNvbnRhaW5lckJvdW5kcztcbiAgICB0aGlzLnNldFgoY2xhbXAoY3gsIGJsLCBiciksIHRydWUpO1xuICAgIHRoaXMuc2V0WShjbGFtcChjeSwgYnQsIGJiKSwgdHJ1ZSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxDb29yZHMoKTtcbiAgICBpZiAodGhpcy5jYW5TY3JvbGwpIHtcbiAgICAgIGNvbnN0IFsgY3B0LCBjcHIsIGNwYiwgY3BsIF0gPSB0aGlzLmNvbnRhaW5lclBhZGRpbmc7XG4gICAgICBjb25zdCBbIHN3LCBzaCBdID0gdGhpcy5zY3JvbGxWaWV3O1xuICAgICAgY29uc3QgZGF3ID0gdGhpcy5kcmFnQXJlYVsyXTtcbiAgICAgIGNvbnN0IGRhaCA9IHRoaXMuZHJhZ0FyZWFbM107XG4gICAgICBjb25zdCBjc3ggPSB0aGlzLnNjcm9sbC54O1xuICAgICAgY29uc3QgY3N5ID0gdGhpcy5zY3JvbGwueTtcbiAgICAgIGNvbnN0IG5zdyA9IHRoaXMuJGNvbnRhaW5lci5zY3JvbGxXaWR0aDtcbiAgICAgIGNvbnN0IG5zaCA9IHRoaXMuJGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG4gICAgICBjb25zdCBjc3cgPSB0aGlzLnVzZVdpbiA/IGNsYW1wKG5zdywgdGhpcy53aW5kb3dbMF0sIG5zdykgOiBuc3c7XG4gICAgICBjb25zdCBjc2ggPSB0aGlzLnVzZVdpbiA/IGNsYW1wKG5zaCwgdGhpcy53aW5kb3dbMV0sIG5zaCkgOiBuc2g7XG4gICAgICBjb25zdCBzd2QgPSBzdyAtIGNzdztcbiAgICAgIGNvbnN0IHNoZCA9IHNoIC0gY3NoO1xuICAgICAgLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBzY3JvbGxhcmVhIGRpbWVuc2lvbnMgY2hhbmdlcyBkdXJpbmcgZHJhZ1xuICAgICAgaWYgKHRoaXMuZHJhZ2dlZCAmJiBzd2QgPiAwKSB7XG4gICAgICAgIHRoaXMuY29vcmRzWzBdIC09IHN3ZDtcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3WzBdID0gY3N3O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZHJhZ2dlZCAmJiBzaGQgPiAwKSB7XG4gICAgICAgIHRoaXMuY29vcmRzWzFdIC09IHNoZDtcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3WzFdID0gY3NoO1xuICAgICAgfVxuICAgICAgLy8gSGFuZGxlIGF1dG9zY3JvbGwgd2hlbiB0YXJnZXQgaXMgYXQgdGhlIGVkZ2VzIG9mIHRoZSBzY3JvbGwgYm91bmRzXG4gICAgICBjb25zdCBzID0gdGhpcy5zY3JvbGxTcGVlZCAqIDEwO1xuICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhpcy5zY3JvbGxUaHJlc2hvbGQ7XG4gICAgICBjb25zdCBbIHgsIHkgXSA9IHRoaXMuY29vcmRzO1xuICAgICAgY29uc3QgWyBzdCwgc3IsIHNiLCBzbCBdID0gdGhpcy5zY3JvbGxCb3VuZHM7XG4gICAgICBjb25zdCB0ID0gcm91bmQoY2xhbXAoKHkgLSBzdCArIGNwdCkgLyB0aHJlc2hvbGQsIC0xLCAwKSAqIHMsIDApO1xuICAgICAgY29uc3QgciA9IHJvdW5kKGNsYW1wKCh4IC0gc3IgLSBjcHIpIC8gdGhyZXNob2xkLCAwLCAxKSAqIHMsIDApO1xuICAgICAgY29uc3QgYiA9IHJvdW5kKGNsYW1wKCh5IC0gc2IgLSBjcGIpIC8gdGhyZXNob2xkLCAwLCAxKSAqIHMsIDApO1xuICAgICAgY29uc3QgbCA9IHJvdW5kKGNsYW1wKCh4IC0gc2wgKyBjcGwpIC8gdGhyZXNob2xkLCAtMSwgMCkgKiBzLCAwKTtcbiAgICAgIGlmICh0IHx8IGIgfHwgbCB8fCByKSB7XG4gICAgICAgIGNvbnN0IFtueCwgbnldID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgICAgbGV0IHNjcm9sbFggPSBjc3g7XG4gICAgICAgIGxldCBzY3JvbGxZID0gY3N5O1xuICAgICAgICBpZiAoIW54KSB7XG4gICAgICAgICAgc2Nyb2xsWCA9IHJvdW5kKGNsYW1wKGNzeCArIChsIHx8IHIpLCAwLCBzdyAtIGRhdyksIDApO1xuICAgICAgICAgIHRoaXMuY29vcmRzWzBdIC09IGNzeCAtIHNjcm9sbFg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFueSkge1xuICAgICAgICAgIHNjcm9sbFkgPSByb3VuZChjbGFtcChjc3kgKyAodCB8fCBiKSwgMCwgc2ggLSBkYWgpLCAwKTtcbiAgICAgICAgICB0aGlzLmNvb3Jkc1sxXSAtPSBjc3kgLSBzY3JvbGxZO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IFNhZmFyaSBtb2JpbGUgcmVxdWlyZXMgdG8gdXNlIGRpZmZlcmVudCBzY3JvbGwgbWV0aG9kcyBkZXBlbmRpbmcgaWYgdXNpbmcgdGhlIHdpbmRvdyBvciBub3RcbiAgICAgICAgaWYgKHRoaXMudXNlV2luKSB7XG4gICAgICAgICAgdGhpcy4kc2Nyb2xsQ29udGFpbmVyLnNjcm9sbEJ5KC0oY3N4IC0gc2Nyb2xsWCksIC0oY3N5IC0gc2Nyb2xsWSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJHNjcm9sbENvbnRhaW5lci5zY3JvbGxUbyhzY3JvbGxYLCBzY3JvbGxZKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBbIGN0LCBjciwgY2IsIGNsIF0gPSB0aGlzLmNvbnRhaW5lckJvdW5kcztcbiAgICBjb25zdCBbIHB4MSwgcHkxLCBweDIsIHB5MiwgcHgzLCBweTMgXSA9IHRoaXMucG9pbnRlcjtcbiAgICB0aGlzLmNvb3Jkc1swXSArPSAocHgxIC0gcHgzKSAqIHRoaXMuZHJhZ1NwZWVkO1xuICAgIHRoaXMuY29vcmRzWzFdICs9IChweTEgLSBweTMpICogdGhpcy5kcmFnU3BlZWQ7XG4gICAgdGhpcy5wb2ludGVyWzRdID0gcHgxO1xuICAgIHRoaXMucG9pbnRlcls1XSA9IHB5MTtcbiAgICBjb25zdCBbIGN4LCBjeSBdID0gdGhpcy5jb29yZHM7XG4gICAgY29uc3QgWyBzeCwgc3kgXSA9IHRoaXMuc25hcHBlZDtcbiAgICBjb25zdCBjZiA9ICgxIC0gdGhpcy5jb250YWluZXJGcmljdGlvbikgKiB0aGlzLmRyYWdTcGVlZDtcbiAgICB0aGlzLnNldFgoY3ggPiBjciA/IGNyICsgKGN4IC0gY3IpICogY2YgOiBjeCA8IGNsID8gY2wgKyAoY3ggLSBjbCkgKiBjZiA6IGN4LCBmYWxzZSk7XG4gICAgdGhpcy5zZXRZKGN5ID4gY2IgPyBjYiArIChjeSAtIGNiKSAqIGNmIDogY3kgPCBjdCA/IGN0ICsgKGN5IC0gY3QpICogY2YgOiBjeSwgZmFsc2UpO1xuICAgIHRoaXMuY29tcHV0ZVZlbG9jaXR5KHB4MSAtIHB4MywgcHkxIC0gcHkzKTtcbiAgICB0aGlzLmFuZ2xlID0gYXRhbjIocHkxIC0gcHkyLCBweDEgLSBweDIpO1xuICAgIGNvbnN0IFsgbnN4LCBuc3kgXSA9IHRoaXMuc25hcHBlZDtcbiAgICBpZiAobnN4ICE9PSBzeCAmJiB0aGlzLnNuYXBYIHx8IG5zeSAhPT0gc3kgJiYgdGhpcy5zbmFwWSkge1xuICAgICAgdGhpcy5vblNuYXAodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRpY2tlci5wYXVzZSgpO1xuICAgIHRoaXMub3ZlcnNob290WFRpY2tlci5wYXVzZSgpO1xuICAgIHRoaXMub3ZlcnNob290WVRpY2tlci5wYXVzZSgpO1xuICAgIC8vIFBhdXNlcyB0aGUgaW4gYm91bmRzIG9uUmVsZWFzZSBhbmltYXRpb25zXG4gICAgZm9yIChsZXQgcHJvcCBpbiB0aGlzLmFuaW1hdGUuYW5pbWF0aW9ucykgdGhpcy5hbmltYXRlLmFuaW1hdGlvbnNbcHJvcF0ucGF1c2UoKTtcbiAgICByZW1vdmUodGhpcywgbnVsbCwgJ3gnKTtcbiAgICByZW1vdmUodGhpcywgbnVsbCwgJ3knKTtcbiAgICByZW1vdmUodGhpcywgbnVsbCwgJ3Byb2dyZXNzWCcpO1xuICAgIHJlbW92ZSh0aGlzLCBudWxsLCAncHJvZ3Jlc3NZJyk7XG4gICAgcmVtb3ZlKHRoaXMuc2Nyb2xsKTsgLy8gUmVtb3ZlcyBhbnkgYWN0aXZlIGFuaW1hdGlvbnMgb24gdGhlIGNvbnRhaW5lciBzY3JvbGxcbiAgICByZW1vdmUodGhpcy5vdmVyc2hvb3RDb29yZHMpOyAvLyBSZW1vdmVzIGFjdGl2ZSBvdmVyc2hvb3QgYW5pbWF0aW9uc1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZHVyYXRpb25dXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZ2FwXVxuICAgKiBAcGFyYW0ge0Vhc2luZ1BhcmFtfSBbZWFzZV1cbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIHNjcm9sbEluVmlldyhkdXJhdGlvbiwgZ2FwID0gMCwgZWFzZSA9IGVhc2VzLmluT3V0UXVhZCkge1xuICAgIHRoaXMudXBkYXRlU2Nyb2xsQ29vcmRzKCk7XG4gICAgY29uc3QgeCA9IHRoaXMuZGVzdFg7XG4gICAgY29uc3QgeSA9IHRoaXMuZGVzdFk7XG4gICAgY29uc3Qgc2Nyb2xsID0gdGhpcy5zY3JvbGw7XG4gICAgY29uc3Qgc2Nyb2xsQm91bmRzID0gdGhpcy5zY3JvbGxCb3VuZHM7XG4gICAgY29uc3QgY2FuU2Nyb2xsID0gdGhpcy5jYW5TY3JvbGw7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lckFycmF5ICYmIHRoaXMuaXNPdXRPZkJvdW5kcyhzY3JvbGxCb3VuZHMsIHgsIHkpKSB7XG4gICAgICBjb25zdCBbIHN0LCBzciwgc2IsIHNsIF0gPSBzY3JvbGxCb3VuZHM7XG4gICAgICBjb25zdCB0ID0gcm91bmQoY2xhbXAoeSAtIHN0LCAtMWUxMiwgMCksIDApO1xuICAgICAgY29uc3QgciA9IHJvdW5kKGNsYW1wKHggLSBzciwgMCwgbWF4VmFsdWUpLCAwKTtcbiAgICAgIGNvbnN0IGIgPSByb3VuZChjbGFtcCh5IC0gc2IsIDAsIG1heFZhbHVlKSwgMCk7XG4gICAgICBjb25zdCBsID0gcm91bmQoY2xhbXAoeCAtIHNsLCAtMWUxMiwgMCksIDApO1xuICAgICAgbmV3IEpTQW5pbWF0aW9uKHNjcm9sbCwge1xuICAgICAgICB4OiByb3VuZChzY3JvbGwueCArIChsID8gbCAtIGdhcCA6IHIgPyByICsgZ2FwIDogMCksIDApLFxuICAgICAgICB5OiByb3VuZChzY3JvbGwueSArICh0ID8gdCAtIGdhcCA6IGIgPyBiICsgZ2FwIDogMCksIDApLFxuICAgICAgICBkdXJhdGlvbjogaXNVbmQoZHVyYXRpb24pID8gMzUwICogZ2xvYmFscy50aW1lU2NhbGUgOiBkdXJhdGlvbixcbiAgICAgICAgZWFzZSxcbiAgICAgICAgb25VcGRhdGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhblNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuJHNjcm9sbENvbnRhaW5lci5zY3JvbGxUbyhzY3JvbGwueCwgc2Nyb2xsLnkpO1xuICAgICAgICB9XG4gICAgICB9KS5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FuU2Nyb2xsID0gY2FuU2Nyb2xsO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGFuZGxlSG92ZXIoKSB7XG4gICAgaWYgKHRoaXMuaXNGaW5lUG9pbnRlciAmJiB0aGlzLmN1cnNvciAmJiAhdGhpcy5jdXJzb3JTdHlsZXMpIHtcbiAgICAgIHRoaXMuY3Vyc29yU3R5bGVzID0gc2V0VGFyZ2V0VmFsdWVzKHRoaXMuJHRyaWdnZXIsIHtcbiAgICAgICAgY3Vyc29yOiAvKiogQHR5cGUge0RyYWdnYWJsZUN1cnNvclBhcmFtc30gKi8odGhpcy5jdXJzb3IpLm9uSG92ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtkdXJhdGlvbl1cbiAgICogQHBhcmFtICB7TnVtYmVyfSBbZ2FwXVxuICAgKiBAcGFyYW0gIHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBhbmltYXRlSW5WaWV3KGR1cmF0aW9uLCBnYXAgPSAwLCBlYXNlID0gZWFzZXMuaW5PdXRRdWFkKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1ZhbHVlcygpO1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCBbIGNwdCwgY3ByLCBjcGIsIGNwbCBdID0gdGhpcy5jb250YWluZXJQYWRkaW5nO1xuICAgIGNvbnN0IGJ0ID0gdGhpcy5zY3JvbGwueSAtIHRoaXMudGFyZ2V0Qm91bmRzWzBdICsgY3B0ICsgZ2FwO1xuICAgIGNvbnN0IGJyID0gdGhpcy5zY3JvbGwueCAtIHRoaXMudGFyZ2V0Qm91bmRzWzFdIC0gY3ByIC0gZ2FwO1xuICAgIGNvbnN0IGJiID0gdGhpcy5zY3JvbGwueSAtIHRoaXMudGFyZ2V0Qm91bmRzWzJdIC0gY3BiIC0gZ2FwO1xuICAgIGNvbnN0IGJsID0gdGhpcy5zY3JvbGwueCAtIHRoaXMudGFyZ2V0Qm91bmRzWzNdICsgY3BsICsgZ2FwO1xuICAgIGNvbnN0IG9iID0gdGhpcy5pc091dE9mQm91bmRzKFtidCwgYnIsIGJiLCBibF0sIHgsIHkpO1xuICAgIGlmIChvYikge1xuICAgICAgY29uc3QgWyBkaXNhYmxlZFgsIGRpc2FibGVkWSBdID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgIGNvbnN0IGRlc3RYID0gY2xhbXAoc25hcCh4LCB0aGlzLnNuYXBYKSwgYmwsIGJyKTtcbiAgICAgIGNvbnN0IGRlc3RZID0gY2xhbXAoc25hcCh5LCB0aGlzLnNuYXBZKSwgYnQsIGJiKTtcbiAgICAgIGNvbnN0IGR1ciA9IGlzVW5kKGR1cmF0aW9uKSA/IDM1MCAqIGdsb2JhbHMudGltZVNjYWxlIDogZHVyYXRpb247XG4gICAgICBpZiAoIWRpc2FibGVkWCAmJiAob2IgPT09IDEgfHwgb2IgPT09IDMpKSB0aGlzLmFuaW1hdGVbdGhpcy54UHJvcF0oZGVzdFgsIGR1ciwgZWFzZSk7XG4gICAgICBpZiAoIWRpc2FibGVkWSAmJiAob2IgPT09IDIgfHwgb2IgPT09IDMpKSB0aGlzLmFuaW1hdGVbdGhpcy55UHJvcF0oZGVzdFksIGR1ciwgZWFzZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBlXG4gICAqL1xuICBoYW5kbGVEb3duKGUpIHtcbiAgICBjb25zdCAkZVRhcmdldCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGUudGFyZ2V0KTtcbiAgICBpZiAodGhpcy5ncmFiYmVkIHx8IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gICovKCRlVGFyZ2V0KS50eXBlID09PSAncmFuZ2UnKSByZXR1cm47XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdGhpcy5ncmFiYmVkID0gdHJ1ZTtcbiAgICB0aGlzLnJlbGVhc2VkID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1ZhbHVlcygpO1xuICAgIGNvbnN0IHRvdWNoZXMgPSAvKiogQHR5cGUge1RvdWNoRXZlbnR9ICovKGUpLmNoYW5nZWRUb3VjaGVzO1xuICAgIGNvbnN0IGV2ZW50WCA9IHRvdWNoZXMgPyB0b3VjaGVzWzBdLmNsaWVudFggOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovKGUpLmNsaWVudFg7XG4gICAgY29uc3QgZXZlbnRZID0gdG91Y2hlcyA/IHRvdWNoZXNbMF0uY2xpZW50WSA6IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8oZSkuY2xpZW50WTtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMudHJhbnNmb3Jtcy5ub3JtYWxpemVQb2ludChldmVudFgsIGV2ZW50WSk7XG4gICAgY29uc3QgWyBjdCwgY3IsIGNiLCBjbCBdID0gdGhpcy5jb250YWluZXJCb3VuZHM7XG4gICAgY29uc3QgY2YgPSAoMSAtIHRoaXMuY29udGFpbmVyRnJpY3Rpb24pICogdGhpcy5kcmFnU3BlZWQ7XG4gICAgY29uc3QgY3ggPSB0aGlzLng7XG4gICAgY29uc3QgY3kgPSB0aGlzLnk7XG4gICAgdGhpcy5jb29yZHNbMF0gPSB0aGlzLmNvb3Jkc1syXSA9ICFjZiA/IGN4IDogY3ggPiBjciA/IGNyICsgKGN4IC0gY3IpIC8gY2YgOiBjeCA8IGNsID8gY2wgKyAoY3ggLSBjbCkgLyBjZiA6IGN4O1xuICAgIHRoaXMuY29vcmRzWzFdID0gdGhpcy5jb29yZHNbM10gPSAhY2YgPyBjeSA6IGN5ID4gY2IgPyBjYiArIChjeSAtIGNiKSAvIGNmIDogY3kgPCBjdCA/IGN0ICsgKGN5IC0gY3QpIC8gY2YgOiBjeTtcbiAgICB0aGlzLnBvaW50ZXJbMF0gPSB4O1xuICAgIHRoaXMucG9pbnRlclsxXSA9IHk7XG4gICAgdGhpcy5wb2ludGVyWzJdID0geDtcbiAgICB0aGlzLnBvaW50ZXJbM10gPSB5O1xuICAgIHRoaXMucG9pbnRlcls0XSA9IHg7XG4gICAgdGhpcy5wb2ludGVyWzVdID0geTtcbiAgICB0aGlzLnBvaW50ZXJbNl0gPSB4O1xuICAgIHRoaXMucG9pbnRlcls3XSA9IHk7XG4gICAgdGhpcy5kZWx0YVggPSAwO1xuICAgIHRoaXMuZGVsdGFZID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMF0gPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja1sxXSA9IDA7XG4gICAgdGhpcy52ZWxvY2l0eVN0YWNrWzJdID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgaWYgKHRoaXMudGFyZ2V0U3R5bGVzKSB7XG4gICAgICB0aGlzLnRhcmdldFN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMudGFyZ2V0U3R5bGVzID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeiA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhnZXRUYXJnZXRWYWx1ZSh0aGlzLiR0YXJnZXQsICd6SW5kZXgnLCBmYWxzZSkpO1xuICAgIHpJbmRleCA9ICh6ID4gekluZGV4ID8geiA6IHpJbmRleCkgKyAxO1xuICAgIHRoaXMudGFyZ2V0U3R5bGVzID0gc2V0VGFyZ2V0VmFsdWVzKHRoaXMuJHRhcmdldCwgeyB6SW5kZXggfSk7XG4gICAgaWYgKHRoaXMudHJpZ2dlclN0eWxlcykge1xuICAgICAgdGhpcy50cmlnZ2VyU3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy50cmlnZ2VyU3R5bGVzID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3Vyc29yU3R5bGVzKSB7XG4gICAgICB0aGlzLmN1cnNvclN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMuY3Vyc29yU3R5bGVzID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNGaW5lUG9pbnRlciAmJiB0aGlzLmN1cnNvcikge1xuICAgICAgdGhpcy5ib2R5U3R5bGVzID0gc2V0VGFyZ2V0VmFsdWVzKGRvYy5ib2R5LCB7XG4gICAgICAgIGN1cnNvcjogLyoqIEB0eXBlIHtEcmFnZ2FibGVDdXJzb3JQYXJhbXN9ICovKHRoaXMuY3Vyc29yKS5vbkdyYWJcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnNjcm9sbEluVmlldygxMDAsIDAsIGVhc2VzLm91dCgzKSk7XG4gICAgdGhpcy5vbkdyYWIodGhpcyk7XG5cbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcyk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcyk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcyk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcyk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZU1vdmUoZSkge1xuICAgIGlmICghdGhpcy5ncmFiYmVkKSByZXR1cm47XG4gICAgY29uc3QgdG91Y2hlcyA9IC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8oZSkuY2hhbmdlZFRvdWNoZXM7XG4gICAgY29uc3QgZXZlbnRYID0gdG91Y2hlcyA/IHRvdWNoZXNbMF0uY2xpZW50WCA6IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8oZSkuY2xpZW50WDtcbiAgICBjb25zdCBldmVudFkgPSB0b3VjaGVzID8gdG91Y2hlc1swXS5jbGllbnRZIDogLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyhlKS5jbGllbnRZO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy50cmFuc2Zvcm1zLm5vcm1hbGl6ZVBvaW50KGV2ZW50WCwgZXZlbnRZKTtcbiAgICBjb25zdCBtb3ZlZFggPSB4IC0gdGhpcy5wb2ludGVyWzZdO1xuICAgIGNvbnN0IG1vdmVkWSA9IHkgLSB0aGlzLnBvaW50ZXJbN107XG5cbiAgICBsZXQgJHBhcmVudCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGUudGFyZ2V0KTtcbiAgICBsZXQgaXNBdFRvcCA9IGZhbHNlO1xuICAgIGxldCBpc0F0Qm90dG9tID0gZmFsc2U7XG4gICAgbGV0IGNhblRvdWNoU2Nyb2xsID0gZmFsc2U7XG5cbiAgICB3aGlsZSAodG91Y2hlcyAmJiAkcGFyZW50ICYmICRwYXJlbnQgIT09IHRoaXMuJHRyaWdnZXIpIHtcbiAgICAgIGNvbnN0IG92ZXJmbG93WSA9IGdldFRhcmdldFZhbHVlKCRwYXJlbnQsICdvdmVyZmxvdy15Jyk7XG4gICAgICBpZiAob3ZlcmZsb3dZICE9PSAnaGlkZGVuJyAmJiBvdmVyZmxvd1kgIT09ICd2aXNpYmxlJykge1xuICAgICAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9ICRwYXJlbnQ7XG4gICAgICAgIGlmIChzY3JvbGxIZWlnaHQgPiBjbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICBjYW5Ub3VjaFNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgaXNBdFRvcCA9IHNjcm9sbFRvcCA8PSAzO1xuICAgICAgICAgIGlzQXRCb3R0b20gPSBzY3JvbGxUb3AgPj0gKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkgLSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkcGFyZW50ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8oJHBhcmVudC5wYXJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBpZiAoY2FuVG91Y2hTY3JvbGwgJiYgKCghaXNBdFRvcCAmJiAhaXNBdEJvdHRvbSkgfHwgKGlzQXRUb3AgJiYgbW92ZWRZIDwgMCkgfHwgKGlzQXRCb3R0b20gJiYgbW92ZWRZID4gMCkpKSB7XG5cbiAgICAgIHRoaXMucG9pbnRlclswXSA9IHg7XG4gICAgICB0aGlzLnBvaW50ZXJbMV0gPSB5O1xuICAgICAgdGhpcy5wb2ludGVyWzJdID0geDtcbiAgICAgIHRoaXMucG9pbnRlclszXSA9IHk7XG4gICAgICB0aGlzLnBvaW50ZXJbNF0gPSB4O1xuICAgICAgdGhpcy5wb2ludGVyWzVdID0geTtcbiAgICAgIHRoaXMucG9pbnRlcls2XSA9IHg7XG4gICAgICB0aGlzLnBvaW50ZXJbN10gPSB5O1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgcHJldmVudERlZmF1bHQoZSk7XG5cbiAgICAgIC8vIE5lZWRlZCB0byBwcmV2ZW50cyBjbGljayBvbiBoYW5kbGVVcFxuICAgICAgaWYgKCF0aGlzLnRyaWdnZXJTdHlsZXMpIHRoaXMudHJpZ2dlclN0eWxlcyA9IHNldFRhcmdldFZhbHVlcyh0aGlzLiR0cmlnZ2VyLCB7IHBvaW50ZXJFdmVudHM6ICdub25lJyB9KTtcbiAgICAgIC8vIE5lZWRlZCB0byBwcmV2ZW50IHBhZ2Ugc2Nyb2xsIHdoaWxlIGRyYWdnaW5nIG9uIHRvdWNoIGRldnZpY2VcbiAgICAgIHRoaXMuJHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgdGhpcy4kdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgIHRoaXMuJHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBwcmV2ZW50RGVmYXVsdCk7XG5cblxuICAgICAgaWYgKCghdGhpcy5kaXNhYmxlZFswXSAmJiBhYnMobW92ZWRYKSA+IDMpIHx8ICghdGhpcy5kaXNhYmxlZFsxXSAmJiBhYnMobW92ZWRZKSA+IDMpKSB7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUaWNrZXIucmVzdW1lKCk7XG4gICAgICAgIHRoaXMucG9pbnRlclsyXSA9IHRoaXMucG9pbnRlclswXTtcbiAgICAgICAgdGhpcy5wb2ludGVyWzNdID0gdGhpcy5wb2ludGVyWzFdO1xuICAgICAgICB0aGlzLnBvaW50ZXJbMF0gPSB4O1xuICAgICAgICB0aGlzLnBvaW50ZXJbMV0gPSB5O1xuICAgICAgICB0aGlzLmRyYWdnZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbGVhc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25EcmFnKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVVwKCkge1xuXG4gICAgaWYgKCF0aGlzLmdyYWJiZWQpIHJldHVybjtcblxuICAgIHRoaXMudXBkYXRlVGlja2VyLnBhdXNlKCk7XG5cbiAgICBpZiAodGhpcy50cmlnZ2VyU3R5bGVzKSB7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJvZHlTdHlsZXMpIHtcbiAgICAgIHRoaXMuYm9keVN0eWxlcy5yZXZlcnQoKTtcbiAgICAgIHRoaXMuYm9keVN0eWxlcyA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgWyBkaXNhYmxlZFgsIGRpc2FibGVkWSBdID0gdGhpcy5kaXNhYmxlZDtcbiAgICBjb25zdCBbIHB4MSwgcHkxLCBweDIsIHB5MiwgcHgzLCBweTMgXSA9IHRoaXMucG9pbnRlcjtcbiAgICBjb25zdCBbIGN0LCBjciwgY2IsIGNsIF0gPSB0aGlzLmNvbnRhaW5lckJvdW5kcztcbiAgICBjb25zdCBbIHN4LCBzeSBdID0gdGhpcy5zbmFwcGVkO1xuICAgIGNvbnN0IHNwcmluZ1ggPSB0aGlzLnJlbGVhc2VYU3ByaW5nO1xuICAgIGNvbnN0IHNwcmluZ1kgPSB0aGlzLnJlbGVhc2VZU3ByaW5nO1xuICAgIGNvbnN0IHJlbGVhc2VFYXNlID0gdGhpcy5yZWxlYXNlRWFzZTtcbiAgICBjb25zdCBoYXNSZWxlYXNlU3ByaW5nID0gdGhpcy5oYXNSZWxlYXNlU3ByaW5nO1xuICAgIGNvbnN0IG92ZXJzaG9vdENvb3JkcyA9IHRoaXMub3ZlcnNob290Q29vcmRzO1xuICAgIGNvbnN0IGN4ID0gdGhpcy54O1xuICAgIGNvbnN0IGN5ID0gdGhpcy55O1xuICAgIGNvbnN0IHB2ID0gdGhpcy5jb21wdXRlVmVsb2NpdHkocHgxIC0gcHgzLCBweTEgLSBweTMpO1xuICAgIGNvbnN0IHBhID0gdGhpcy5hbmdsZSA9IGF0YW4yKHB5MSAtIHB5MiwgcHgxIC0gcHgyKTtcbiAgICBjb25zdCBkcyA9IHB2ICogMTUwO1xuICAgIGNvbnN0IGNmID0gKDEgLSB0aGlzLnJlbGVhc2VDb250YWluZXJGcmljdGlvbikgKiB0aGlzLmRyYWdTcGVlZDtcbiAgICBjb25zdCBueCA9IGN4ICsgKGNvcyhwYSkgKiBkcyk7XG4gICAgY29uc3QgbnkgPSBjeSArIChzaW4ocGEpICogZHMpO1xuICAgIGNvbnN0IGJ4ID0gbnggPiBjciA/IGNyICsgKG54IC0gY3IpICogY2YgOiBueCA8IGNsID8gY2wgKyAobnggLSBjbCkgKiBjZiA6IG54O1xuICAgIGNvbnN0IGJ5ID0gbnkgPiBjYiA/IGNiICsgKG55IC0gY2IpICogY2YgOiBueSA8IGN0ID8gY3QgKyAobnkgLSBjdCkgKiBjZiA6IG55O1xuICAgIGNvbnN0IGR4ID0gdGhpcy5kZXN0WCA9IGNsYW1wKHJvdW5kKHNuYXAoYngsIHRoaXMuc25hcFgpLCA1KSwgY2wsIGNyKTtcbiAgICBjb25zdCBkeSA9IHRoaXMuZGVzdFkgPSBjbGFtcChyb3VuZChzbmFwKGJ5LCB0aGlzLnNuYXBZKSwgNSksIGN0LCBjYik7XG4gICAgY29uc3Qgb2IgPSB0aGlzLmlzT3V0T2ZCb3VuZHModGhpcy5jb250YWluZXJCb3VuZHMsIG54LCBueSk7XG5cbiAgICBsZXQgZHVyYXRpb25YID0gMDtcbiAgICBsZXQgZHVyYXRpb25ZID0gMDtcbiAgICBsZXQgZWFzZVggPSByZWxlYXNlRWFzZTtcbiAgICBsZXQgZWFzZVkgPSByZWxlYXNlRWFzZTtcbiAgICBsZXQgbG9uZ2VzdFJlbGVhc2VEdXJhdGlvbiA9IDA7XG5cbiAgICBvdmVyc2hvb3RDb29yZHMueCA9IGN4O1xuICAgIG92ZXJzaG9vdENvb3Jkcy55ID0gY3k7XG5cbiAgICBpZiAoIWRpc2FibGVkWCkge1xuICAgICAgY29uc3QgZGlyZWN0aW9uWCA9IGR4ID09PSBjciA/IGN4ID4gY3IgPyAtMSA6IDEgOiBjeCA8IGNsID8gLTEgOiAxO1xuICAgICAgY29uc3QgZGlzdGFuY2VYID0gcm91bmQoY3ggLSBkeCwgMCk7XG4gICAgICBzcHJpbmdYLnZlbG9jaXR5ID0gZGlzYWJsZWRZICYmIGhhc1JlbGVhc2VTcHJpbmcgPyBkaXN0YW5jZVggPyAoZHMgKiBkaXJlY3Rpb25YKSAvIGFicyhkaXN0YW5jZVgpIDogMCA6IHB2O1xuICAgICAgY29uc3QgeyBlYXNlLCBkdXJhdGlvbiwgcmVzdER1cmF0aW9uIH0gPSBzcHJpbmdYO1xuICAgICAgZHVyYXRpb25YID0gY3ggPT09IGR4ID8gMCA6IGhhc1JlbGVhc2VTcHJpbmcgPyBkdXJhdGlvbiA6IGR1cmF0aW9uIC0gKHJlc3REdXJhdGlvbiAqIGdsb2JhbHMudGltZVNjYWxlKTtcbiAgICAgIGlmIChoYXNSZWxlYXNlU3ByaW5nKSBlYXNlWCA9IGVhc2U7XG4gICAgICBpZiAoZHVyYXRpb25YID4gbG9uZ2VzdFJlbGVhc2VEdXJhdGlvbikgbG9uZ2VzdFJlbGVhc2VEdXJhdGlvbiA9IGR1cmF0aW9uWDtcbiAgICB9XG5cbiAgICBpZiAoIWRpc2FibGVkWSkge1xuICAgICAgY29uc3QgZGlyZWN0aW9uWSA9IGR5ID09PSBjYiA/IGN5ID4gY2IgPyAtMSA6IDEgOiBjeSA8IGN0ID8gLTEgOiAxO1xuICAgICAgY29uc3QgZGlzdGFuY2VZID0gcm91bmQoY3kgLSBkeSwgMCk7XG4gICAgICBzcHJpbmdZLnZlbG9jaXR5ID0gZGlzYWJsZWRYICYmIGhhc1JlbGVhc2VTcHJpbmcgPyBkaXN0YW5jZVkgPyAoZHMgKiBkaXJlY3Rpb25ZKSAvIGFicyhkaXN0YW5jZVkpIDogMCA6IHB2O1xuICAgICAgY29uc3QgeyBlYXNlLCBkdXJhdGlvbiwgcmVzdER1cmF0aW9uIH0gPSBzcHJpbmdZO1xuICAgICAgZHVyYXRpb25ZID0gY3kgPT09IGR5ID8gMCA6IGhhc1JlbGVhc2VTcHJpbmcgPyBkdXJhdGlvbiA6IGR1cmF0aW9uIC0gKHJlc3REdXJhdGlvbiAqIGdsb2JhbHMudGltZVNjYWxlKTtcbiAgICAgIGlmIChoYXNSZWxlYXNlU3ByaW5nKSBlYXNlWSA9IGVhc2U7XG4gICAgICBpZiAoZHVyYXRpb25ZID4gbG9uZ2VzdFJlbGVhc2VEdXJhdGlvbikgbG9uZ2VzdFJlbGVhc2VEdXJhdGlvbiA9IGR1cmF0aW9uWTtcbiAgICB9XG5cbiAgICBpZiAoIWhhc1JlbGVhc2VTcHJpbmcgJiYgb2IgJiYgY2YgJiYgKGR1cmF0aW9uWCB8fCBkdXJhdGlvblkpKSB7XG5cbiAgICAgICAgY29uc3QgY29tcG9zaXRpb24gPSBjb21wb3NpdGlvblR5cGVzLmJsZW5kO1xuXG4gICAgICAgIG5ldyBKU0FuaW1hdGlvbihvdmVyc2hvb3RDb29yZHMsIHtcbiAgICAgICAgICB4OiB7IHRvOiBieCwgZHVyYXRpb246IGR1cmF0aW9uWCAqIC42NSB9LFxuICAgICAgICAgIHk6IHsgdG86IGJ5LCBkdXJhdGlvbjogZHVyYXRpb25ZICogLjY1IH0sXG4gICAgICAgICAgZWFzZTogcmVsZWFzZUVhc2UsXG4gICAgICAgICAgY29tcG9zaXRpb24sXG4gICAgICAgIH0pLmluaXQoKTtcblxuICAgICAgICBuZXcgSlNBbmltYXRpb24ob3ZlcnNob290Q29vcmRzLCB7XG4gICAgICAgICAgeDogeyB0bzogZHgsIGR1cmF0aW9uOiBkdXJhdGlvblggfSxcbiAgICAgICAgICB5OiB7IHRvOiBkeSwgZHVyYXRpb246IGR1cmF0aW9uWSB9LFxuICAgICAgICAgIGVhc2U6IHJlbGVhc2VFYXNlLFxuICAgICAgICAgIGNvbXBvc2l0aW9uLFxuICAgICAgICB9KS5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5vdmVyc2hvb3RYVGlja2VyLnN0cmV0Y2goZHVyYXRpb25YKS5yZXN0YXJ0KCk7XG4gICAgICAgIHRoaXMub3ZlcnNob290WVRpY2tlci5zdHJldGNoKGR1cmF0aW9uWSkucmVzdGFydCgpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKCFkaXNhYmxlZFgpIHRoaXMuYW5pbWF0ZVt0aGlzLnhQcm9wXShkeCwgZHVyYXRpb25YLCBlYXNlWCk7XG4gICAgICBpZiAoIWRpc2FibGVkWSkgdGhpcy5hbmltYXRlW3RoaXMueVByb3BdKGR5LCBkdXJhdGlvblksIGVhc2VZKTtcblxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsSW5WaWV3KGxvbmdlc3RSZWxlYXNlRHVyYXRpb24sIHRoaXMuc2Nyb2xsVGhyZXNob2xkLCByZWxlYXNlRWFzZSk7XG5cbiAgICBsZXQgaGFzU25hcHBlZCA9IGZhbHNlO1xuXG4gICAgaWYgKGR4ICE9PSBzeCkge1xuICAgICAgdGhpcy5zbmFwcGVkWzBdID0gZHg7XG4gICAgICBpZiAodGhpcy5zbmFwWCkgaGFzU25hcHBlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGR5ICE9PSBzeSAmJiB0aGlzLnNuYXBZKSB7XG4gICAgICB0aGlzLnNuYXBwZWRbMV0gPSBkeTtcbiAgICAgIGlmICh0aGlzLnNuYXBZKSBoYXNTbmFwcGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaGFzU25hcHBlZCkgdGhpcy5vblNuYXAodGhpcyk7XG5cbiAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZWQgPSB0cnVlO1xuICAgIHRoaXMucmVsZWFzZWQgPSB0cnVlO1xuXG4gICAgLy8gSXQncyBpbXBvcnRhbnQgdG8gdHJpZ2dlciB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIHJlbGVhc2UgYW5pbWF0aW9ucyB0byBiZSBhYmxlIHRvIGNhbmNlbCB0aGVtXG4gICAgdGhpcy5vblJlbGVhc2UodGhpcyk7XG5cbiAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgdGhpcy4kdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgdGhpcy4kdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHByZXZlbnREZWZhdWx0KTtcblxuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcyk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCB0aGlzKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMucmVzaXplVGlja2VyLnBhdXNlKCk7XG4gICAgdGhpcy5ncmFiYmVkID0gZmFsc2U7XG4gICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZWxlYXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuU2Nyb2xsID0gZmFsc2U7XG4gICAgdGhpcy5zZXRYKDAsIHRydWUpO1xuICAgIHRoaXMuc2V0WSgwLCB0cnVlKTtcbiAgICB0aGlzLmNvb3Jkc1swXSA9IDA7XG4gICAgdGhpcy5jb29yZHNbMV0gPSAwO1xuICAgIHRoaXMucG9pbnRlclswXSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzFdID0gMDtcbiAgICB0aGlzLnBvaW50ZXJbMl0gPSAwO1xuICAgIHRoaXMucG9pbnRlclszXSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzRdID0gMDtcbiAgICB0aGlzLnBvaW50ZXJbNV0gPSAwO1xuICAgIHRoaXMucG9pbnRlcls2XSA9IDA7XG4gICAgdGhpcy5wb2ludGVyWzddID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tbMF0gPSAwO1xuICAgIHRoaXMudmVsb2NpdHlTdGFja1sxXSA9IDA7XG4gICAgdGhpcy52ZWxvY2l0eVN0YWNrWzJdID0gMDtcbiAgICB0aGlzLnZlbG9jaXR5U3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBlbmFibGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLiR0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZGlzYWJsZWQnKTtcbiAgICAgIHRoaXMudG91Y2hBY3Rpb25TdHlsZXMgPSBzZXRUYXJnZXRWYWx1ZXModGhpcy4kdHJpZ2dlciwge1xuICAgICAgICB0b3VjaEFjdGlvbjogdGhpcy5kaXNhYmxlZFswXSA/ICdwYW4teCcgOiB0aGlzLmRpc2FibGVkWzFdID8gJ3Bhbi15JyA6ICdub25lJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLiR0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICB0aGlzLiR0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIHRoaXMuJHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5ncmFiYmVkID0gZmFsc2U7XG4gICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZWxlYXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FuU2Nyb2xsID0gZmFsc2U7XG4gICAgdGhpcy50b3VjaEFjdGlvblN0eWxlcy5yZXZlcnQoKTtcbiAgICBpZiAodGhpcy5jdXJzb3JTdHlsZXMpIHtcbiAgICAgIHRoaXMuY3Vyc29yU3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy50cmlnZ2VyU3R5bGVzKSB7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLnRyaWdnZXJTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5ib2R5U3R5bGVzKSB7XG4gICAgICB0aGlzLmJvZHlTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLmJvZHlTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy50YXJnZXRTdHlsZXMpIHtcbiAgICAgIHRoaXMudGFyZ2V0U3R5bGVzLnJldmVydCgpO1xuICAgICAgdGhpcy50YXJnZXRTdHlsZXMgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLiR0YXJnZXQuY2xhc3NMaXN0LmFkZCgnaXMtZGlzYWJsZWQnKTtcbiAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzKTtcbiAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMpO1xuICAgIHRoaXMuJHRyaWdnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMpO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcyk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldmVydCgpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgdGhpcy4kdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRpc2FibGVkJyk7XG4gICAgdGhpcy51cGRhdGVUaWNrZXIucmV2ZXJ0KCk7XG4gICAgdGhpcy5vdmVyc2hvb3RYVGlja2VyLnJldmVydCgpO1xuICAgIHRoaXMub3ZlcnNob290WVRpY2tlci5yZXZlcnQoKTtcbiAgICB0aGlzLnJlc2l6ZVRpY2tlci5yZXZlcnQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBoYW5kbGVFdmVudChlKSB7XG4gICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICAgIHRoaXMuaGFuZGxlRG93bigvKiogQHR5cGUge01vdXNlRXZlbnR9ICovKGUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3VjaHN0YXJ0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVEb3duKC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8oZSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vdXNlbW92ZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW92ZSgvKiogQHR5cGUge01vdXNlRXZlbnR9ICovKGUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3VjaG1vdmUnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vdmUoLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhlKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW91c2V1cCc6XG4gICAgICAgIHRoaXMuaGFuZGxlVXAoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3VjaGVuZCc6XG4gICAgICAgIHRoaXMuaGFuZGxlVXAoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3VjaGNhbmNlbCc6XG4gICAgICAgIHRoaXMuaGFuZGxlVXAoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb3VzZWVudGVyJzpcbiAgICAgICAgdGhpcy5oYW5kbGVIb3ZlcigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbGVjdHN0YXJ0JzpcbiAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRcbiAqIEBwYXJhbSB7RHJhZ2dhYmxlUGFyYW1zfSBbcGFyYW1ldGVyc11cbiAqIEByZXR1cm4ge0RyYWdnYWJsZX1cbiAqL1xuY29uc3QgY3JlYXRlRHJhZ2dhYmxlID0gKHRhcmdldCwgcGFyYW1ldGVycykgPT4gbmV3IERyYWdnYWJsZSh0YXJnZXQsIHBhcmFtZXRlcnMpO1xuXG5cblxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlYWN0UmVmXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR8bnVsbH0gW2N1cnJlbnRdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmd1bGFyUmVmXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR9IFtuYXRpdmVFbGVtZW50XVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2NvcGVQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7RE9NVGFyZ2V0U2VsZWN0b3J8UmVhY3RSZWZ8QW5ndWxhclJlZn0gW3Jvb3RdXG4gKiBAcHJvcGVydHkge0RlZmF1bHRzUGFyYW1zfSBbZGVmYXVsdHNdXG4gKiBAcHJvcGVydHkge1JlY29yZDxTdHJpbmcsIFN0cmluZz59IFttZWRpYVF1ZXJpZXNdXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgU2NvcGVDbGVhbnVwXG4gKiBAcGFyYW0ge1Njb3BlfSBbc2NvcGVdXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgU2NvcGVDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTY29wZX0gW3Njb3BlXVxuICogQHJldHVybiB7U2NvcGVDbGVhbnVwfHZvaWR9XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgU2NvcGVNZXRob2RcbiAqIEBwYXJhbSB7Li4uKn0gYXJnc1xuICogQHJldHVybiB7U2NvcGVDbGVhbnVwfHZvaWR9XG4gKi9cblxuY2xhc3MgU2NvcGUge1xuICAvKiogQHBhcmFtIHtTY29wZVBhcmFtc30gW3BhcmFtZXRlcnNdICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIGlmIChnbG9iYWxzLnNjb3BlKSBnbG9iYWxzLnNjb3BlLnJldmVydGlibGVzLnB1c2godGhpcyk7XG4gICAgY29uc3Qgcm9vdFBhcmFtID0gcGFyYW1ldGVycy5yb290O1xuICAgIC8qKiBAdHlwZSB7RG9jdW1lbnR8RE9NVGFyZ2V0fSAqL1xuICAgIGxldCByb290ID0gZG9jO1xuICAgIGlmIChyb290UGFyYW0pIHtcbiAgICAgIHJvb3QgPSAvKiogQHR5cGUge1JlYWN0UmVmfSAqLyhyb290UGFyYW0pLmN1cnJlbnQgfHxcbiAgICAgICAgICAgICAvKiogQHR5cGUge0FuZ3VsYXJSZWZ9ICovKHJvb3RQYXJhbSkubmF0aXZlRWxlbWVudCB8fFxuICAgICAgICAgICAgIHBhcnNlVGFyZ2V0cygvKiogQHR5cGUge0RPTVRhcmdldFNlbGVjdG9yfSAqLyhyb290UGFyYW0pKVswXSB8fFxuICAgICAgICAgICAgIGRvYztcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVEZWZhdWx0cyA9IHBhcmFtZXRlcnMuZGVmYXVsdHM7XG4gICAgY29uc3QgZ2xvYmFsRGVmYXVsdCA9IGdsb2JhbHMuZGVmYXVsdHM7XG4gICAgY29uc3QgbWVkaWFRdWVyaWVzID0gcGFyYW1ldGVycy5tZWRpYVF1ZXJpZXM7XG4gICAgLyoqIEB0eXBlIHtEZWZhdWx0c1BhcmFtc30gKi9cbiAgICB0aGlzLmRlZmF1bHRzID0gc2NvcGVEZWZhdWx0cyA/IG1lcmdlT2JqZWN0cyhzY29wZURlZmF1bHRzLCBnbG9iYWxEZWZhdWx0KSA6IGdsb2JhbERlZmF1bHQ7XG4gICAgLyoqIEB0eXBlIHtEb2N1bWVudHxET01UYXJnZXR9ICovXG4gICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICAvKiogQHR5cGUge0FycmF5PFNjb3BlQ29uc3RydWN0b3I+fSAqL1xuICAgIHRoaXMuY29uc3RydWN0b3JzID0gW107XG4gICAgLyoqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59ICovXG4gICAgdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnMgPSBbXTtcbiAgICAvKiogQHR5cGUge0FycmF5PFJldmVydGlibGU+fSAqL1xuICAgIHRoaXMucmV2ZXJ0aWJsZXMgPSBbXTtcbiAgICAvKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIEZ1bmN0aW9uPn0gKi9cbiAgICB0aGlzLm1ldGhvZHMgPSB7fTtcbiAgICAvKiogQHR5cGUge1JlY29yZDxTdHJpbmcsIEJvb2xlYW4+fSAqL1xuICAgIHRoaXMubWF0Y2hlcyA9IHt9O1xuICAgIC8qKiBAdHlwZSB7UmVjb3JkPFN0cmluZywgTWVkaWFRdWVyeUxpc3Q+fSAqL1xuICAgIHRoaXMubWVkaWFRdWVyeUxpc3RzID0ge307XG4gICAgLyoqIEB0eXBlIHtSZWNvcmQ8U3RyaW5nLCBhbnk+fSAqL1xuICAgIHRoaXMuZGF0YSA9IHt9O1xuICAgIGlmIChtZWRpYVF1ZXJpZXMpIHtcbiAgICAgIGZvciAobGV0IG1xIGluIG1lZGlhUXVlcmllcykge1xuICAgICAgICBjb25zdCBfbXEgPSB3aW4ubWF0Y2hNZWRpYShtZWRpYVF1ZXJpZXNbbXFdKTtcbiAgICAgICAgdGhpcy5tZWRpYVF1ZXJ5TGlzdHNbbXFdID0gX21xO1xuICAgICAgICBfbXEuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBTY29wcGVkQ2FsbGJhY2tcbiAgICogQHBhcmFtIHt0aGlzfSBzY29wZVxuICAgKiBAcmV0dXJuIHthbnl9XG4gICAqXG4gICAqIEBwYXJhbSB7U2NvcHBlZENhbGxiYWNrfSBjYlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgZXhlY3V0ZShjYikge1xuICAgIGxldCBhY3RpdmVTY29wZSA9IGdsb2JhbHMuc2NvcGU7XG4gICAgbGV0IGFjdGl2ZVJvb3QgPSBnbG9iYWxzLnJvb3Q7XG4gICAgbGV0IGFjdGl2ZURlZmF1bHRzID0gZ2xvYmFscy5kZWZhdWx0cztcbiAgICBnbG9iYWxzLnNjb3BlID0gdGhpcztcbiAgICBnbG9iYWxzLnJvb3QgPSB0aGlzLnJvb3Q7XG4gICAgZ2xvYmFscy5kZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHM7XG4gICAgY29uc3QgbXFzID0gdGhpcy5tZWRpYVF1ZXJ5TGlzdHM7XG4gICAgZm9yIChsZXQgbXEgaW4gbXFzKSB0aGlzLm1hdGNoZXNbbXFdID0gbXFzW21xXS5tYXRjaGVzO1xuICAgIGNvbnN0IHJldHVybmVkID0gY2IodGhpcyk7XG4gICAgZ2xvYmFscy5zY29wZSA9IGFjdGl2ZVNjb3BlO1xuICAgIGdsb2JhbHMucm9vdCA9IGFjdGl2ZVJvb3Q7XG4gICAgZ2xvYmFscy5kZWZhdWx0cyA9IGFjdGl2ZURlZmF1bHRzO1xuICAgIHJldHVybiByZXR1cm5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKCkgPT4ge1xuICAgICAgbGV0IGkgPSB0aGlzLnJldmVydGlibGVzLmxlbmd0aDtcbiAgICAgIGxldCB5ID0gdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGktLSkgdGhpcy5yZXZlcnRpYmxlc1tpXS5yZXZlcnQoKTtcbiAgICAgIHdoaWxlICh5LS0pIHRoaXMucmV2ZXJ0Q29uc3RydWN0b3JzW3ldKHRoaXMpO1xuICAgICAgdGhpcy5yZXZlcnRpYmxlcy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuY29uc3RydWN0b3JzLmZvckVhY2goIGNvbnN0cnVjdG9yID0+IHtcbiAgICAgICAgY29uc3QgcmV2ZXJ0Q29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgaWYgKHJldmVydENvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnMucHVzaChyZXZlcnRDb25zdHJ1Y3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBjb250cnVjdG9yQ2FsbGJhY2tcbiAgICogQHBhcmFtIHt0aGlzfSBzZWxmXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gYTFcbiAgICogQHBhcmFtIHtTY29wZU1ldGhvZH0gYTJcbiAgICogQHJldHVybiB7dGhpc31cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7Y29udHJ1Y3RvckNhbGxiYWNrfSBhMVxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xjb250cnVjdG9yQ2FsbGJhY2t9IGExXG4gICAqIEBwYXJhbSB7U2NvcGVNZXRob2R9IFthMl1cbiAgICovXG4gIGFkZChhMSwgYTIpIHtcbiAgICBpZiAoaXNGbmMoYTEpKSB7XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IC8qKiBAdHlwZSB7Y29udHJ1Y3RvckNhbGxiYWNrfSAqLyhhMSk7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9ycy5wdXNoKGNvbnN0cnVjdG9yKTtcbiAgICAgIHRoaXMuZXhlY3V0ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldmVydENvbnN0cnVjdG9yID0gY29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIGlmIChyZXZlcnRDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgIHRoaXMucmV2ZXJ0Q29uc3RydWN0b3JzLnB1c2gocmV2ZXJ0Q29uc3RydWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXRob2RzWy8qKiBAdHlwZSB7U3RyaW5nfSAqLyhhMSldID0gKC8qKiBAdHlwZSB7YW55fSAqLy4uLmFyZ3MpID0+IHRoaXMuZXhlY3V0ZSgoKSA9PiBhMiguLi5hcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZUV2ZW50KGUpIHtcbiAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgY2FzZSAnY2hhbmdlJzpcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldmVydCgpIHtcbiAgICBjb25zdCByZXZlcnRpYmxlcyA9IHRoaXMucmV2ZXJ0aWJsZXM7XG4gICAgY29uc3QgcmV2ZXJ0Q29uc3RydWN0b3JzID0gdGhpcy5yZXZlcnRDb25zdHJ1Y3RvcnM7XG4gICAgY29uc3QgbXFzID0gdGhpcy5tZWRpYVF1ZXJ5TGlzdHM7XG4gICAgbGV0IGkgPSByZXZlcnRpYmxlcy5sZW5ndGg7XG4gICAgbGV0IHkgPSByZXZlcnRDb25zdHJ1Y3RvcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHJldmVydGlibGVzW2ldLnJldmVydCgpO1xuICAgIHdoaWxlICh5LS0pIHJldmVydENvbnN0cnVjdG9yc1t5XSh0aGlzKTtcbiAgICBmb3IgKGxldCBtcSBpbiBtcXMpIG1xc1ttcV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcyk7XG4gICAgcmV2ZXJ0aWJsZXMubGVuZ3RoID0gMDtcbiAgICByZXZlcnRDb25zdHJ1Y3RvcnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNvbnN0cnVjdG9ycy5sZW5ndGggPSAwO1xuICAgIHRoaXMubWF0Y2hlcyA9IHt9O1xuICAgIHRoaXMubWV0aG9kcyA9IHt9O1xuICAgIHRoaXMubWVkaWFRdWVyeUxpc3RzID0ge307XG4gICAgdGhpcy5kYXRhID0ge307XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1Njb3BlUGFyYW1zfSBbcGFyYW1zXVxuICogQHJldHVybiB7U2NvcGV9XG4gKi9cbmNvbnN0IGNyZWF0ZVNjb3BlID0gcGFyYW1zID0+IG5ldyBTY29wZShwYXJhbXMpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTdHJpbmd8TnVtYmVyfSBTY3JvbGxUaHJlc2hvbGRWYWx1ZVxuICovXG5cbi8qKlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5jb25zdCBnZXRNYXhWaWV3SGVpZ2h0ID0gKCkgPT4ge1xuICBjb25zdCAkZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoJGVsKTtcbiAgJGVsLnN0eWxlLmhlaWdodCA9ICcxMDBsdmgnO1xuICBjb25zdCBoZWlnaHQgPSAkZWwub2Zmc2V0SGVpZ2h0O1xuICBkb2MuYm9keS5yZW1vdmVDaGlsZCgkZWwpO1xuICByZXR1cm4gaGVpZ2h0O1xufTtcblxuLyoqXG4gKiBAdGVtcGxhdGUge1Njcm9sbFRocmVzaG9sZFZhbHVlfFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxGdW5jdGlvbnxPYmplY3R9IFRcbiAqIEBwYXJhbSB7VCB8ICgob2JzZXJ2ZXI6IFNjcm9sbE9ic2VydmVyKSA9PiBUKX0gdmFsdWVcbiAqIEBwYXJhbSB7U2Nyb2xsT2JzZXJ2ZXJ9IHNjcm9sbGVyXG4gKiBAcmV0dXJuIHtUfVxuICovXG5jb25zdCBwYXJzZVNjcm9sbE9ic2VydmVyRnVuY3Rpb25QYXJhbWV0ZXIgPSAodmFsdWUsIHNjcm9sbGVyKSA9PiB2YWx1ZSAmJiBpc0ZuYyh2YWx1ZSkgPyAvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyh2YWx1ZSkoc2Nyb2xsZXIpIDogdmFsdWU7XG5cbmNvbnN0IHNjcm9sbENvbnRhaW5lcnMgPSBuZXcgTWFwKCk7XG5cbmNsYXNzIFNjcm9sbENvbnRhaW5lciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAkZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCRlbCkge1xuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG4gICAgdGhpcy5lbGVtZW50ID0gJGVsO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLnVzZVdpbiA9IHRoaXMuZWxlbWVudCA9PT0gZG9jLmJvZHk7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy53aW5XaWR0aCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy53aW5IZWlnaHQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmxlZnQgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMudG9wID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnpJbmRleCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5zY3JvbGxYID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnNjcm9sbFkgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMucHJldlNjcm9sbFggPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMucHJldlNjcm9sbFkgPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsV2lkdGggPSAwO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5iYWNrd2FyZFggPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5iYWNrd2FyZFkgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge1RpbWVyfSAqL1xuICAgIHRoaXMuc2Nyb2xsVGlja2VyID0gbmV3IFRpbWVyKHtcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgIG9uQmVnaW46ICgpID0+IHRoaXMuZGF0YVRpbWVyLnJlc3VtZSgpLFxuICAgICAgb25VcGRhdGU6ICgpID0+IHtcbiAgICAgICAgY29uc3QgYmFja3dhcmRzID0gdGhpcy5iYWNrd2FyZFggfHwgdGhpcy5iYWNrd2FyZFk7XG4gICAgICAgIGZvckVhY2hDaGlsZHJlbih0aGlzLCAoLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi9jaGlsZCkgPT4gY2hpbGQuaGFuZGxlU2Nyb2xsKCksIGJhY2t3YXJkcyk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4gdGhpcy5kYXRhVGltZXIucGF1c2UoKVxuICAgIH0pLmluaXQoKTtcbiAgICAvKiogQHR5cGUge1RpbWVyfSAqL1xuICAgIHRoaXMuZGF0YVRpbWVyID0gbmV3IFRpbWVyKHtcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgIGZyYW1lUmF0ZTogMzAsXG4gICAgICBvblVwZGF0ZTogc2VsZiA9PiB7XG4gICAgICAgIGNvbnN0IGR0ID0gc2VsZi5kZWx0YVRpbWU7XG4gICAgICAgIGNvbnN0IHB4ID0gdGhpcy5wcmV2U2Nyb2xsWDtcbiAgICAgICAgY29uc3QgcHkgPSB0aGlzLnByZXZTY3JvbGxZO1xuICAgICAgICBjb25zdCBueCA9IHRoaXMuc2Nyb2xsWDtcbiAgICAgICAgY29uc3QgbnkgPSB0aGlzLnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IGR4ID0gcHggLSBueDtcbiAgICAgICAgY29uc3QgZHkgPSBweSAtIG55O1xuICAgICAgICB0aGlzLnByZXZTY3JvbGxYID0gbng7XG4gICAgICAgIHRoaXMucHJldlNjcm9sbFkgPSBueTtcbiAgICAgICAgaWYgKGR4KSB0aGlzLmJhY2t3YXJkWCA9IHB4ID4gbng7XG4gICAgICAgIGlmIChkeSkgdGhpcy5iYWNrd2FyZFkgPSBweSA+IG55O1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gcm91bmQoZHQgPiAwID8gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGR0IDogMCwgNSk7XG4gICAgICB9XG4gICAgfSkuaW5pdCgpO1xuICAgIC8qKiBAdHlwZSB7VGltZXJ9ICovXG4gICAgdGhpcy5yZXNpemVUaWNrZXIgPSBuZXcgVGltZXIoe1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgZHVyYXRpb246IDI1MCAqIGdsb2JhbHMudGltZVNjYWxlLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVdpbmRvd0JvdW5kcygpO1xuICAgICAgICB0aGlzLnJlZnJlc2hTY3JvbGxPYnNlcnZlcnMoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwoKTtcbiAgICAgIH1cbiAgICB9KS5pbml0KCk7XG4gICAgLyoqIEB0eXBlIHtUaW1lcn0gKi9cbiAgICB0aGlzLndha2VUaWNrZXIgPSBuZXcgVGltZXIoe1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgZHVyYXRpb246IDUwMCAqIGdsb2JhbHMudGltZVNjYWxlLFxuICAgICAgb25CZWdpbjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbFRpY2tlci5yZXN1bWUoKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVGlja2VyLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfSkuaW5pdCgpO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovXG4gICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi9cbiAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZVNjcm9sbENvb3JkcygpO1xuICAgIHRoaXMudXBkYXRlV2luZG93Qm91bmRzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICB0aGlzLnJlZnJlc2hTY3JvbGxPYnNlcnZlcnMoKTtcbiAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy5yZXNpemVUaWNrZXIucmVzdGFydCgpKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50KTtcbiAgICAodGhpcy51c2VXaW4gPyB3aW4gOiB0aGlzLmVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMsIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNjcm9sbENvb3JkcygpIHtcbiAgICBjb25zdCB1c2VXaW4gPSB0aGlzLnVzZVdpbjtcbiAgICBjb25zdCAkZWwgPSB0aGlzLmVsZW1lbnQ7XG4gICAgdGhpcy5zY3JvbGxYID0gcm91bmQodXNlV2luID8gd2luLnNjcm9sbFggOiAkZWwuc2Nyb2xsTGVmdCwgMCk7XG4gICAgdGhpcy5zY3JvbGxZID0gcm91bmQodXNlV2luID8gd2luLnNjcm9sbFkgOiAkZWwuc2Nyb2xsVG9wLCAwKTtcbiAgfVxuXG4gIHVwZGF0ZVdpbmRvd0JvdW5kcygpIHtcbiAgICB0aGlzLndpbldpZHRoID0gd2luLmlubmVyV2lkdGg7XG4gICAgdGhpcy53aW5IZWlnaHQgPSBnZXRNYXhWaWV3SGVpZ2h0KCk7XG4gIH1cblxuICB1cGRhdGVCb3VuZHMoKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7XG4gICAgY29uc3QgJGVsID0gdGhpcy5lbGVtZW50O1xuICAgIHRoaXMuc2Nyb2xsV2lkdGggPSAkZWwuc2Nyb2xsV2lkdGggKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5SaWdodCk7XG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSAkZWwuc2Nyb2xsSGVpZ2h0ICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Ub3ApICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICAgIHRoaXMudXBkYXRlV2luZG93Qm91bmRzKCk7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gICAgaWYgKHRoaXMudXNlV2luKSB7XG4gICAgICB3aWR0aCA9IHRoaXMud2luV2lkdGg7XG4gICAgICBoZWlnaHQgPSB0aGlzLndpbkhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZWxSZWN0ID0gJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgd2lkdGggPSBlbFJlY3Qud2lkdGg7XG4gICAgICBoZWlnaHQgPSBlbFJlY3QuaGVpZ2h0O1xuICAgICAgdGhpcy50b3AgPSBlbFJlY3QudG9wO1xuICAgICAgdGhpcy5sZWZ0ID0gZWxSZWN0LmxlZnQ7XG4gICAgfVxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIHJlZnJlc2hTY3JvbGxPYnNlcnZlcnMoKSB7XG4gICAgZm9yRWFjaENoaWxkcmVuKHRoaXMsICgvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqL2NoaWxkKSA9PiB7XG4gICAgICBpZiAoY2hpbGQuX2RlYnVnKSB7XG4gICAgICAgIGNoaWxkLnJlbW92ZURlYnVnKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICBmb3JFYWNoQ2hpbGRyZW4odGhpcywgKC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJ9ICovY2hpbGQpID0+IHtcbiAgICAgIGNoaWxkLnJlZnJlc2goKTtcbiAgICAgIGlmIChjaGlsZC5fZGVidWcpIHtcbiAgICAgICAgY2hpbGQuZGVidWcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy51cGRhdGVXaW5kb3dCb3VuZHMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIHRoaXMucmVmcmVzaFNjcm9sbE9ic2VydmVycygpO1xuICAgIHRoaXMuaGFuZGxlU2Nyb2xsKCk7XG4gIH1cblxuICBoYW5kbGVTY3JvbGwoKSB7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxDb29yZHMoKTtcbiAgICB0aGlzLndha2VUaWNrZXIucmVzdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIGhhbmRsZUV2ZW50KGUpIHtcbiAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV2ZXJ0KCkge1xuICAgIHRoaXMuc2Nyb2xsVGlja2VyLmNhbmNlbCgpO1xuICAgIHRoaXMuZGF0YVRpbWVyLmNhbmNlbCgpO1xuICAgIHRoaXMucmVzaXplVGlja2VyLmNhbmNlbCgpO1xuICAgIHRoaXMud2FrZVRpY2tlci5jYW5jZWwoKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmVsZW1lbnQpO1xuICAgICh0aGlzLnVzZVdpbiA/IHdpbiA6IHRoaXMuZWxlbWVudCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcyk7XG4gICAgc2Nyb2xsQ29udGFpbmVycy5kZWxldGUodGhpcy5lbGVtZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7VGFyZ2V0c1BhcmFtfSB0YXJnZXRcbiAqIEByZXR1cm4ge1Njcm9sbENvbnRhaW5lcn1cbiAqL1xuY29uc3QgcmVnaXN0ZXJBbmRHZXRTY3JvbGxDb250YWluZXIgPSB0YXJnZXQgPT4ge1xuICBjb25zdCAkZWwgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyh0YXJnZXQgPyBwYXJzZVRhcmdldHModGFyZ2V0KVswXSB8fCBkb2MuYm9keSA6IGRvYy5ib2R5KTtcbiAgbGV0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbENvbnRhaW5lcnMuZ2V0KCRlbCk7XG4gIGlmICghc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgc2Nyb2xsQ29udGFpbmVyID0gbmV3IFNjcm9sbENvbnRhaW5lcigkZWwpO1xuICAgIHNjcm9sbENvbnRhaW5lcnMuc2V0KCRlbCwgc2Nyb2xsQ29udGFpbmVyKTtcbiAgfVxuICByZXR1cm4gc2Nyb2xsQ29udGFpbmVyO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAkZWxcbiAqIEBwYXJhbSB7TnVtYmVyfHN0cmluZ30gdlxuICogQHBhcmFtIHtOdW1iZXJ9IHNpemVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbdW5kZXJdXG4gKiBAcGFyYW0ge051bWJlcn0gW292ZXJdXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGNvbnZlcnRWYWx1ZVRvUHggPSAoJGVsLCB2LCBzaXplLCB1bmRlciwgb3ZlcikgPT4ge1xuICBjb25zdCBjbGFtcE1pbiA9IHYgPT09ICdtaW4nO1xuICBjb25zdCBjbGFtcE1heCA9IHYgPT09ICdtYXgnO1xuICBjb25zdCB2YWx1ZSA9IHYgPT09ICd0b3AnIHx8IHYgPT09ICdsZWZ0JyB8fCB2ID09PSAnc3RhcnQnIHx8IGNsYW1wTWluID8gMCA6XG4gICAgICAgICAgICAgICAgdiA9PT0gJ2JvdHRvbScgfHwgdiA9PT0gJ3JpZ2h0JyB8fCB2ID09PSAnZW5kJyB8fCBjbGFtcE1heCA/ICcxMDAlJyA6XG4gICAgICAgICAgICAgICAgdiA9PT0gJ2NlbnRlcicgPyAnNTAlJyA6XG4gICAgICAgICAgICAgICAgdjtcbiAgY29uc3QgeyBuLCB1IH0gPSBkZWNvbXBvc2VSYXdWYWx1ZSh2YWx1ZSwgZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUpO1xuICBsZXQgcHggPSBuO1xuICBpZiAodSA9PT0gJyUnKSB7XG4gICAgcHggPSAobiAvIDEwMCkgKiBzaXplO1xuICB9IGVsc2UgaWYgKHUpIHtcbiAgICBweCA9IGNvbnZlcnRWYWx1ZVVuaXQoJGVsLCBkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSwgJ3B4JywgdHJ1ZSkubjtcbiAgfVxuICBpZiAoY2xhbXBNYXggJiYgdW5kZXIgPCAwKSBweCArPSB1bmRlcjtcbiAgaWYgKGNsYW1wTWluICYmIG92ZXIgPiAwKSBweCArPSBvdmVyO1xuICByZXR1cm4gcHg7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICRlbFxuICogQHBhcmFtIHtTY3JvbGxUaHJlc2hvbGRWYWx1ZX0gdlxuICogQHBhcmFtIHtOdW1iZXJ9IHNpemVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbdW5kZXJdXG4gKiBAcGFyYW0ge051bWJlcn0gW292ZXJdXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IHBhcnNlQm91bmRWYWx1ZSA9ICgkZWwsIHYsIHNpemUsIHVuZGVyLCBvdmVyKSA9PiB7XG4gIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICBsZXQgdmFsdWU7XG4gIGlmIChpc1N0cih2KSkge1xuICAgIGNvbnN0IG1hdGNoZWRPcGVyYXRvciA9IHJlbGF0aXZlVmFsdWVzRXhlY1JneC5leGVjKC8qKiBAdHlwZSB7U3RyaW5nfSAqLyh2KSk7XG4gICAgaWYgKG1hdGNoZWRPcGVyYXRvcikge1xuICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBtYXRjaGVkT3BlcmF0b3JbMF07XG4gICAgICBjb25zdCBvcGVyYXRvciA9IHNwbGl0dGVyWzBdO1xuICAgICAgY29uc3Qgc3BsaXR0ZWQgPSAvKiogQHR5cGUge1N0cmluZ30gKi8odikuc3BsaXQoc3BsaXR0ZXIpO1xuICAgICAgY29uc3QgY2xhbXBNaW4gPSBzcGxpdHRlZFswXSA9PT0gJ21pbic7XG4gICAgICBjb25zdCBjbGFtcE1heCA9IHNwbGl0dGVkWzBdID09PSAnbWF4JztcbiAgICAgIGNvbnN0IHZhbHVlQVB4ID0gY29udmVydFZhbHVlVG9QeCgkZWwsIHNwbGl0dGVkWzBdLCBzaXplLCB1bmRlciwgb3Zlcik7XG4gICAgICBjb25zdCB2YWx1ZUJQeCA9IGNvbnZlcnRWYWx1ZVRvUHgoJGVsLCBzcGxpdHRlZFsxXSwgc2l6ZSwgdW5kZXIsIG92ZXIpO1xuICAgICAgaWYgKGNsYW1wTWluKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IGdldFJlbGF0aXZlVmFsdWUoY29udmVydFZhbHVlVG9QeCgkZWwsICdtaW4nLCBzaXplKSwgdmFsdWVCUHgsIG9wZXJhdG9yKTtcbiAgICAgICAgdmFsdWUgPSBtaW4gPCB2YWx1ZUFQeCA/IHZhbHVlQVB4IDogbWluO1xuICAgICAgfSBlbHNlIGlmIChjbGFtcE1heCkge1xuICAgICAgICBjb25zdCBtYXggPSBnZXRSZWxhdGl2ZVZhbHVlKGNvbnZlcnRWYWx1ZVRvUHgoJGVsLCAnbWF4Jywgc2l6ZSksIHZhbHVlQlB4LCBvcGVyYXRvcik7XG4gICAgICAgIHZhbHVlID0gbWF4ID4gdmFsdWVBUHggPyB2YWx1ZUFQeCA6IG1heDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZ2V0UmVsYXRpdmVWYWx1ZSh2YWx1ZUFQeCwgdmFsdWVCUHgsIG9wZXJhdG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBjb252ZXJ0VmFsdWVUb1B4KCRlbCwgdiwgc2l6ZSwgdW5kZXIsIG92ZXIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyh2KTtcbiAgfVxuICByZXR1cm4gcm91bmQodmFsdWUsIDApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0pTQW5pbWF0aW9ufSBsaW5rZWRcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICovXG5jb25zdCBnZXRBbmltYXRpb25Eb21UYXJnZXQgPSBsaW5rZWQgPT4ge1xuICBsZXQgJGxpbmtlZFRhcmdldDtcbiAgY29uc3QgbGlua2VkVGFyZ2V0cyA9IGxpbmtlZC50YXJnZXRzO1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGxpbmtlZFRhcmdldHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gbGlua2VkVGFyZ2V0c1tpXTtcbiAgICBpZiAodGFyZ2V0W2lzRG9tU3ltYm9sXSkge1xuICAgICAgJGxpbmtlZFRhcmdldCA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHRhcmdldCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICRsaW5rZWRUYXJnZXQ7XG59O1xuXG5sZXQgc2Nyb2xsZXJJbmRleCA9IDA7XG5cbmNvbnN0IGRlYnVnQ29sb3JzID0gWycjRkY0QjRCJywnI0ZGOTcxQicsJyNGRkM3MzAnLCcjRjlGNjQwJywnIzdBRkY1QScsJyMxOEZGNzQnLCcjMTdFMDlCJywnIzNDRkZFQycsJyMwNURCRTknLCcjMzNCM0YxJywnIzYzOENGOScsJyNDNTYzRkUnLCcjRkY0RkNGJywnI0Y5M0Y4QSddO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNjcm9sbFRocmVzaG9sZFBhcmFtXG4gKiBAcHJvcGVydHkge1Njcm9sbFRocmVzaG9sZFZhbHVlfSBbdGFyZ2V0XVxuICogQHByb3BlcnR5IHtTY3JvbGxUaHJlc2hvbGRWYWx1ZX0gW2NvbnRhaW5lcl1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTY3JvbGxPYnNlcnZlckF4aXNDYWxsYmFja1xuICogQHBhcmFtIHtTY3JvbGxPYnNlcnZlcn0gc2VsZlxuICogQHJldHVybiB7J3gnfCd5J31cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTY3JvbGxUaHJlc2hvbGRDYWxsYmFja1xuICogQHBhcmFtIHtTY3JvbGxPYnNlcnZlcn0gc2VsZlxuICogQHJldHVybiB7U2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkUGFyYW19XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTY3JvbGxPYnNlcnZlclBhcmFtc1xuICogQHByb3BlcnR5IHtOdW1iZXJ8U3RyaW5nfSBbaWRdXG4gKiBAcHJvcGVydHkge0Jvb2xlYW58TnVtYmVyfFN0cmluZ3xFYXNpbmdQYXJhbX0gW3N5bmNdXG4gKiBAcHJvcGVydHkge1RhcmdldHNQYXJhbX0gW2NvbnRhaW5lcl1cbiAqIEBwcm9wZXJ0eSB7VGFyZ2V0c1BhcmFtfSBbdGFyZ2V0XVxuICogQHByb3BlcnR5IHsneCd8J3knfFNjcm9sbE9ic2VydmVyQXhpc0NhbGxiYWNrfCgob2JzZXJ2ZXI6IFNjcm9sbE9ic2VydmVyKSA9PiAneCd8J3knfFNjcm9sbE9ic2VydmVyQXhpc0NhbGxiYWNrKX0gW2F4aXNdXG4gKiBAcHJvcGVydHkge1Njcm9sbFRocmVzaG9sZFZhbHVlfFNjcm9sbFRocmVzaG9sZFBhcmFtfFNjcm9sbFRocmVzaG9sZENhbGxiYWNrfCgob2JzZXJ2ZXI6IFNjcm9sbE9ic2VydmVyKSA9PiBTY3JvbGxUaHJlc2hvbGRWYWx1ZXxTY3JvbGxUaHJlc2hvbGRQYXJhbXxTY3JvbGxUaHJlc2hvbGRDYWxsYmFjayl9IFtlbnRlcl1cbiAqIEBwcm9wZXJ0eSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkUGFyYW18U2Nyb2xsVGhyZXNob2xkQ2FsbGJhY2t8KChvYnNlcnZlcjogU2Nyb2xsT2JzZXJ2ZXIpID0+IFNjcm9sbFRocmVzaG9sZFZhbHVlfFNjcm9sbFRocmVzaG9sZFBhcmFtfFNjcm9sbFRocmVzaG9sZENhbGxiYWNrKX0gW2xlYXZlXVxuICogQHByb3BlcnR5IHtCb29sZWFufCgob2JzZXJ2ZXI6IFNjcm9sbE9ic2VydmVyKSA9PiBCb29sZWFuKX0gW3JlcGVhdF1cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2RlYnVnXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvbkVudGVyXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvbkxlYXZlXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvbkVudGVyRm9yd2FyZF1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSBbb25MZWF2ZUZvcndhcmRdXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gW29uRW50ZXJCYWNrd2FyZF1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSBbb25MZWF2ZUJhY2t3YXJkXVxuICogQHByb3BlcnR5IHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59IFtvblVwZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSBbb25TeW5jQ29tcGxldGVdXG4gKi9cblxuY2xhc3MgU2Nyb2xsT2JzZXJ2ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtTY3JvbGxPYnNlcnZlclBhcmFtc30gcGFyYW1ldGVyc1xuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVycyA9IHt9KSB7XG4gICAgaWYgKGdsb2JhbHMuc2NvcGUpIGdsb2JhbHMuc2NvcGUucmV2ZXJ0aWJsZXMucHVzaCh0aGlzKTtcbiAgICBjb25zdCBzeW5jTW9kZSA9IHNldFZhbHVlKHBhcmFtZXRlcnMuc3luYywgJ3BsYXkgcGF1c2UnKTtcbiAgICBjb25zdCBlYXNlID0gc3luY01vZGUgPyBwYXJzZUVhc2luZ3MoLyoqIEB0eXBlIHtFYXNpbmdQYXJhbX0gKi8oc3luY01vZGUpKSA6IG51bGw7XG4gICAgY29uc3QgaXNMaW5lYXIgPSBzeW5jTW9kZSAmJiAoc3luY01vZGUgPT09ICdsaW5lYXInIHx8IHN5bmNNb2RlID09PSBub25lKTtcbiAgICBjb25zdCBpc0Vhc2UgPSBzeW5jTW9kZSAmJiAhKGVhc2UgPT09IG5vbmUgJiYgIWlzTGluZWFyKTtcbiAgICBjb25zdCBpc1Ntb290aCA9IHN5bmNNb2RlICYmIChpc051bShzeW5jTW9kZSkgfHwgc3luY01vZGUgPT09IHRydWUgfHwgaXNMaW5lYXIpO1xuICAgIGNvbnN0IGlzTWV0aG9kcyA9IHN5bmNNb2RlICYmIChpc1N0cihzeW5jTW9kZSkgJiYgIWlzRWFzZSAmJiAhaXNTbW9vdGgpO1xuICAgIGNvbnN0IHN5bmNNZXRob2RzID0gaXNNZXRob2RzID8gLyoqIEB0eXBlIHtTdHJpbmd9ICovKHN5bmNNb2RlKS5zcGxpdCgnICcpLm1hcChcbiAgICAgICgvKiogQHR5cGUge1N0cmluZ30gKi9tKSA9PiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmtlZCA9IHRoaXMubGlua2VkO1xuICAgICAgICByZXR1cm4gbGlua2VkICYmIGxpbmtlZFttXSA/IGxpbmtlZFttXSgpIDogbnVsbDtcbiAgICAgIH1cbiAgICApIDogbnVsbDtcbiAgICBjb25zdCBiaURpclN5bmMgPSBpc01ldGhvZHMgJiYgc3luY01ldGhvZHMubGVuZ3RoID4gMjtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLmluZGV4ID0gc2Nyb2xsZXJJbmRleCsrO1xuICAgIC8qKiBAdHlwZSB7U3RyaW5nfE51bWJlcn0gKi9cbiAgICB0aGlzLmlkID0gIWlzVW5kKHBhcmFtZXRlcnMuaWQpID8gcGFyYW1ldGVycy5pZCA6IHRoaXMuaW5kZXg7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxDb250YWluZXJ9ICovXG4gICAgdGhpcy5jb250YWluZXIgPSByZWdpc3RlckFuZEdldFNjcm9sbENvbnRhaW5lcihwYXJhbWV0ZXJzLmNvbnRhaW5lcik7XG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtUaWNrYWJsZXxXQUFQSUFuaW1hdGlvbn0gKi9cbiAgICB0aGlzLmxpbmtlZCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMucmVwZWF0ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5ob3Jpem9udGFsID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFBhcmFtfFNjcm9sbFRocmVzaG9sZFZhbHVlfFNjcm9sbFRocmVzaG9sZENhbGxiYWNrfSAqL1xuICAgIHRoaXMuZW50ZXIgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsVGhyZXNob2xkUGFyYW18U2Nyb2xsVGhyZXNob2xkVmFsdWV8U2Nyb2xsVGhyZXNob2xkQ2FsbGJhY2t9ICovXG4gICAgdGhpcy5sZWF2ZSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuc3luYyA9IGlzRWFzZSB8fCBpc1Ntb290aCB8fCAhIXN5bmNNZXRob2RzO1xuICAgIC8qKiBAdHlwZSB7RWFzaW5nRnVuY3Rpb259ICovXG4gICAgdGhpcy5zeW5jRWFzZSA9IGlzRWFzZSA/IGVhc2UgOiBudWxsO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMuc3luY1Ntb290aCA9IGlzU21vb3RoID8gc3luY01vZGUgPT09IHRydWUgfHwgaXNMaW5lYXIgPyAxIDogLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHN5bmNNb2RlKSA6IG51bGw7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNFbnRlciA9IHN5bmNNZXRob2RzICYmICFiaURpclN5bmMgJiYgc3luY01ldGhvZHNbMF0gPyBzeW5jTWV0aG9kc1swXSA6IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNMZWF2ZSA9IHN5bmNNZXRob2RzICYmICFiaURpclN5bmMgJiYgc3luY01ldGhvZHNbMV0gPyBzeW5jTWV0aG9kc1sxXSA6IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNFbnRlckZvcndhcmQgPSBzeW5jTWV0aG9kcyAmJiBiaURpclN5bmMgJiYgc3luY01ldGhvZHNbMF0gPyBzeW5jTWV0aG9kc1swXSA6IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNMZWF2ZUZvcndhcmQgPSBzeW5jTWV0aG9kcyAmJiBiaURpclN5bmMgJiYgc3luY01ldGhvZHNbMV0gPyBzeW5jTWV0aG9kc1sxXSA6IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vblN5bmNFbnRlckJhY2t3YXJkID0gc3luY01ldGhvZHMgJiYgYmlEaXJTeW5jICYmIHN5bmNNZXRob2RzWzJdID8gc3luY01ldGhvZHNbMl0gOiBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25TeW5jTGVhdmVCYWNrd2FyZCA9IHN5bmNNZXRob2RzICYmIGJpRGlyU3luYyAmJiBzeW5jTWV0aG9kc1szXSA/IHN5bmNNZXRob2RzWzNdIDogbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uRW50ZXIgPSBwYXJhbWV0ZXJzLm9uRW50ZXIgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uTGVhdmUgPSBwYXJhbWV0ZXJzLm9uTGVhdmUgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uRW50ZXJGb3J3YXJkID0gcGFyYW1ldGVycy5vbkVudGVyRm9yd2FyZCB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25MZWF2ZUZvcndhcmQgPSBwYXJhbWV0ZXJzLm9uTGVhdmVGb3J3YXJkIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtDYWxsYmFjazxTY3JvbGxPYnNlcnZlcj59ICovXG4gICAgdGhpcy5vbkVudGVyQmFja3dhcmQgPSBwYXJhbWV0ZXJzLm9uRW50ZXJCYWNrd2FyZCB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25MZWF2ZUJhY2t3YXJkID0gcGFyYW1ldGVycy5vbkxlYXZlQmFja3dhcmQgfHwgbm9vcDtcbiAgICAvKiogQHR5cGUge0NhbGxiYWNrPFNjcm9sbE9ic2VydmVyPn0gKi9cbiAgICB0aGlzLm9uVXBkYXRlID0gcGFyYW1ldGVycy5vblVwZGF0ZSB8fCBub29wO1xuICAgIC8qKiBAdHlwZSB7Q2FsbGJhY2s8U2Nyb2xsT2JzZXJ2ZXI+fSAqL1xuICAgIHRoaXMub25TeW5jQ29tcGxldGUgPSBwYXJhbWV0ZXJzLm9uU3luY0NvbXBsZXRlIHx8IG5vb3A7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMucmV2ZXJ0ZWQgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5iZWdhbiA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmlzSW5WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtCb29sZWFufSAqL1xuICAgIHRoaXMuZm9yY2VFbnRlciA9IGZhbHNlO1xuICAgIC8qKiBAdHlwZSB7Qm9vbGVhbn0gKi9cbiAgICB0aGlzLmhhc0VudGVyZWQgPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge0FycmF5LjxOdW1iZXI+fSAqL1xuICAgIHRoaXMub2Zmc2V0cyA9IFtdO1xuICAgIC8qKiBAdHlwZSB7TnVtYmVyfSAqL1xuICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLm9mZnNldFN0YXJ0ID0gMDtcbiAgICAvKiogQHR5cGUge051bWJlcn0gKi9cbiAgICB0aGlzLm9mZnNldEVuZCA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgLyoqIEB0eXBlIHtOdW1iZXJ9ICovXG4gICAgdGhpcy5wcmV2UHJvZ3Jlc3MgPSAwO1xuICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXG4gICAgdGhpcy50aHJlc2hvbGRzID0gWydzdGFydCcsICdlbmQnLCAnZW5kJywgJ3N0YXJ0J107XG4gICAgLyoqIEB0eXBlIHtbTnVtYmVyLCBOdW1iZXIsIE51bWJlciwgTnVtYmVyXX0gKi9cbiAgICB0aGlzLmNvb3JkcyA9IFswLCAwLCAwLCAwXTtcbiAgICAvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqL1xuICAgIHRoaXMuZGVidWdTdHlsZXMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG4gICAgdGhpcy4kZGVidWcgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsT2JzZXJ2ZXJQYXJhbXN9ICovXG4gICAgdGhpcy5fcGFyYW1zID0gcGFyYW1ldGVycztcbiAgICAvKiogQHR5cGUge0Jvb2xlYW59ICovXG4gICAgdGhpcy5fZGVidWcgPSBzZXRWYWx1ZShwYXJhbWV0ZXJzLmRlYnVnLCBmYWxzZSk7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxPYnNlcnZlcn0gKi9cbiAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge1Njcm9sbE9ic2VydmVyfSAqL1xuICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgIGFkZENoaWxkKHRoaXMuY29udGFpbmVyLCB0aGlzKTtcbiAgICAvLyBXYWl0IGZvciB0aGUgbmV4dCBmcmFtZSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lciBpbiBvcmRlciB0byBoYW5kbGUgY2FsbHMgdG8gbGluaygpXG4gICAgc3luYygoKSA9PiB7XG4gICAgICBpZiAodGhpcy5yZXZlcnRlZCkgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLnRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhwYXJzZVRhcmdldHMocGFyYW1ldGVycy50YXJnZXQpWzBdKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgZG9jLmJvZHk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2RlYnVnKSB0aGlzLmRlYnVnKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWNrYWJsZXxXQUFQSUFuaW1hdGlvbn0gbGlua2VkXG4gICAqL1xuICBsaW5rKGxpbmtlZCkge1xuICAgIGlmIChsaW5rZWQpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byBwYXVzZSB0aGUgbGlua2VkIG9iamVjdCBpbiBjYXNlIGl0J3MgYWRkZWQgbGF0ZXJcbiAgICAgIGxpbmtlZC5wYXVzZSgpO1xuICAgICAgdGhpcy5saW5rZWQgPSBsaW5rZWQ7XG4gICAgICAvLyBUcnkgdG8gdXNlIGEgdGFyZ2V0IG9mIHRoZSBsaW5rZWQgb2JqZWN0IGlmIG5vIHRhcmdldCBwYXJhbWV0ZXJzIHNwZWNpZmllZFxuICAgICAgaWYgKCF0aGlzLl9wYXJhbXMudGFyZ2V0KSB7XG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG4gICAgICAgIGxldCAkbGlua2VkVGFyZ2V0O1xuICAgICAgICBpZiAoIWlzVW5kKC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKGxpbmtlZCkudGFyZ2V0cykpIHtcbiAgICAgICAgICAkbGlua2VkVGFyZ2V0ID0gZ2V0QW5pbWF0aW9uRG9tVGFyZ2V0KC8qKiBAdHlwZSB7SlNBbmltYXRpb259ICovKGxpbmtlZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvckVhY2hDaGlsZHJlbigvKiogQHR5cGUge1RpbWVsaW5lfSAqLyhsaW5rZWQpLCAoLyoqIEB0eXBlIHtKU0FuaW1hdGlvbn0gKi9jaGlsZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnRhcmdldHMgJiYgISRsaW5rZWRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgJGxpbmtlZFRhcmdldCA9IGdldEFuaW1hdGlvbkRvbVRhcmdldCgvKiogQHR5cGUge0pTQW5pbWF0aW9ufSAqLyhjaGlsZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGJvZHkgaWYgbm8gdGFyZ2V0IGZvdW5kXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gJGxpbmtlZFRhcmdldCB8fCBkb2MuYm9keTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0IHZlbG9jaXR5KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZWxvY2l0eTtcbiAgfVxuXG4gIGdldCBiYWNrd2FyZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3Jpem9udGFsID8gdGhpcy5jb250YWluZXIuYmFja3dhcmRYIDogdGhpcy5jb250YWluZXIuYmFja3dhcmRZO1xuICB9XG5cbiAgZ2V0IHNjcm9sbCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3Jpem9udGFsID8gdGhpcy5jb250YWluZXIuc2Nyb2xsWCA6IHRoaXMuY29udGFpbmVyLnNjcm9sbFk7XG4gIH1cblxuICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgY29uc3QgcCA9ICh0aGlzLnNjcm9sbCAtIHRoaXMub2Zmc2V0U3RhcnQpIC8gdGhpcy5kaXN0YW5jZTtcbiAgICByZXR1cm4gcCA9PT0gSW5maW5pdHkgfHwgaXNOYU4ocCkgPyAwIDogcm91bmQoY2xhbXAocCwgMCwgMSksIDYpO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLnJldmVydGVkID0gZmFsc2U7XG4gICAgY29uc3QgcGFyYW1zID0gdGhpcy5fcGFyYW1zO1xuICAgIHRoaXMucmVwZWF0ID0gc2V0VmFsdWUocGFyc2VTY3JvbGxPYnNlcnZlckZ1bmN0aW9uUGFyYW1ldGVyKHBhcmFtcy5yZXBlYXQsIHRoaXMpLCB0cnVlKTtcbiAgICB0aGlzLmhvcml6b250YWwgPSBzZXRWYWx1ZShwYXJzZVNjcm9sbE9ic2VydmVyRnVuY3Rpb25QYXJhbWV0ZXIocGFyYW1zLmF4aXMsIHRoaXMpLCAneScpID09PSAneCc7XG4gICAgdGhpcy5lbnRlciA9IHNldFZhbHVlKHBhcnNlU2Nyb2xsT2JzZXJ2ZXJGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMuZW50ZXIsIHRoaXMpLCAnZW5kIHN0YXJ0Jyk7XG4gICAgdGhpcy5sZWF2ZSA9IHNldFZhbHVlKHBhcnNlU2Nyb2xsT2JzZXJ2ZXJGdW5jdGlvblBhcmFtZXRlcihwYXJhbXMubGVhdmUsIHRoaXMpLCAnc3RhcnQgZW5kJyk7XG4gICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlRGVidWcoKSB7XG4gICAgaWYgKHRoaXMuJGRlYnVnKSB7XG4gICAgICB0aGlzLiRkZWJ1Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJGRlYnVnKTtcbiAgICAgIHRoaXMuJGRlYnVnID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVidWdTdHlsZXMpIHtcbiAgICAgIHRoaXMuZGVidWdTdHlsZXMucmV2ZXJ0KCk7XG4gICAgICB0aGlzLiRkZWJ1ZyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGVidWcoKSB7XG4gICAgdGhpcy5yZW1vdmVEZWJ1ZygpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgIGNvbnN0IGlzSG9yaSA9IHRoaXMuaG9yaXpvbnRhbDtcbiAgICBjb25zdCAkZXhpc3RpbmdEZWJ1ZyA9IGNvbnRhaW5lci5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5hbmltZWpzLW9uc2Nyb2xsLWRlYnVnJyk7XG4gICAgY29uc3QgJGRlYnVnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0ICR0aHJlc2hvbGRzID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0ICR0cmlnZ2VycyA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBjb2xvciA9IGRlYnVnQ29sb3JzW3RoaXMuaW5kZXggJSBkZWJ1Z0NvbG9ycy5sZW5ndGhdO1xuICAgIGNvbnN0IHVzZVdpbiA9IGNvbnRhaW5lci51c2VXaW47XG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSB1c2VXaW4gPyBjb250YWluZXIud2luV2lkdGggOiBjb250YWluZXIud2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gdXNlV2luID8gY29udGFpbmVyLndpbkhlaWdodCA6IGNvbnRhaW5lci5oZWlnaHQ7XG4gICAgY29uc3Qgc2Nyb2xsV2lkdGggPSBjb250YWluZXIuc2Nyb2xsV2lkdGg7XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gY29udGFpbmVyLnNjcm9sbEhlaWdodDtcbiAgICBjb25zdCBzaXplID0gdGhpcy5jb250YWluZXIud2lkdGggPiAzNjAgPyAzMjAgOiAyNjA7XG4gICAgY29uc3Qgb2ZmTGVmdCA9IGlzSG9yaSA/IDAgOiAxMDtcbiAgICBjb25zdCBvZmZUb3AgPSBpc0hvcmkgPyAxMCA6IDA7XG4gICAgY29uc3QgaGFsZiA9IGlzSG9yaSA/IDI0IDogc2l6ZSAvIDI7XG4gICAgY29uc3QgbGFiZWxIZWlnaHQgPSBpc0hvcmkgPyBoYWxmIDogMTU7XG4gICAgY29uc3QgbGFiZWxXaWR0aCA9IGlzSG9yaSA/IDYwIDogaGFsZjtcbiAgICBjb25zdCBsYWJlbFNpemUgPSBpc0hvcmkgPyBsYWJlbFdpZHRoIDogbGFiZWxIZWlnaHQ7XG4gICAgY29uc3QgcmVwZWF0ID0gaXNIb3JpID8gJ3JlcGVhdC14JyA6ICdyZXBlYXQteSc7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgY29uc3QgZ3JhZGllbnRPZmZzZXQgPSB2ID0+IGlzSG9yaSA/ICcwcHggJysodikrJ3B4JyA6ICh2KSsncHgnKycgMnB4JztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjb25zdCBsaW5lQ1NTID0gKGMpID0+IGBsaW5lYXItZ3JhZGllbnQoJHtpc0hvcmkgPyA5MCA6IDB9ZGVnLCAke2N9IDJweCwgdHJhbnNwYXJlbnQgMXB4KWA7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjb25zdCBiYXNlQ1NTID0gKHAsIGwsIHQsIHcsIGgpID0+IGBwb3NpdGlvbjoke3B9O2xlZnQ6JHtsfXB4O3RvcDoke3R9cHg7d2lkdGg6JHt3fXB4O2hlaWdodDoke2h9cHg7YDtcbiAgICAkZGVidWcuc3R5bGUuY3NzVGV4dCA9IGAke2Jhc2VDU1MoJ2Fic29sdXRlJywgb2ZmTGVmdCwgb2ZmVG9wLCBpc0hvcmkgPyBzY3JvbGxXaWR0aCA6IHNpemUsIGlzSG9yaSA/IHNpemUgOiBzY3JvbGxIZWlnaHQpfVxuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiAke3RoaXMuY29udGFpbmVyLnpJbmRleCsrfTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogJHtpc0hvcmkgPyAnY29sdW1uJyA6ICdyb3cnfTtcbiAgICAgIGZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDFweCAwcHggcmdiYSgwLDAsMCwuNzUpKTtcbiAgICBgO1xuICAgICR0aHJlc2hvbGRzLnN0eWxlLmNzc1RleHQgPSBgJHtiYXNlQ1NTKCdzdGlja3knLCAwLCAwLCBpc0hvcmkgPyBjb250YWluZXJXaWR0aCA6IGhhbGYsIGlzSG9yaSA/IGhhbGYgOiBjb250YWluZXJIZWlnaHQpfWA7XG4gICAgaWYgKCEkZXhpc3RpbmdEZWJ1Zykge1xuICAgICAgJHRocmVzaG9sZHMuc3R5bGUuY3NzVGV4dCArPSBgYmFja2dyb3VuZDpcbiAgICAgICAgJHtsaW5lQ1NTKCcjRkZGRicpfSR7Z3JhZGllbnRPZmZzZXQoaGFsZi0xMCl9IC8gJHtpc0hvcmkgPyAnMTAwcHggMTAwcHgnIDogJzEwMHB4IDEwMHB4J30gJHtyZXBlYXR9LFxuICAgICAgICAke2xpbmVDU1MoJyNGRkY4Jyl9JHtncmFkaWVudE9mZnNldChoYWxmLTEwKX0gLyAke2lzSG9yaSA/ICcxMHB4IDEwcHgnIDogJzEwcHggMTBweCd9ICR7cmVwZWF0fTtcbiAgICAgIGA7XG4gICAgfVxuICAgICR0cmlnZ2Vycy5zdHlsZS5jc3NUZXh0ID0gYCR7YmFzZUNTUygncmVsYXRpdmUnLCAwLCAwLCBpc0hvcmkgPyBzY3JvbGxXaWR0aCA6IGhhbGYsIGlzSG9yaSA/IGhhbGYgOiBzY3JvbGxIZWlnaHQpfWA7XG4gICAgaWYgKCEkZXhpc3RpbmdEZWJ1Zykge1xuICAgICAgJHRyaWdnZXJzLnN0eWxlLmNzc1RleHQgKz0gYGJhY2tncm91bmQ6XG4gICAgICAgICR7bGluZUNTUygnI0ZGRkYnKX0ke2dyYWRpZW50T2Zmc2V0KDApfSAvICR7aXNIb3JpID8gJzEwMHB4IDEwcHgnIDogJzEwcHggMTAwcHgnfSAke3JlcGVhdH0sXG4gICAgICAgICR7bGluZUNTUygnI0ZGRjgnKX0ke2dyYWRpZW50T2Zmc2V0KDApfSAvICR7aXNIb3JpID8gJzEwcHggMHB4JyA6ICcwcHggMTBweCd9ICR7cmVwZWF0fTtcbiAgICAgIGA7XG4gICAgfVxuICAgIGNvbnN0IGxhYmVscyA9IFsnIGVudGVyOiAnLCAnIGxlYXZlOiAnXTtcbiAgICB0aGlzLmNvb3Jkcy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICBjb25zdCBpc1ZpZXcgPSBpID4gMTtcbiAgICAgIGNvbnN0IHZhbHVlID0gKGlzVmlldyA/IDAgOiB0aGlzLm9mZnNldCkgKyB2O1xuICAgICAgY29uc3QgaXNUYWlsID0gaSAlIDI7XG4gICAgICBjb25zdCBpc0ZpcnN0ID0gdmFsdWUgPCBsYWJlbFNpemU7XG4gICAgICBjb25zdCBpc092ZXIgPSB2YWx1ZSA+IChpc1ZpZXcgPyBpc0hvcmkgPyBjb250YWluZXJXaWR0aCA6IGNvbnRhaW5lckhlaWdodCA6IGlzSG9yaSA/IHNjcm9sbFdpZHRoIDogc2Nyb2xsSGVpZ2h0KSAtIGxhYmVsU2l6ZTtcbiAgICAgIGNvbnN0IGlzRmxpcCA9IChpc1ZpZXcgPyBpc1RhaWwgJiYgIWlzRmlyc3QgOiAhaXNUYWlsICYmICFpc0ZpcnN0KSB8fCBpc092ZXI7XG4gICAgICBjb25zdCAkbGFiZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCAkdGV4dCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IGRpclByb3AgPSBpc0hvcmkgPyBpc0ZsaXAgPyAncmlnaHQnIDogJ2xlZnQnIDogaXNGbGlwID8gJ2JvdHRvbScgOiAndG9wJztcbiAgICAgIGNvbnN0IGZsaXBPZmZzZXQgPSBpc0ZsaXAgPyAoaXNIb3JpID8gbGFiZWxXaWR0aCA6IGxhYmVsSGVpZ2h0KSArICghaXNWaWV3ID8gaXNIb3JpID8gLTEgOiAtMiA6IGlzSG9yaSA/IC0xIDogaXNPdmVyID8gMCA6IC0yKSA6ICFpc1ZpZXcgPyBpc0hvcmkgPyAxIDogMCA6IGlzSG9yaSA/IDEgOiAwO1xuICAgICAgLy8gJHRleHQuaW5uZXJIVE1MID0gYCR7IWlzVmlldyA/ICcnIDogbGFiZWxzW2lzVGFpbF0gKyAnICd9JHt0aGlzLmlkfTogJHt0aGlzLnRocmVzaG9sZHNbaV19ICR7aXNWaWV3ID8gJycgOiBsYWJlbHNbaXNUYWlsXX1gO1xuICAgICAgJHRleHQuaW5uZXJIVE1MID0gYCR7dGhpcy5pZH0ke2xhYmVsc1tpc1RhaWxdfSR7dGhpcy50aHJlc2hvbGRzW2ldfWA7XG4gICAgICAkbGFiZWwuc3R5bGUuY3NzVGV4dCA9IGAke2Jhc2VDU1MoJ2Fic29sdXRlJywgMCwgMCwgbGFiZWxXaWR0aCwgbGFiZWxIZWlnaHQpfVxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogJHtpc0hvcmkgPyAnY29sdW1uJyA6ICdyb3cnfTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LSR7aXNWaWV3ID8gJ3N0YXJ0JyA6ICdlbmQnfTtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtJHtpc0ZsaXAgPyAnZW5kJyA6ICdzdGFydCd9O1xuICAgICAgICBib3JkZXItJHtkaXJQcm9wfTogMnB4ICR7aXNUYWlsID8gJ3NvbGlkJyA6ICdzb2xpZCd9ICR7Y29sb3J9O1xuICAgICAgYDtcbiAgICAgICR0ZXh0LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIG1heC13aWR0aDogJHsoc2l6ZSAvIDIpIC0gMTB9cHg7XG4gICAgICAgIGhlaWdodDogJHtsYWJlbEhlaWdodH07XG4gICAgICAgIG1hcmdpbi0ke2lzSG9yaSA/IGlzRmxpcCA/ICdyaWdodCcgOiAnbGVmdCcgOiBpc0ZsaXAgPyAnYm90dG9tJyA6ICd0b3AnfTogLTJweDtcbiAgICAgICAgcGFkZGluZzogMXB4O1xuICAgICAgICBmb250LWZhbWlseTogdWktbW9ub3NwYWNlLCBtb25vc3BhY2U7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IC0uMDI1ZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiA5cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIHRleHQtYWxpZ246ICR7aXNIb3JpICYmIGlzRmxpcCB8fCAhaXNIb3JpICYmICFpc1ZpZXcgPyAncmlnaHQnIDogJ2xlZnQnfTtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIGNvbG9yOiAke2lzVGFpbCA/IGNvbG9yIDogJ3JnYmEoMCwwLDAsLjc1KSd9O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2lzVGFpbCA/ICdyZ2JhKDAsMCwwLC42NSknIDogY29sb3J9O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAke2lzVGFpbCA/IGNvbG9yIDogJ3RyYW5zcGFyZW50J307XG4gICAgICAgIGJvcmRlci0ke2lzSG9yaSA/IGlzRmxpcCA/ICd0b3AtbGVmdCcgOiAndG9wLXJpZ2h0JyA6IGlzRmxpcCA/ICd0b3AtbGVmdCcgOiAnYm90dG9tLWxlZnQnfS1yYWRpdXM6IDVweDtcbiAgICAgICAgYm9yZGVyLSR7aXNIb3JpID8gaXNGbGlwID8gJ2JvdHRvbS1sZWZ0JyA6ICdib3R0b20tcmlnaHQnIDogaXNGbGlwID8gJ3RvcC1yaWdodCcgOiAnYm90dG9tLXJpZ2h0J30tcmFkaXVzOiA1cHg7XG4gICAgICBgO1xuICAgICAgJGxhYmVsLmFwcGVuZENoaWxkKCR0ZXh0KTtcbiAgICAgIGxldCBwb3NpdGlvbiA9IHZhbHVlIC0gZmxpcE9mZnNldCArIChpc0hvcmkgPyAxIDogMCk7XG4gICAgICAkbGFiZWwuc3R5bGVbaXNIb3JpID8gJ2xlZnQnIDogJ3RvcCddID0gYCR7cG9zaXRpb259cHhgO1xuICAgICAgLy8gJGxhYmVsLnN0eWxlW2lzSG9yaSA/ICdsZWZ0JyA6ICd0b3AnXSA9IHZhbHVlIC0gZmxpcE9mZnNldCArICghaXNGbGlwICYmIGlzRmlyc3QgJiYgIWlzVmlldyA/IDEgOiBpc0ZsaXAgPyAwIDogLTIpICsgJ3B4JztcbiAgICAgIChpc1ZpZXcgPyAkdGhyZXNob2xkcyA6ICR0cmlnZ2VycykuYXBwZW5kQ2hpbGQoJGxhYmVsKTtcbiAgICB9KTtcblxuICAgICRkZWJ1Zy5hcHBlbmRDaGlsZCgkdGhyZXNob2xkcyk7XG4gICAgJGRlYnVnLmFwcGVuZENoaWxkKCR0cmlnZ2Vycyk7XG4gICAgY29udGFpbmVyLmVsZW1lbnQuYXBwZW5kQ2hpbGQoJGRlYnVnKTtcblxuICAgIGlmICghJGV4aXN0aW5nRGVidWcpICRkZWJ1Zy5jbGFzc0xpc3QuYWRkKCdhbmltZWpzLW9uc2Nyb2xsLWRlYnVnJyk7XG4gICAgdGhpcy4kZGVidWcgPSAkZGVidWc7XG4gICAgY29uc3QgY29udGFpbmVyUG9zaXRpb24gPSBnZXRUYXJnZXRWYWx1ZShjb250YWluZXIuZWxlbWVudCwgJ3Bvc2l0aW9uJyk7XG4gICAgaWYgKGNvbnRhaW5lclBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgdGhpcy5kZWJ1Z1N0eWxlcyA9IHNldFRhcmdldFZhbHVlcyhjb250YWluZXIuZWxlbWVudCwgeyBwb3NpdGlvbjogJ3JlbGF0aXZlICd9KTtcbiAgICB9XG5cbiAgfVxuXG4gIHVwZGF0ZUJvdW5kcygpIHtcbiAgICBpZiAodGhpcy5fZGVidWcpIHtcbiAgICAgIHRoaXMucmVtb3ZlRGVidWcoKTtcbiAgICB9XG4gICAgbGV0IHN0aWNreXM7XG4gICAgY29uc3QgJHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgIGNvbnN0IGlzSG9yaSA9IHRoaXMuaG9yaXpvbnRhbDtcbiAgICBjb25zdCBsaW5rZWQgPSB0aGlzLmxpbmtlZDtcbiAgICBsZXQgbGlua2VkVGltZTtcbiAgICBsZXQgJGVsID0gJHRhcmdldDtcbiAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgbGV0IG9mZnNldFkgPSAwO1xuICAgIC8qKiBAdHlwZSB7RWxlbWVudH0gKi9cbiAgICBsZXQgJG9mZnNldFBhcmVudCA9ICRlbDtcbiAgICBpZiAobGlua2VkKSB7XG4gICAgICBsaW5rZWRUaW1lID0gbGlua2VkLmN1cnJlbnRUaW1lO1xuICAgICAgbGlua2VkLnNlZWsoMCwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGlzQ29udGFpbmVyU3RhdGljID0gZ2V0VGFyZ2V0VmFsdWUoY29udGFpbmVyLmVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJyA/IHNldFRhcmdldFZhbHVlcyhjb250YWluZXIuZWxlbWVudCwgeyBwb3NpdGlvbjogJ3JlbGF0aXZlICd9KSA6IGZhbHNlO1xuICAgIHdoaWxlICgkZWwgJiYgJGVsICE9PSBjb250YWluZXIuZWxlbWVudCAmJiAkZWwgIT09IGRvYy5ib2R5KSB7XG4gICAgICBjb25zdCBpc1N0aWNreSA9IGdldFRhcmdldFZhbHVlKCRlbCwgJ3Bvc2l0aW9uJykgPT09ICdzdGlja3knID9cbiAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFyZ2V0VmFsdWVzKCRlbCwgeyBwb3NpdGlvbjogJ3N0YXRpYycgfSkgOlxuICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTtcbiAgICAgIGlmICgkZWwgPT09ICRvZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgb2Zmc2V0WCArPSAkZWwub2Zmc2V0TGVmdCB8fCAwO1xuICAgICAgICBvZmZzZXRZICs9ICRlbC5vZmZzZXRUb3AgfHwgMDtcbiAgICAgICAgJG9mZnNldFBhcmVudCA9ICRlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICAkZWwgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLygkZWwucGFyZW50RWxlbWVudCk7XG4gICAgICBpZiAoaXNTdGlja3kpIHtcbiAgICAgICAgaWYgKCFzdGlja3lzKSBzdGlja3lzID0gW107XG4gICAgICAgIHN0aWNreXMucHVzaChpc1N0aWNreSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0NvbnRhaW5lclN0YXRpYykgaXNDb250YWluZXJTdGF0aWMucmV2ZXJ0KCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gaXNIb3JpID8gb2Zmc2V0WCA6IG9mZnNldFk7XG4gICAgY29uc3QgdGFyZ2V0U2l6ZSA9IGlzSG9yaSA/ICR0YXJnZXQub2Zmc2V0V2lkdGggOiAkdGFyZ2V0Lm9mZnNldEhlaWdodDtcbiAgICBjb25zdCBjb250YWluZXJTaXplID0gaXNIb3JpID8gY29udGFpbmVyLndpZHRoIDogY29udGFpbmVyLmhlaWdodDtcbiAgICBjb25zdCBzY3JvbGxTaXplID0gaXNIb3JpID8gY29udGFpbmVyLnNjcm9sbFdpZHRoIDogY29udGFpbmVyLnNjcm9sbEhlaWdodDtcbiAgICBjb25zdCBtYXhTY3JvbGwgPSBzY3JvbGxTaXplIC0gY29udGFpbmVyU2l6ZTtcbiAgICBjb25zdCBlbnRlciA9IHRoaXMuZW50ZXI7XG4gICAgY29uc3QgbGVhdmUgPSB0aGlzLmxlYXZlO1xuXG4gICAgLyoqIEB0eXBlIHtTY3JvbGxUaHJlc2hvbGRWYWx1ZX0gKi9cbiAgICBsZXQgZW50ZXJUYXJnZXQgPSAnc3RhcnQnO1xuICAgIC8qKiBAdHlwZSB7U2Nyb2xsVGhyZXNob2xkVmFsdWV9ICovXG4gICAgbGV0IGxlYXZlVGFyZ2V0ID0gJ2VuZCc7XG4gICAgLyoqIEB0eXBlIHtTY3JvbGxUaHJlc2hvbGRWYWx1ZX0gKi9cbiAgICBsZXQgZW50ZXJDb250YWluZXIgPSAnZW5kJztcbiAgICAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFZhbHVlfSAqL1xuICAgIGxldCBsZWF2ZUNvbnRhaW5lciA9ICdzdGFydCc7XG5cbiAgICBpZiAoaXNTdHIoZW50ZXIpKSB7XG4gICAgICBjb25zdCBzcGxpdHRlZCA9IC8qKiBAdHlwZSB7U3RyaW5nfSAqLyhlbnRlcikuc3BsaXQoJyAnKTtcbiAgICAgIGVudGVyQ29udGFpbmVyID0gc3BsaXR0ZWRbMF07XG4gICAgICBlbnRlclRhcmdldCA9IHNwbGl0dGVkLmxlbmd0aCA+IDEgPyBzcGxpdHRlZFsxXSA6IGVudGVyVGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAoaXNPYmooZW50ZXIpKSB7XG4gICAgICBjb25zdCBlID0gLyoqIEB0eXBlIHtTY3JvbGxUaHJlc2hvbGRQYXJhbX0gKi8oZW50ZXIpO1xuICAgICAgaWYgKCFpc1VuZChlLmNvbnRhaW5lcikpIGVudGVyQ29udGFpbmVyID0gZS5jb250YWluZXI7XG4gICAgICBpZiAoIWlzVW5kKGUudGFyZ2V0KSkgZW50ZXJUYXJnZXQgPSBlLnRhcmdldDtcbiAgICB9IGVsc2UgaWYgKGlzTnVtKGVudGVyKSkge1xuICAgICAgZW50ZXJDb250YWluZXIgPSAvKiogQHR5cGUge051bWJlcn0gKi8oZW50ZXIpO1xuICAgIH1cblxuICAgIGlmIChpc1N0cihsZWF2ZSkpIHtcbiAgICAgIGNvbnN0IHNwbGl0dGVkID0gLyoqIEB0eXBlIHtTdHJpbmd9ICovKGxlYXZlKS5zcGxpdCgnICcpO1xuICAgICAgbGVhdmVDb250YWluZXIgPSBzcGxpdHRlZFswXTtcbiAgICAgIGxlYXZlVGFyZ2V0ID0gc3BsaXR0ZWQubGVuZ3RoID4gMSA/IHNwbGl0dGVkWzFdIDogbGVhdmVUYXJnZXQ7XG4gICAgfSBlbHNlIGlmIChpc09iaihsZWF2ZSkpIHtcbiAgICAgIGNvbnN0IHQgPSAvKiogQHR5cGUge1Njcm9sbFRocmVzaG9sZFBhcmFtfSAqLyhsZWF2ZSk7XG4gICAgICBpZiAoIWlzVW5kKHQuY29udGFpbmVyKSkgbGVhdmVDb250YWluZXIgPSB0LmNvbnRhaW5lcjtcbiAgICAgIGlmICghaXNVbmQodC50YXJnZXQpKSBsZWF2ZVRhcmdldCA9IHQudGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAoaXNOdW0obGVhdmUpKSB7XG4gICAgICBsZWF2ZUNvbnRhaW5lciA9IC8qKiBAdHlwZSB7TnVtYmVyfSAqLyhsZWF2ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyc2VkRW50ZXJUYXJnZXQgPSBwYXJzZUJvdW5kVmFsdWUoJHRhcmdldCwgZW50ZXJUYXJnZXQsIHRhcmdldFNpemUpO1xuICAgIGNvbnN0IHBhcnNlZExlYXZlVGFyZ2V0ID0gcGFyc2VCb3VuZFZhbHVlKCR0YXJnZXQsIGxlYXZlVGFyZ2V0LCB0YXJnZXRTaXplKTtcbiAgICBjb25zdCB1bmRlciA9IChwYXJzZWRFbnRlclRhcmdldCArIG9mZnNldCkgLSBjb250YWluZXJTaXplO1xuICAgIGNvbnN0IG92ZXIgPSAocGFyc2VkTGVhdmVUYXJnZXQgKyBvZmZzZXQpIC0gbWF4U2Nyb2xsO1xuICAgIGNvbnN0IHBhcnNlZEVudGVyQ29udGFpbmVyID0gcGFyc2VCb3VuZFZhbHVlKCR0YXJnZXQsIGVudGVyQ29udGFpbmVyLCBjb250YWluZXJTaXplLCB1bmRlciwgb3Zlcik7XG4gICAgY29uc3QgcGFyc2VkTGVhdmVDb250YWluZXIgPSBwYXJzZUJvdW5kVmFsdWUoJHRhcmdldCwgbGVhdmVDb250YWluZXIsIGNvbnRhaW5lclNpemUsIHVuZGVyLCBvdmVyKTtcbiAgICBjb25zdCBvZmZzZXRTdGFydCA9IHBhcnNlZEVudGVyVGFyZ2V0ICsgb2Zmc2V0IC0gcGFyc2VkRW50ZXJDb250YWluZXI7XG4gICAgY29uc3Qgb2Zmc2V0RW5kID0gcGFyc2VkTGVhdmVUYXJnZXQgKyBvZmZzZXQgLSBwYXJzZWRMZWF2ZUNvbnRhaW5lcjtcbiAgICBjb25zdCBzY3JvbGxEZWx0YSA9IG9mZnNldEVuZCAtIG9mZnNldFN0YXJ0O1xuICAgIHRoaXMub2Zmc2V0c1swXSA9IG9mZnNldFg7XG4gICAgdGhpcy5vZmZzZXRzWzFdID0gb2Zmc2V0WTtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLm9mZnNldFN0YXJ0ID0gb2Zmc2V0U3RhcnQ7XG4gICAgdGhpcy5vZmZzZXRFbmQgPSBvZmZzZXRFbmQ7XG4gICAgdGhpcy5kaXN0YW5jZSA9IHNjcm9sbERlbHRhIDw9IDAgPyAwIDogc2Nyb2xsRGVsdGE7XG4gICAgdGhpcy50aHJlc2hvbGRzID0gW2VudGVyVGFyZ2V0LCBsZWF2ZVRhcmdldCwgZW50ZXJDb250YWluZXIsIGxlYXZlQ29udGFpbmVyXTtcbiAgICB0aGlzLmNvb3JkcyA9IFtwYXJzZWRFbnRlclRhcmdldCwgcGFyc2VkTGVhdmVUYXJnZXQsIHBhcnNlZEVudGVyQ29udGFpbmVyLCBwYXJzZWRMZWF2ZUNvbnRhaW5lcl07XG4gICAgaWYgKHN0aWNreXMpIHtcbiAgICAgIHN0aWNreXMuZm9yRWFjaChzdGlja3kgPT4gc3RpY2t5LnJldmVydCgpKTtcbiAgICB9XG4gICAgaWYgKGxpbmtlZCkge1xuICAgICAgbGlua2VkLnNlZWsobGlua2VkVGltZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZWJ1Zykge1xuICAgICAgdGhpcy5kZWJ1ZygpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBjb25zdCBsaW5rZWQgPSB0aGlzLmxpbmtlZDtcbiAgICBjb25zdCBzeW5jID0gdGhpcy5zeW5jO1xuICAgIGNvbnN0IHN5bmNFYXNlID0gdGhpcy5zeW5jRWFzZTtcbiAgICBjb25zdCBzeW5jU21vb3RoID0gdGhpcy5zeW5jU21vb3RoO1xuICAgIGNvbnN0IHNob3VsZFNlZWsgPSBsaW5rZWQgJiYgKHN5bmNFYXNlIHx8IHN5bmNTbW9vdGgpO1xuICAgIGNvbnN0IGlzSG9yaSA9IHRoaXMuaG9yaXpvbnRhbDtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICBjb25zdCBzY3JvbGwgPSB0aGlzLnNjcm9sbDtcbiAgICBjb25zdCBpc0JlZm9yZSA9IHNjcm9sbCA8PSB0aGlzLm9mZnNldFN0YXJ0O1xuICAgIGNvbnN0IGlzQWZ0ZXIgPSBzY3JvbGwgPj0gdGhpcy5vZmZzZXRFbmQ7XG4gICAgY29uc3QgaXNJblZpZXcgPSAhaXNCZWZvcmUgJiYgIWlzQWZ0ZXI7XG4gICAgY29uc3QgaXNPblRoZUVkZ2UgPSBzY3JvbGwgPT09IHRoaXMub2Zmc2V0U3RhcnQgfHwgc2Nyb2xsID09PSB0aGlzLm9mZnNldEVuZDtcbiAgICBjb25zdCBmb3JjZUVudGVyID0gIXRoaXMuaGFzRW50ZXJlZCAmJiBpc09uVGhlRWRnZTtcbiAgICBjb25zdCAkZGVidWcgPSB0aGlzLl9kZWJ1ZyAmJiB0aGlzLiRkZWJ1ZztcbiAgICBsZXQgaGFzVXBkYXRlZCA9IGZhbHNlO1xuICAgIGxldCBzeW5jQ29tcGxldGVkID0gZmFsc2U7XG4gICAgbGV0IHAgPSB0aGlzLnByb2dyZXNzO1xuXG4gICAgaWYgKGlzQmVmb3JlICYmIHRoaXMuYmVnYW4pIHtcbiAgICAgIHRoaXMuYmVnYW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAocCA+IDAgJiYgIXRoaXMuYmVnYW4pIHtcbiAgICAgIHRoaXMuYmVnYW4gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTZWVrKSB7XG4gICAgICBjb25zdCBscCA9IGxpbmtlZC5wcm9ncmVzcztcbiAgICAgIGlmIChzeW5jU21vb3RoICYmIGlzTnVtKHN5bmNTbW9vdGgpKSB7XG4gICAgICAgIGlmICgvKiogQHR5cGUge051bWJlcn0gKi8oc3luY1Ntb290aCkgPCAxKSB7XG4gICAgICAgICAgY29uc3Qgc3RlcCA9IDAuMDAwMTtcbiAgICAgICAgICBjb25zdCBzbmFwID0gbHAgPCBwICYmIHAgPT09IDEgPyBzdGVwIDogbHAgPiBwICYmICFwID8gLTFlLTQgOiAwO1xuICAgICAgICAgIHAgPSByb3VuZChsZXJwKGxwLCBwLCBpbnRlcnBvbGF0ZSguMDEsIC4yLCAvKiogQHR5cGUge051bWJlcn0gKi8oc3luY1Ntb290aCkpLCBmYWxzZSkgKyBzbmFwLCA2KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzeW5jRWFzZSkge1xuICAgICAgICBwID0gc3luY0Vhc2UocCk7XG4gICAgICB9XG4gICAgICBoYXNVcGRhdGVkID0gcCAhPT0gdGhpcy5wcmV2UHJvZ3Jlc3M7XG4gICAgICBzeW5jQ29tcGxldGVkID0gbHAgPT09IDE7XG4gICAgICBpZiAoaGFzVXBkYXRlZCAmJiAhc3luY0NvbXBsZXRlZCAmJiAoc3luY1Ntb290aCAmJiBscCkpIHtcbiAgICAgICAgY29udGFpbmVyLndha2VUaWNrZXIucmVzdGFydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgkZGVidWcpIHtcbiAgICAgIGNvbnN0IHN0aWNreSA9IGlzSG9yaSA/IGNvbnRhaW5lci5zY3JvbGxZIDogY29udGFpbmVyLnNjcm9sbFg7XG4gICAgICAkZGVidWcuc3R5bGVbaXNIb3JpID8gJ3RvcCcgOiAnbGVmdCddID0gc3RpY2t5ICsgMTAgKyAncHgnO1xuICAgIH1cblxuICAgIC8vIFRyaWdnZXIgZW50ZXIgY2FsbGJhY2tzIGlmIGFscmVhZHkgaW4gdmlldyBvciB3aGVuIGVudGVyaW5nIHRoZSB2aWV3XG4gICAgaWYgKChpc0luVmlldyAmJiAhdGhpcy5pc0luVmlldykgfHwgKGZvcmNlRW50ZXIgJiYgIXRoaXMuZm9yY2VFbnRlciAmJiAhdGhpcy5oYXNFbnRlcmVkKSkge1xuICAgICAgaWYgKGlzSW5WaWV3KSB0aGlzLmlzSW5WaWV3ID0gdHJ1ZTtcbiAgICAgIGlmICghdGhpcy5mb3JjZUVudGVyIHx8ICF0aGlzLmhhc0VudGVyZWQpIHtcbiAgICAgICAgaWYgKCRkZWJ1ZyAmJiBpc0luVmlldykgJGRlYnVnLnN0eWxlLnpJbmRleCA9IGAke3RoaXMuY29udGFpbmVyLnpJbmRleCsrfWA7XG4gICAgICAgIHRoaXMub25TeW5jRW50ZXIodGhpcyk7XG4gICAgICAgIHRoaXMub25FbnRlcih0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuYmFja3dhcmQpIHtcbiAgICAgICAgICB0aGlzLm9uU3luY0VudGVyQmFja3dhcmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5vbkVudGVyQmFja3dhcmQodGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vblN5bmNFbnRlckZvcndhcmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5vbkVudGVyRm9yd2FyZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc0VudGVyZWQgPSB0cnVlO1xuICAgICAgICBpZiAoZm9yY2VFbnRlcikgdGhpcy5mb3JjZUVudGVyID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNJblZpZXcpIHtcbiAgICAgICAgdGhpcy5mb3JjZUVudGVyID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzSW5WaWV3IHx8ICFpc0luVmlldyAmJiB0aGlzLmlzSW5WaWV3KSB7XG4gICAgICBoYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVXBkYXRlZCkge1xuICAgICAgaWYgKHNob3VsZFNlZWspIGxpbmtlZC5zZWVrKGxpbmtlZC5kdXJhdGlvbiAqIHApO1xuICAgICAgdGhpcy5vblVwZGF0ZSh0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW5WaWV3ICYmIHRoaXMuaXNJblZpZXcpIHtcbiAgICAgIHRoaXMuaXNJblZpZXcgPSBmYWxzZTtcbiAgICAgIHRoaXMub25TeW5jTGVhdmUodGhpcyk7XG4gICAgICB0aGlzLm9uTGVhdmUodGhpcyk7XG4gICAgICBpZiAodGhpcy5iYWNrd2FyZCkge1xuICAgICAgICB0aGlzLm9uU3luY0xlYXZlQmFja3dhcmQodGhpcyk7XG4gICAgICAgIHRoaXMub25MZWF2ZUJhY2t3YXJkKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblN5bmNMZWF2ZUZvcndhcmQodGhpcyk7XG4gICAgICAgIHRoaXMub25MZWF2ZUZvcndhcmQodGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAoc3luYyAmJiAhc3luY1Ntb290aCkge1xuICAgICAgICBzeW5jQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocCA+PSAxICYmIHRoaXMuYmVnYW4gJiYgIXRoaXMuY29tcGxldGVkICYmIChzeW5jICYmIHN5bmNDb21wbGV0ZWQgfHwgIXN5bmMpKSB7XG4gICAgICBpZiAoc3luYykge1xuICAgICAgICB0aGlzLm9uU3luY0NvbXBsZXRlKHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgaWYgKCghdGhpcy5yZXBlYXQgJiYgIWxpbmtlZCkgfHwgKCF0aGlzLnJlcGVhdCAmJiBsaW5rZWQgJiYgbGlua2VkLmNvbXBsZXRlZCkpIHtcbiAgICAgICAgdGhpcy5yZXZlcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocCA8IDEgJiYgdGhpcy5jb21wbGV0ZWQpIHtcbiAgICAgIHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5wcmV2UHJvZ3Jlc3MgPSBwO1xuICB9XG5cbiAgcmV2ZXJ0KCkge1xuICAgIGlmICh0aGlzLnJldmVydGVkKSByZXR1cm47XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgcmVtb3ZlQ2hpbGQoY29udGFpbmVyLCB0aGlzKTtcbiAgICBpZiAoIWNvbnRhaW5lci5faGVhZCkge1xuICAgICAgY29udGFpbmVyLnJldmVydCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVidWcpIHtcbiAgICAgIHRoaXMucmVtb3ZlRGVidWcoKTtcbiAgICB9XG4gICAgdGhpcy5yZXZlcnRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxufVxuXG4vKipcbiAqIEBwYXJhbSB7U2Nyb2xsT2JzZXJ2ZXJQYXJhbXN9IFtwYXJhbWV0ZXJzPXt9XVxuICogQHJldHVybiB7U2Nyb2xsT2JzZXJ2ZXJ9XG4gKi9cbmNvbnN0IG9uU2Nyb2xsID0gKHBhcmFtZXRlcnMgPSB7fSkgPT4gbmV3IFNjcm9sbE9ic2VydmVyKHBhcmFtZXRlcnMpO1xuXG5cblxuXG4vKipcbiAqIEB0eXBlZGVmICB7T2JqZWN0fSBTdGFnZ2VyUGFyYW1ldGVyc1xuICogQHByb3BlcnR5IHtOdW1iZXJ8U3RyaW5nfSBbc3RhcnRdXG4gKiBAcHJvcGVydHkge051bWJlcnwnZmlyc3QnfCdjZW50ZXInfCdsYXN0J30gW2Zyb21dXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtyZXZlcnNlZF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE51bWJlcj59IFtncmlkXVxuICogQHByb3BlcnR5IHsoJ3gnfCd5Jyl9IFtheGlzXVxuICogQHByb3BlcnR5IHtFYXNpbmdQYXJhbX0gW2Vhc2VdXG4gKiBAcHJvcGVydHkge1R3ZWVuTW9kaWZpZXJ9IFttb2RpZmllcl1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTdGFnZ2VyRnVuY3Rpb25cbiAqIEBwYXJhbSB7VGFyZ2V0fSBbdGFyZ2V0XVxuICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbGVuZ3RoXVxuICogQHBhcmFtIHtUaW1lbGluZX0gW3RsXVxuICogQHJldHVybiB7TnVtYmVyfFN0cmluZ31cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcnxTdHJpbmd8W051bWJlcnxTdHJpbmcsTnVtYmVyfFN0cmluZ119IHZhbFxuICogQHBhcmFtICB7U3RhZ2dlclBhcmFtZXRlcnN9IHBhcmFtc1xuICogQHJldHVybiB7U3RhZ2dlckZ1bmN0aW9ufVxuICovXG5jb25zdCBzdGFnZ2VyID0gKHZhbCwgcGFyYW1zID0ge30pID0+IHtcbiAgbGV0IHZhbHVlcyA9IFtdO1xuICBsZXQgbWF4VmFsdWUgPSAwO1xuICBjb25zdCBmcm9tID0gcGFyYW1zLmZyb207XG4gIGNvbnN0IHJldmVyc2VkID0gcGFyYW1zLnJldmVyc2VkO1xuICBjb25zdCBlYXNlID0gcGFyYW1zLmVhc2U7XG4gIGNvbnN0IGhhc0Vhc2luZyA9ICFpc1VuZChlYXNlKTtcbiAgY29uc3QgaGFzU3ByaW5nID0gaGFzRWFzaW5nICYmICFpc1VuZCgvKiogQHR5cGUge1NwcmluZ30gKi8oZWFzZSkuZWFzZSk7XG4gIGNvbnN0IHN0YWdnZXJFYXNlID0gaGFzU3ByaW5nID8gLyoqIEB0eXBlIHtTcHJpbmd9ICovKGVhc2UpLmVhc2UgOiBoYXNFYXNpbmcgPyBwYXJzZUVhc2luZ3MoZWFzZSkgOiBudWxsO1xuICBjb25zdCBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIGNvbnN0IGF4aXMgPSBwYXJhbXMuYXhpcztcbiAgY29uc3QgZnJvbUZpcnN0ID0gaXNVbmQoZnJvbSkgfHwgZnJvbSA9PT0gMCB8fCBmcm9tID09PSAnZmlyc3QnO1xuICBjb25zdCBmcm9tQ2VudGVyID0gZnJvbSA9PT0gJ2NlbnRlcic7XG4gIGNvbnN0IGZyb21MYXN0ID0gZnJvbSA9PT0gJ2xhc3QnO1xuICBjb25zdCBpc1JhbmdlID0gaXNBcnIodmFsKTtcbiAgY29uc3QgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZU51bWJlcih2YWxbMF0pIDogcGFyc2VOdW1iZXIodmFsKTtcbiAgY29uc3QgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZU51bWJlcih2YWxbMV0pIDogMDtcbiAgY29uc3QgdW5pdE1hdGNoID0gdW5pdHNFeGVjUmd4LmV4ZWMoKGlzUmFuZ2UgPyB2YWxbMV0gOiB2YWwpICsgZW1wdHlTdHJpbmcpO1xuICBjb25zdCBzdGFydCA9IHBhcmFtcy5zdGFydCB8fCAwICsgKGlzUmFuZ2UgPyB2YWwxIDogMCk7XG4gIGxldCBmcm9tSW5kZXggPSBmcm9tRmlyc3QgPyAwIDogaXNOdW0oZnJvbSkgPyBmcm9tIDogMDtcbiAgcmV0dXJuIChfLCBpLCB0LCB0bCkgPT4ge1xuICAgIGlmIChmcm9tQ2VudGVyKSBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjtcbiAgICBpZiAoZnJvbUxhc3QpIGZyb21JbmRleCA9IHQgLSAxO1xuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCAlIGdyaWRbMF0gOiAoZ3JpZFswXSAtIDEpIC8gMjtcbiAgICAgICAgICBjb25zdCBmcm9tWSA9ICFmcm9tQ2VudGVyID8gZmxvb3IoZnJvbUluZGV4IC8gZ3JpZFswXSkgOiAoZ3JpZFsxXSAtIDEpIC8gMjtcbiAgICAgICAgICBjb25zdCB0b1ggPSBpbmRleCAlIGdyaWRbMF07XG4gICAgICAgICAgY29uc3QgdG9ZID0gZmxvb3IoaW5kZXggLyBncmlkWzBdKTtcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZVggPSBmcm9tWCAtIHRvWDtcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBzcXJ0KGRpc3RhbmNlWCAqIGRpc3RhbmNlWCArIGRpc3RhbmNlWSAqIGRpc3RhbmNlWSk7XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd4JykgdmFsdWUgPSAtZGlzdGFuY2VYO1xuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHZhbHVlID0gLWRpc3RhbmNlWTtcbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBtYXgoLi4udmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFnZ2VyRWFzZSkgdmFsdWVzID0gdmFsdWVzLm1hcCh2YWwgPT4gc3RhZ2dlckVhc2UodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWUpO1xuICAgICAgaWYgKHJldmVyc2VkKSB2YWx1ZXMgPSB2YWx1ZXMubWFwKHZhbCA9PiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogYWJzKG1heFZhbHVlIC0gdmFsKSk7XG4gICAgfVxuICAgIGNvbnN0IHNwYWNpbmcgPSBpc1JhbmdlID8gKHZhbDIgLSB2YWwxKSAvIG1heFZhbHVlIDogdmFsMTtcbiAgICBjb25zdCBvZmZzZXQgPSB0bCA/IHBhcnNlVGltZWxpbmVQb3NpdGlvbih0bCwgaXNVbmQocGFyYW1zLnN0YXJ0KSA/IHRsLml0ZXJhdGlvbkR1cmF0aW9uIDogc3RhcnQpIDogLyoqIEB0eXBlIHtOdW1iZXJ9ICovKHN0YXJ0KTtcbiAgICAvKiogQHR5cGUge1N0cmluZ3xOdW1iZXJ9ICovXG4gICAgbGV0IG91dHB1dCA9IG9mZnNldCArICgoc3BhY2luZyAqIHJvdW5kKHZhbHVlc1tpXSwgMikpIHx8IDApO1xuICAgIGlmIChwYXJhbXMubW9kaWZpZXIpIG91dHB1dCA9IHBhcmFtcy5tb2RpZmllcihvdXRwdXQpO1xuICAgIGlmICh1bml0TWF0Y2gpIG91dHB1dCA9IGAke291dHB1dH0ke3VuaXRNYXRjaFsyXX1gO1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbn07XG5cbmV4cG9ydCB7IEFuaW1hdGFibGUsIERyYWdnYWJsZSwgSlNBbmltYXRpb24sIFNjb3BlLCBTY3JvbGxPYnNlcnZlciwgU3ByaW5nLCBUaW1lbGluZSwgVGltZXIsIFdBQVBJQW5pbWF0aW9uLCBhbmltYXRlLCBjcmVhdGVBbmltYXRhYmxlLCBjcmVhdGVEcmFnZ2FibGUsIGNyZWF0ZVNjb3BlLCBjcmVhdGVTcHJpbmcsIGNyZWF0ZVRpbWVsaW5lLCBjcmVhdGVUaW1lciwgZWFzZXMsIGVuZ2luZSwgb25TY3JvbGwsIHNjcm9sbENvbnRhaW5lcnMsIHN0YWdnZXIsIHN2ZywgdXRpbHMsIHdhYXBpIH07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZpbmVBbnQoKSB7XG5cdGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cdHNjcmlwdC5zcmMgPSBcImh0dHBzOi8vd3d3LmZpcmVhbnQudm4vU2NyaXB0cy93ZWIvd2lkZ2V0cy5qc1wiO1xuXHRzY3JpcHQuZGVmZXIgPSB0cnVlO1xuXHRzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuXHRcdG5ldyBGaXJlQW50LlF1b3RlV2lkZ2V0KHtcblx0XHRcdGNvbnRhaW5lcl9pZDogXCJmYW4tcXVvdGUtMzczXCIsXG5cdFx0XHRzeW1ib2xzOiBcIklKQ1wiLFxuXHRcdFx0bG9jYWxlOiBcInZpXCIsXG5cdFx0XHRwcmljZV9saW5lX2NvbG9yOiBcIiM3MUJEREZcIixcblx0XHRcdGdyaWRfY29sb3I6IFwiIzk5OTk5OVwiLFxuXHRcdFx0bGFiZWxfY29sb3I6IFwiIzk5OTk5OVwiLFxuXHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0aGVpZ2h0OiBcIjIwMHB4XCIsXG5cdFx0fSk7XG5cdH07XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWZyYW1lLWZpbmVhbnRcIikuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdURGRTIgRmluZWFudCBpcyBhZGRlZCFcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvd1Jlc29sdXRpb25XZWIoKSB7XG5cdGNvbnN0IHdpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdGNvbnN0IGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0JChcIm1haW5cIikuYXBwZW5kKFxuXHRcdGA8c3R5bGU+LnNob3ctcmVzb2x1dGlvbi13ZWJ7cG9zaXRpb246IGZpeGVkOyByaWdodDogMDsgYm90dG9tOiAwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjczOTM2OyBjb2xvcjogd2hpdGU7IHotaW5kZXg6IDEwMDsgcGFkZGluZzogMXJlbTt9PC9zdHlsZT48ZGl2IGNsYXNzPVwic2hvdy1yZXNvbHV0aW9uLXdlYlwiPjxwPldpZHRoOiAke3dpZHRofXB4PC9wPiA8cD5IZWlnaHQ6ICR7aGVpZ2h0fXB4PC9wPjwvZGl2PmBcblx0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbSh2YWx1ZSkge1xuXHRyZXR1cm4gKHZhbHVlIC8gMTkyMCkgKiAxMDAgKyBcInJlbVwiO1xufVxuIiwgIi8qIVxuICogU3BsaXRUZXh0IDMuMTMuMFxuICogaHR0cHM6Ly9nc2FwLmNvbVxuICpcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDI1LCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3NhcC5jb20vc3RhbmRhcmQtbGljZW5zZS5cbiAqIEBhdXRob3I6IEphY2sgRG95bGVcbiAqL1xuXG5sZXQgZ3NhcCwgX2ZvbnRzLCBfY29yZUluaXR0ZWQsIF9pbml0SWZOZWNlc3NhcnkgPSAoKSA9PiBfY29yZUluaXR0ZWQgfHwgU3BsaXRUZXh0LnJlZ2lzdGVyKHdpbmRvdy5nc2FwKSwgX2NoYXJTZWdtZW50ZXIgPSB0eXBlb2YgSW50bCAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBJbnRsLlNlZ21lbnRlcigpIDogMCwgX3RvQXJyYXkgPSAocikgPT4gdHlwZW9mIHIgPT09IFwic3RyaW5nXCIgPyBfdG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHIpKSA6IFwibGVuZ3RoXCIgaW4gciA/IEFycmF5LmZyb20ocikgOiBbcl0sIF9lbGVtZW50cyA9ICh0YXJnZXRzKSA9PiBfdG9BcnJheSh0YXJnZXRzKS5maWx0ZXIoKGUpID0+IGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCksIF9lbXB0eUFycmF5ID0gW10sIF9jb250ZXh0ID0gZnVuY3Rpb24oKSB7XG59LCBfc3BhY2VzUmVnRXggPSAvXFxzKy9nLCBfZW1vamlTYWZlUmVnRXggPSBuZXcgUmVnRXhwKFwiXFxcXHB7Ukl9XFxcXHB7Ukl9fFxcXFxwe0Vtb2ppfShcXFxccHtFTW9kfXxcXFxcdXtGRTBGfVxcXFx1ezIwRTN9P3xbXFxcXHV7RTAwMjB9LVxcXFx1e0UwMDdFfV0rXFxcXHV7RTAwN0Z9KT8oXFxcXHV7MjAwRH1cXFxccHtFbW9qaX0oXFxcXHB7RU1vZH18XFxcXHV7RkUwRn1cXFxcdXsyMEUzfT98W1xcXFx1e0UwMDIwfS1cXFxcdXtFMDA3RX1dK1xcXFx1e0UwMDdGfSk/KSp8LlwiLCBcImd1XCIpLCBfZW1wdHlCb3VuZHMgPSB7IGxlZnQ6IDAsIHRvcDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9LCBfc3RyZXRjaFRvRml0U3BlY2lhbENoYXJzID0gKGNvbGxlY3Rpb24sIHNwZWNpYWxDaGFyc1JlZ0V4KSA9PiB7XG4gIGlmIChzcGVjaWFsQ2hhcnNSZWdFeCkge1xuICAgIGxldCBjaGFyc0ZvdW5kID0gbmV3IFNldChjb2xsZWN0aW9uLmpvaW4oXCJcIikubWF0Y2goc3BlY2lhbENoYXJzUmVnRXgpIHx8IF9lbXB0eUFycmF5KSwgaSA9IGNvbGxlY3Rpb24ubGVuZ3RoLCBzbG90cywgd29yZCwgY2hhciwgY29tYmluZWQ7XG4gICAgaWYgKGNoYXJzRm91bmQuc2l6ZSkge1xuICAgICAgd2hpbGUgKC0taSA+IC0xKSB7XG4gICAgICAgIHdvcmQgPSBjb2xsZWN0aW9uW2ldO1xuICAgICAgICBmb3IgKGNoYXIgb2YgY2hhcnNGb3VuZCkge1xuICAgICAgICAgIGlmIChjaGFyLnN0YXJ0c1dpdGgod29yZCkgJiYgY2hhci5sZW5ndGggPiB3b3JkLmxlbmd0aCkge1xuICAgICAgICAgICAgc2xvdHMgPSAwO1xuICAgICAgICAgICAgY29tYmluZWQgPSB3b3JkO1xuICAgICAgICAgICAgd2hpbGUgKGNoYXIuc3RhcnRzV2l0aChjb21iaW5lZCArPSBjb2xsZWN0aW9uW2kgKyArK3Nsb3RzXSkgJiYgY29tYmluZWQubGVuZ3RoIDwgY2hhci5sZW5ndGgpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzbG90cyAmJiBjb21iaW5lZC5sZW5ndGggPT09IGNoYXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25baV0gPSBjaGFyO1xuICAgICAgICAgICAgICBjb2xsZWN0aW9uLnNwbGljZShpICsgMSwgc2xvdHMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb247XG59LCBfZGlzYWxsb3dJbmxpbmUgPSAoZWxlbWVudCkgPT4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZGlzcGxheSA9PT0gXCJpbmxpbmVcIiAmJiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIiksIF9pbnNlcnROb2RlQmVmb3JlID0gKG5ld0NoaWxkLCBwYXJlbnQsIGV4aXN0aW5nQ2hpbGQpID0+IHBhcmVudC5pbnNlcnRCZWZvcmUodHlwZW9mIG5ld0NoaWxkID09PSBcInN0cmluZ1wiID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpIDogbmV3Q2hpbGQsIGV4aXN0aW5nQ2hpbGQpLCBfZ2V0V3JhcHBlciA9ICh0eXBlLCBjb25maWcsIGNvbGxlY3Rpb24pID0+IHtcbiAgbGV0IGNsYXNzTmFtZSA9IGNvbmZpZ1t0eXBlICsgXCJzQ2xhc3NcIl0gfHwgXCJcIiwgeyB0YWcgPSBcImRpdlwiLCBhcmlhID0gXCJhdXRvXCIsIHByb3BJbmRleCA9IGZhbHNlIH0gPSBjb25maWcsIGRpc3BsYXkgPSB0eXBlID09PSBcImxpbmVcIiA/IFwiYmxvY2tcIiA6IFwiaW5saW5lLWJsb2NrXCIsIGluY3JlbWVudENsYXNzID0gY2xhc3NOYW1lLmluZGV4T2YoXCIrK1wiKSA+IC0xLCB3cmFwcGVyID0gKHRleHQpID0+IHtcbiAgICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyksIGkgPSBjb2xsZWN0aW9uLmxlbmd0aCArIDE7XG4gICAgY2xhc3NOYW1lICYmIChlbC5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAoaW5jcmVtZW50Q2xhc3MgPyBcIiBcIiArIGNsYXNzTmFtZSArIGkgOiBcIlwiKSk7XG4gICAgcHJvcEluZGV4ICYmIGVsLnN0eWxlLnNldFByb3BlcnR5KFwiLS1cIiArIHR5cGUsIGkgKyBcIlwiKTtcbiAgICBhcmlhICE9PSBcIm5vbmVcIiAmJiBlbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgaWYgKHRhZyAhPT0gXCJzcGFuXCIpIHtcbiAgICAgIGVsLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgfVxuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBjb2xsZWN0aW9uLnB1c2goZWwpO1xuICAgIHJldHVybiBlbDtcbiAgfTtcbiAgaW5jcmVtZW50Q2xhc3MgJiYgKGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5yZXBsYWNlKFwiKytcIiwgXCJcIikpO1xuICB3cmFwcGVyLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICByZXR1cm4gd3JhcHBlcjtcbn0sIF9nZXRMaW5lV3JhcHBlciA9IChlbGVtZW50LCBub2RlcywgY29uZmlnLCBjb2xsZWN0aW9uKSA9PiB7XG4gIGxldCBsaW5lV3JhcHBlciA9IF9nZXRXcmFwcGVyKFwibGluZVwiLCBjb25maWcsIGNvbGxlY3Rpb24pLCB0ZXh0QWxpZ24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS50ZXh0QWxpZ24gfHwgXCJsZWZ0XCI7XG4gIHJldHVybiAoc3RhcnRJbmRleCwgZW5kSW5kZXgpID0+IHtcbiAgICBsZXQgbmV3TGluZSA9IGxpbmVXcmFwcGVyKFwiXCIpO1xuICAgIG5ld0xpbmUuc3R5bGUudGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5ld0xpbmUsIG5vZGVzW3N0YXJ0SW5kZXhdKTtcbiAgICBmb3IgKDsgc3RhcnRJbmRleCA8IGVuZEluZGV4OyBzdGFydEluZGV4KyspIHtcbiAgICAgIG5ld0xpbmUuYXBwZW5kQ2hpbGQobm9kZXNbc3RhcnRJbmRleF0pO1xuICAgIH1cbiAgICBuZXdMaW5lLm5vcm1hbGl6ZSgpO1xuICB9O1xufSwgX3NwbGl0V29yZHNBbmRDaGFyc1JlY3Vyc2l2ZWx5ID0gKGVsZW1lbnQsIGNvbmZpZywgd29yZFdyYXBwZXIsIGNoYXJXcmFwcGVyLCBwcmVwRm9yQ2hhcnNPbmx5LCBkZWVwU2xpY2UsIGlnbm9yZSwgY2hhclNwbGl0UmVnRXgsIHNwZWNpYWxDaGFyc1JlZ0V4LCBpc05lc3RlZCkgPT4ge1xuICB2YXIgX2E7XG4gIGxldCBub2RlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKSwgaSA9IDAsIHsgd29yZERlbGltaXRlciwgcmVkdWNlV2hpdGVTcGFjZSA9IHRydWUsIHByZXBhcmVUZXh0IH0gPSBjb25maWcsIGVsZW1lbnRCb3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBsYXN0Qm91bmRzID0gZWxlbWVudEJvdW5kcywgaXNQcmVmb3JtYXR0ZWQgPSAhcmVkdWNlV2hpdGVTcGFjZSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS53aGl0ZVNwYWNlLnN1YnN0cmluZygwLCAzKSA9PT0gXCJwcmVcIiwgaWdub3JlZFByZXZpb3VzU2libGluZyA9IDAsIHdvcmRzQ29sbGVjdGlvbiA9IHdvcmRXcmFwcGVyLmNvbGxlY3Rpb24sIHdvcmREZWxpbUlzTm90U3BhY2UsIHdvcmREZWxpbVN0cmluZywgd29yZERlbGltU3BsaXR0ZXIsIGN1ck5vZGUsIHdvcmRzLCBjdXJXb3JkRWwsIHN0YXJ0c1dpdGhTcGFjZSwgZW5kc1dpdGhTcGFjZSwgaiwgYm91bmRzLCBjdXJXb3JkQ2hhcnMsIGNsb25lZE5vZGUsIGN1clN1Yk5vZGUsIHRlbXBTdWJOb2RlLCBjdXJUZXh0Q29udGVudCwgd29yZFRleHQsIGxhc3RXb3JkVGV4dCwgaztcbiAgaWYgKHR5cGVvZiB3b3JkRGVsaW1pdGVyID09PSBcIm9iamVjdFwiKSB7XG4gICAgd29yZERlbGltU3BsaXR0ZXIgPSB3b3JkRGVsaW1pdGVyLmRlbGltaXRlciB8fCB3b3JkRGVsaW1pdGVyO1xuICAgIHdvcmREZWxpbVN0cmluZyA9IHdvcmREZWxpbWl0ZXIucmVwbGFjZVdpdGggfHwgXCJcIjtcbiAgfSBlbHNlIHtcbiAgICB3b3JkRGVsaW1TdHJpbmcgPSB3b3JkRGVsaW1pdGVyID09PSBcIlwiID8gXCJcIiA6IHdvcmREZWxpbWl0ZXIgfHwgXCIgXCI7XG4gIH1cbiAgd29yZERlbGltSXNOb3RTcGFjZSA9IHdvcmREZWxpbVN0cmluZyAhPT0gXCIgXCI7XG4gIGZvciAoOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjdXJOb2RlID0gbm9kZXNbaV07XG4gICAgaWYgKGN1ck5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgIGN1clRleHRDb250ZW50ID0gY3VyTm9kZS50ZXh0Q29udGVudCB8fCBcIlwiO1xuICAgICAgaWYgKHJlZHVjZVdoaXRlU3BhY2UpIHtcbiAgICAgICAgY3VyVGV4dENvbnRlbnQgPSBjdXJUZXh0Q29udGVudC5yZXBsYWNlKF9zcGFjZXNSZWdFeCwgXCIgXCIpO1xuICAgICAgfSBlbHNlIGlmIChpc1ByZWZvcm1hdHRlZCkge1xuICAgICAgICBjdXJUZXh0Q29udGVudCA9IGN1clRleHRDb250ZW50LnJlcGxhY2UoL1xcbi9nLCB3b3JkRGVsaW1TdHJpbmcgKyBcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVUZXh0ICYmIChjdXJUZXh0Q29udGVudCA9IHByZXBhcmVUZXh0KGN1clRleHRDb250ZW50LCBlbGVtZW50KSk7XG4gICAgICBjdXJOb2RlLnRleHRDb250ZW50ID0gY3VyVGV4dENvbnRlbnQ7XG4gICAgICB3b3JkcyA9IHdvcmREZWxpbVN0cmluZyB8fCB3b3JkRGVsaW1TcGxpdHRlciA/IGN1clRleHRDb250ZW50LnNwbGl0KHdvcmREZWxpbVNwbGl0dGVyIHx8IHdvcmREZWxpbVN0cmluZykgOiBjdXJUZXh0Q29udGVudC5tYXRjaChjaGFyU3BsaXRSZWdFeCkgfHwgX2VtcHR5QXJyYXk7XG4gICAgICBsYXN0V29yZFRleHQgPSB3b3Jkc1t3b3Jkcy5sZW5ndGggLSAxXTtcbiAgICAgIGVuZHNXaXRoU3BhY2UgPSB3b3JkRGVsaW1Jc05vdFNwYWNlID8gbGFzdFdvcmRUZXh0LnNsaWNlKC0xKSA9PT0gXCIgXCIgOiAhbGFzdFdvcmRUZXh0O1xuICAgICAgbGFzdFdvcmRUZXh0IHx8IHdvcmRzLnBvcCgpO1xuICAgICAgbGFzdEJvdW5kcyA9IGVsZW1lbnRCb3VuZHM7XG4gICAgICBzdGFydHNXaXRoU3BhY2UgPSB3b3JkRGVsaW1Jc05vdFNwYWNlID8gd29yZHNbMF0uY2hhckF0KDApID09PSBcIiBcIiA6ICF3b3Jkc1swXTtcbiAgICAgIHN0YXJ0c1dpdGhTcGFjZSAmJiBfaW5zZXJ0Tm9kZUJlZm9yZShcIiBcIiwgZWxlbWVudCwgY3VyTm9kZSk7XG4gICAgICB3b3Jkc1swXSB8fCB3b3Jkcy5zaGlmdCgpO1xuICAgICAgX3N0cmV0Y2hUb0ZpdFNwZWNpYWxDaGFycyh3b3Jkcywgc3BlY2lhbENoYXJzUmVnRXgpO1xuICAgICAgZGVlcFNsaWNlICYmIGlzTmVzdGVkIHx8IChjdXJOb2RlLnRleHRDb250ZW50ID0gXCJcIik7XG4gICAgICBmb3IgKGogPSAxOyBqIDw9IHdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHdvcmRUZXh0ID0gd29yZHNbaiAtIDFdO1xuICAgICAgICBpZiAoIXJlZHVjZVdoaXRlU3BhY2UgJiYgaXNQcmVmb3JtYXR0ZWQgJiYgd29yZFRleHQuY2hhckF0KDApID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgKF9hID0gY3VyTm9kZS5wcmV2aW91c1NpYmxpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgICAgICAgICBfaW5zZXJ0Tm9kZUJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIiksIGVsZW1lbnQsIGN1ck5vZGUpO1xuICAgICAgICAgIHdvcmRUZXh0ID0gd29yZFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWR1Y2VXaGl0ZVNwYWNlICYmIHdvcmRUZXh0ID09PSBcIlwiKSB7XG4gICAgICAgICAgX2luc2VydE5vZGVCZWZvcmUod29yZERlbGltU3RyaW5nLCBlbGVtZW50LCBjdXJOb2RlKTtcbiAgICAgICAgfSBlbHNlIGlmICh3b3JkVGV4dCA9PT0gXCIgXCIpIHtcbiAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiBcIiksIGN1ck5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdvcmREZWxpbUlzTm90U3BhY2UgJiYgd29yZFRleHQuY2hhckF0KDApID09PSBcIiBcIiAmJiBfaW5zZXJ0Tm9kZUJlZm9yZShcIiBcIiwgZWxlbWVudCwgY3VyTm9kZSk7XG4gICAgICAgICAgaWYgKGlnbm9yZWRQcmV2aW91c1NpYmxpbmcgJiYgaiA9PT0gMSAmJiAhc3RhcnRzV2l0aFNwYWNlICYmIHdvcmRzQ29sbGVjdGlvbi5pbmRleE9mKGlnbm9yZWRQcmV2aW91c1NpYmxpbmcucGFyZW50Tm9kZSkgPiAtMSkge1xuICAgICAgICAgICAgY3VyV29yZEVsID0gd29yZHNDb2xsZWN0aW9uW3dvcmRzQ29sbGVjdGlvbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cldvcmRFbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGFyV3JhcHBlciA/IFwiXCIgOiB3b3JkVGV4dCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJXb3JkRWwgPSB3b3JkV3JhcHBlcihjaGFyV3JhcHBlciA/IFwiXCIgOiB3b3JkVGV4dCk7XG4gICAgICAgICAgICBfaW5zZXJ0Tm9kZUJlZm9yZShjdXJXb3JkRWwsIGVsZW1lbnQsIGN1ck5vZGUpO1xuICAgICAgICAgICAgaWdub3JlZFByZXZpb3VzU2libGluZyAmJiBqID09PSAxICYmICFzdGFydHNXaXRoU3BhY2UgJiYgY3VyV29yZEVsLmluc2VydEJlZm9yZShpZ25vcmVkUHJldmlvdXNTaWJsaW5nLCBjdXJXb3JkRWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGFyV3JhcHBlcikge1xuICAgICAgICAgICAgY3VyV29yZENoYXJzID0gX2NoYXJTZWdtZW50ZXIgPyBfc3RyZXRjaFRvRml0U3BlY2lhbENoYXJzKFsuLi5fY2hhclNlZ21lbnRlci5zZWdtZW50KHdvcmRUZXh0KV0ubWFwKChzKSA9PiBzLnNlZ21lbnQpLCBzcGVjaWFsQ2hhcnNSZWdFeCkgOiB3b3JkVGV4dC5tYXRjaChjaGFyU3BsaXRSZWdFeCkgfHwgX2VtcHR5QXJyYXk7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgY3VyV29yZENoYXJzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGN1cldvcmRFbC5hcHBlbmRDaGlsZChjdXJXb3JkQ2hhcnNba10gPT09IFwiIFwiID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpIDogY2hhcldyYXBwZXIoY3VyV29yZENoYXJzW2tdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkZWVwU2xpY2UgJiYgaXNOZXN0ZWQpIHtcbiAgICAgICAgICAgIGN1clRleHRDb250ZW50ID0gY3VyTm9kZS50ZXh0Q29udGVudCA9IGN1clRleHRDb250ZW50LnN1YnN0cmluZyh3b3JkVGV4dC5sZW5ndGggKyAxLCBjdXJUZXh0Q29udGVudC5sZW5ndGgpO1xuICAgICAgICAgICAgYm91bmRzID0gY3VyV29yZEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKGJvdW5kcy50b3AgPiBsYXN0Qm91bmRzLnRvcCAmJiBib3VuZHMubGVmdCA8PSBsYXN0Qm91bmRzLmxlZnQpIHtcbiAgICAgICAgICAgICAgY2xvbmVkTm9kZSA9IGVsZW1lbnQuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgICAgIGN1clN1Yk5vZGUgPSBlbGVtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICAgIHdoaWxlIChjdXJTdWJOb2RlICYmIGN1clN1Yk5vZGUgIT09IGN1cldvcmRFbCkge1xuICAgICAgICAgICAgICAgIHRlbXBTdWJOb2RlID0gY3VyU3ViTm9kZTtcbiAgICAgICAgICAgICAgICBjdXJTdWJOb2RlID0gY3VyU3ViTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjbG9uZWROb2RlLmFwcGVuZENoaWxkKHRlbXBTdWJOb2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNsb25lZE5vZGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICBwcmVwRm9yQ2hhcnNPbmx5ICYmIF9kaXNhbGxvd0lubGluZShjbG9uZWROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RCb3VuZHMgPSBib3VuZHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChqIDwgd29yZHMubGVuZ3RoIHx8IGVuZHNXaXRoU3BhY2UpIHtcbiAgICAgICAgICAgIF9pbnNlcnROb2RlQmVmb3JlKGogPj0gd29yZHMubGVuZ3RoID8gXCIgXCIgOiB3b3JkRGVsaW1Jc05vdFNwYWNlICYmIHdvcmRUZXh0LnNsaWNlKC0xKSA9PT0gXCIgXCIgPyBcIiBcIiArIHdvcmREZWxpbVN0cmluZyA6IHdvcmREZWxpbVN0cmluZywgZWxlbWVudCwgY3VyTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGN1ck5vZGUpO1xuICAgICAgaWdub3JlZFByZXZpb3VzU2libGluZyA9IDA7XG4gICAgfSBlbHNlIGlmIChjdXJOb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBpZiAoaWdub3JlICYmIGlnbm9yZS5pbmRleE9mKGN1ck5vZGUpID4gLTEpIHtcbiAgICAgICAgd29yZHNDb2xsZWN0aW9uLmluZGV4T2YoY3VyTm9kZS5wcmV2aW91c1NpYmxpbmcpID4gLTEgJiYgd29yZHNDb2xsZWN0aW9uW3dvcmRzQ29sbGVjdGlvbi5sZW5ndGggLSAxXS5hcHBlbmRDaGlsZChjdXJOb2RlKTtcbiAgICAgICAgaWdub3JlZFByZXZpb3VzU2libGluZyA9IGN1ck5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfc3BsaXRXb3Jkc0FuZENoYXJzUmVjdXJzaXZlbHkoY3VyTm9kZSwgY29uZmlnLCB3b3JkV3JhcHBlciwgY2hhcldyYXBwZXIsIHByZXBGb3JDaGFyc09ubHksIGRlZXBTbGljZSwgaWdub3JlLCBjaGFyU3BsaXRSZWdFeCwgc3BlY2lhbENoYXJzUmVnRXgsIHRydWUpO1xuICAgICAgICBpZ25vcmVkUHJldmlvdXNTaWJsaW5nID0gMDtcbiAgICAgIH1cbiAgICAgIHByZXBGb3JDaGFyc09ubHkgJiYgX2Rpc2FsbG93SW5saW5lKGN1ck5vZGUpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IF9TcGxpdFRleHQgPSBjbGFzcyBfU3BsaXRUZXh0IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudHMsIGNvbmZpZykge1xuICAgIHRoaXMuaXNTcGxpdCA9IGZhbHNlO1xuICAgIF9pbml0SWZOZWNlc3NhcnkoKTtcbiAgICB0aGlzLmVsZW1lbnRzID0gX2VsZW1lbnRzKGVsZW1lbnRzKTtcbiAgICB0aGlzLmNoYXJzID0gW107XG4gICAgdGhpcy53b3JkcyA9IFtdO1xuICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB0aGlzLm1hc2tzID0gW107XG4gICAgdGhpcy52YXJzID0gY29uZmlnO1xuICAgIHRoaXMuX3NwbGl0ID0gKCkgPT4gdGhpcy5pc1NwbGl0ICYmIHRoaXMuc3BsaXQodGhpcy52YXJzKTtcbiAgICBsZXQgb3JpZyA9IFtdLCB0aW1lcklkLCBjaGVja1dpZHRocyA9ICgpID0+IHtcbiAgICAgIGxldCBpID0gb3JpZy5sZW5ndGgsIG87XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIG8gPSBvcmlnW2ldO1xuICAgICAgICBsZXQgdyA9IG8uZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgaWYgKHcgIT09IG8ud2lkdGgpIHtcbiAgICAgICAgICBvLndpZHRoID0gdztcbiAgICAgICAgICB0aGlzLl9zcGxpdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fZGF0YSA9IHsgb3JpZywgb2JzOiB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGNoZWNrV2lkdGhzLCAyMDApO1xuICAgIH0pIH07XG4gICAgX2NvbnRleHQodGhpcyk7XG4gICAgdGhpcy5zcGxpdChjb25maWcpO1xuICB9XG4gIHNwbGl0KGNvbmZpZykge1xuICAgIHRoaXMuaXNTcGxpdCAmJiB0aGlzLnJldmVydCgpO1xuICAgIHRoaXMudmFycyA9IGNvbmZpZyA9IGNvbmZpZyB8fCB0aGlzLnZhcnMgfHwge307XG4gICAgbGV0IHsgdHlwZSA9IFwiY2hhcnMsd29yZHMsbGluZXNcIiwgYXJpYSA9IFwiYXV0b1wiLCBkZWVwU2xpY2UgPSB0cnVlLCBzbWFydFdyYXAsIG9uU3BsaXQsIGF1dG9TcGxpdCA9IGZhbHNlLCBzcGVjaWFsQ2hhcnMsIG1hc2sgfSA9IHRoaXMudmFycywgc3BsaXRMaW5lcyA9IHR5cGUuaW5kZXhPZihcImxpbmVzXCIpID4gLTEsIHNwbGl0Q2hhcmFjdGVycyA9IHR5cGUuaW5kZXhPZihcImNoYXJzXCIpID4gLTEsIHNwbGl0V29yZHMgPSB0eXBlLmluZGV4T2YoXCJ3b3Jkc1wiKSA+IC0xLCBvbmx5U3BsaXRDaGFyYWN0ZXJzID0gc3BsaXRDaGFyYWN0ZXJzICYmICFzcGxpdFdvcmRzICYmICFzcGxpdExpbmVzLCBzcGVjaWFsQ2hhcnNSZWdFeCA9IHNwZWNpYWxDaGFycyAmJiAoXCJwdXNoXCIgaW4gc3BlY2lhbENoYXJzID8gbmV3IFJlZ0V4cChcIig/OlwiICsgc3BlY2lhbENoYXJzLmpvaW4oXCJ8XCIpICsgXCIpXCIsIFwiZ3VcIikgOiBzcGVjaWFsQ2hhcnMpLCBmaW5hbENoYXJTcGxpdFJlZ0V4ID0gc3BlY2lhbENoYXJzUmVnRXggPyBuZXcgUmVnRXhwKHNwZWNpYWxDaGFyc1JlZ0V4LnNvdXJjZSArIFwifFwiICsgX2Vtb2ppU2FmZVJlZ0V4LnNvdXJjZSwgXCJndVwiKSA6IF9lbW9qaVNhZmVSZWdFeCwgaWdub3JlID0gISFjb25maWcuaWdub3JlICYmIF9lbGVtZW50cyhjb25maWcuaWdub3JlKSwgeyBvcmlnLCBhbmltVGltZSwgb2JzIH0gPSB0aGlzLl9kYXRhLCBvblNwbGl0UmVzdWx0O1xuICAgIGlmIChzcGxpdENoYXJhY3RlcnMgfHwgc3BsaXRXb3JkcyB8fCBzcGxpdExpbmVzKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgIG9yaWdbaW5kZXhdID0ge1xuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgaHRtbDogZWxlbWVudC5pbm5lckhUTUwsXG4gICAgICAgICAgYXJpYUw6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSxcbiAgICAgICAgICBhcmlhSDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKVxuICAgICAgICB9O1xuICAgICAgICBhcmlhID09PSBcImF1dG9cIiA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCAoZWxlbWVudC50ZXh0Q29udGVudCB8fCBcIlwiKS50cmltKCkpIDogYXJpYSA9PT0gXCJoaWRkZW5cIiAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbGV0IGNoYXJzID0gW10sIHdvcmRzID0gW10sIGxpbmVzID0gW10sIGNoYXJXcmFwcGVyID0gc3BsaXRDaGFyYWN0ZXJzID8gX2dldFdyYXBwZXIoXCJjaGFyXCIsIGNvbmZpZywgY2hhcnMpIDogbnVsbCwgd29yZFdyYXBwZXIgPSBfZ2V0V3JhcHBlcihcIndvcmRcIiwgY29uZmlnLCB3b3JkcyksIGksIGN1cldvcmQsIHNtYXJ0V3JhcFNwYW4sIG5leHRTaWJsaW5nO1xuICAgICAgICBfc3BsaXRXb3Jkc0FuZENoYXJzUmVjdXJzaXZlbHkoZWxlbWVudCwgY29uZmlnLCB3b3JkV3JhcHBlciwgY2hhcldyYXBwZXIsIG9ubHlTcGxpdENoYXJhY3RlcnMsIGRlZXBTbGljZSAmJiAoc3BsaXRMaW5lcyB8fCBvbmx5U3BsaXRDaGFyYWN0ZXJzKSwgaWdub3JlLCBmaW5hbENoYXJTcGxpdFJlZ0V4LCBzcGVjaWFsQ2hhcnNSZWdFeCwgZmFsc2UpO1xuICAgICAgICBpZiAoc3BsaXRMaW5lcykge1xuICAgICAgICAgIGxldCBub2RlcyA9IF90b0FycmF5KGVsZW1lbnQuY2hpbGROb2RlcyksIHdyYXBMaW5lID0gX2dldExpbmVXcmFwcGVyKGVsZW1lbnQsIG5vZGVzLCBjb25maWcsIGxpbmVzKSwgY3VyTm9kZSwgdG9SZW1vdmUgPSBbXSwgbGluZVN0YXJ0SW5kZXggPSAwLCBhbGxCb3VuZHMgPSBub2Rlcy5tYXAoKG4pID0+IG4ubm9kZVR5cGUgPT09IDEgPyBuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogX2VtcHR5Qm91bmRzKSwgbGFzdEJvdW5kcyA9IF9lbXB0eUJvdW5kcztcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1ck5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJOb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgIGlmIChjdXJOb2RlLm5vZGVOYW1lID09PSBcIkJSXCIpIHtcbiAgICAgICAgICAgICAgICB0b1JlbW92ZS5wdXNoKGN1ck5vZGUpO1xuICAgICAgICAgICAgICAgIHdyYXBMaW5lKGxpbmVTdGFydEluZGV4LCBpICsgMSk7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICBsYXN0Qm91bmRzID0gYWxsQm91bmRzW2xpbmVTdGFydEluZGV4XTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaSAmJiBhbGxCb3VuZHNbaV0udG9wID4gbGFzdEJvdW5kcy50b3AgJiYgYWxsQm91bmRzW2ldLmxlZnQgPD0gbGFzdEJvdW5kcy5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICB3cmFwTGluZShsaW5lU3RhcnRJbmRleCwgaSk7XG4gICAgICAgICAgICAgICAgICBsaW5lU3RhcnRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RCb3VuZHMgPSBhbGxCb3VuZHNbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGluZVN0YXJ0SW5kZXggPCBpICYmIHdyYXBMaW5lKGxpbmVTdGFydEluZGV4LCBpKTtcbiAgICAgICAgICB0b1JlbW92ZS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChfYSA9IGVsLnBhcmVudE5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGxpdFdvcmRzKSB7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJXb3JkID0gd29yZHNbaV07XG4gICAgICAgICAgICBpZiAoc3BsaXRDaGFyYWN0ZXJzIHx8ICFjdXJXb3JkLm5leHRTaWJsaW5nIHx8IGN1cldvcmQubmV4dFNpYmxpbmcubm9kZVR5cGUgIT09IDMpIHtcbiAgICAgICAgICAgICAgaWYgKHNtYXJ0V3JhcCAmJiAhc3BsaXRMaW5lcykge1xuICAgICAgICAgICAgICAgIHNtYXJ0V3JhcFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgICAgICBzbWFydFdyYXBTcGFuLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJXb3JkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgIHNtYXJ0V3JhcFNwYW4uYXBwZW5kQ2hpbGQoY3VyV29yZC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyV29yZC5yZXBsYWNlV2l0aChzbWFydFdyYXBTcGFuKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJXb3JkLnJlcGxhY2VXaXRoKC4uLmN1cldvcmQuY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5leHRTaWJsaW5nID0gY3VyV29yZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgaWYgKG5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcudGV4dENvbnRlbnQgPSAoY3VyV29yZC50ZXh0Q29udGVudCB8fCBcIlwiKSArIChuZXh0U2libGluZy50ZXh0Q29udGVudCB8fCBcIlwiKTtcbiAgICAgICAgICAgICAgICBjdXJXb3JkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgZWxlbWVudC5ub3JtYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmVzLnB1c2goLi4ubGluZXMpO1xuICAgICAgICB0aGlzLndvcmRzLnB1c2goLi4ud29yZHMpO1xuICAgICAgICB0aGlzLmNoYXJzLnB1c2goLi4uY2hhcnMpO1xuICAgICAgfSk7XG4gICAgICBtYXNrICYmIHRoaXNbbWFza10gJiYgdGhpcy5tYXNrcy5wdXNoKC4uLnRoaXNbbWFza10ubWFwKChlbCkgPT4ge1xuICAgICAgICBsZXQgbWFza0VsID0gZWwuY2xvbmVOb2RlKCk7XG4gICAgICAgIGVsLnJlcGxhY2VXaXRoKG1hc2tFbCk7XG4gICAgICAgIG1hc2tFbC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIGVsLmNsYXNzTmFtZSAmJiAobWFza0VsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKC8oXFxiXFx3K1xcYikvZywgXCIkMS1tYXNrXCIpKTtcbiAgICAgICAgbWFza0VsLnN0eWxlLm92ZXJmbG93ID0gXCJjbGlwXCI7XG4gICAgICAgIHJldHVybiBtYXNrRWw7XG4gICAgICB9KSk7XG4gICAgfVxuICAgIHRoaXMuaXNTcGxpdCA9IHRydWU7XG4gICAgX2ZvbnRzICYmIChhdXRvU3BsaXQgPyBfZm9udHMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRpbmdkb25lXCIsIHRoaXMuX3NwbGl0KSA6IF9mb250cy5zdGF0dXMgPT09IFwibG9hZGluZ1wiICYmIGNvbnNvbGUud2FybihcIlNwbGl0VGV4dCBjYWxsZWQgYmVmb3JlIGZvbnRzIGxvYWRlZFwiKSk7XG4gICAgaWYgKChvblNwbGl0UmVzdWx0ID0gb25TcGxpdCAmJiBvblNwbGl0KHRoaXMpKSAmJiBvblNwbGl0UmVzdWx0LnRvdGFsVGltZSkge1xuICAgICAgdGhpcy5fZGF0YS5hbmltID0gYW5pbVRpbWUgPyBvblNwbGl0UmVzdWx0LnRvdGFsVGltZShhbmltVGltZSkgOiBvblNwbGl0UmVzdWx0O1xuICAgIH1cbiAgICBzcGxpdExpbmVzICYmIGF1dG9TcGxpdCAmJiB0aGlzLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBvcmlnW2luZGV4XS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICBvYnMgJiYgb2JzLm9ic2VydmUoZWxlbWVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV2ZXJ0KCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IHsgb3JpZywgYW5pbSwgb2JzIH0gPSB0aGlzLl9kYXRhO1xuICAgIG9icyAmJiBvYnMuZGlzY29ubmVjdCgpO1xuICAgIG9yaWcuZm9yRWFjaCgoeyBlbGVtZW50LCBodG1sLCBhcmlhTCwgYXJpYUggfSkgPT4ge1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgYXJpYUwgPyBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYXJpYUwpIDogZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xuICAgICAgYXJpYUggPyBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIGFyaWFIKSA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIik7XG4gICAgfSk7XG4gICAgdGhpcy5jaGFycy5sZW5ndGggPSB0aGlzLndvcmRzLmxlbmd0aCA9IHRoaXMubGluZXMubGVuZ3RoID0gb3JpZy5sZW5ndGggPSB0aGlzLm1hc2tzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pc1NwbGl0ID0gZmFsc2U7XG4gICAgX2ZvbnRzID09IG51bGwgPyB2b2lkIDAgOiBfZm9udHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRpbmdkb25lXCIsIHRoaXMuX3NwbGl0KTtcbiAgICBpZiAoYW5pbSkge1xuICAgICAgdGhpcy5fZGF0YS5hbmltVGltZSA9IGFuaW0udG90YWxUaW1lKCk7XG4gICAgICBhbmltLnJldmVydCgpO1xuICAgIH1cbiAgICAoX2IgPSAoX2EgPSB0aGlzLnZhcnMpLm9uUmV2ZXJ0KSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShlbGVtZW50cywgY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBfU3BsaXRUZXh0KGVsZW1lbnRzLCBjb25maWcpO1xuICB9XG4gIHN0YXRpYyByZWdpc3Rlcihjb3JlKSB7XG4gICAgZ3NhcCA9IGdzYXAgfHwgY29yZSB8fCB3aW5kb3cuZ3NhcDtcbiAgICBpZiAoZ3NhcCkge1xuICAgICAgX3RvQXJyYXkgPSBnc2FwLnV0aWxzLnRvQXJyYXk7XG4gICAgICBfY29udGV4dCA9IGdzYXAuY29yZS5jb250ZXh0IHx8IF9jb250ZXh0O1xuICAgIH1cbiAgICBpZiAoIV9jb3JlSW5pdHRlZCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDApIHtcbiAgICAgIF9mb250cyA9IGRvY3VtZW50LmZvbnRzO1xuICAgICAgX2NvcmVJbml0dGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5fU3BsaXRUZXh0LnZlcnNpb24gPSBcIjMuMTMuMFwiO1xubGV0IFNwbGl0VGV4dCA9IF9TcGxpdFRleHQ7XG5cbmV4cG9ydCB7IFNwbGl0VGV4dCwgU3BsaXRUZXh0IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBhbmltYXRlLCBjcmVhdGVTcHJpbmcsIG9uU2Nyb2xsLCBzdGFnZ2VyLCB1dGlscyB9IGZyb20gXCJhbmltZWpzXCI7XG5pbXBvcnQgeyBnZXRSZW0gfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgU3BsaXRUZXh0IH0gZnJvbSBcImdzYXAvU3BsaXRUZXh0XCI7XG5cbmNvbnN0IGhvbWVTZWN0aW9uID0gdXRpbHMuJChcInNlY3Rpb25bY2xhc3MqPSdob21lLSddXCIpO1xuXG5leHBvcnQgY29uc3QgaG9tZVBhZ2UgPSB7XG5cdGhvbWVfMjogKCkgPT4ge1xuXHRcdGNvbnN0IERVUkFUSU9OID0gMTAwMDtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAuNSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgaXRlbXMgPSBlbnRyeS50YXJnZXQucXVlcnlTZWxlY3RvckFsbChcIi5pdGVtXCIpO1xuXHRcdFx0XHRcdFx0aXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZShpdGVtLCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0XHRcdFx0XHR4OiBbZ2V0UmVtKDQwKSwgMF0sXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IERVUkFUSU9OLFxuXHRcdFx0XHRcdFx0XHRcdGVhc2U6IFwib3V0UXVhcnRcIixcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogaW5kZXggKiAyMDAsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC41LFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHR1dGlscy4kKFwiLmhvbWUtMlwiKS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG5cdFx0XHRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbVwiKS5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdHV0aWxzLnNldChpdGVtLCB7XG5cdFx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdG9ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7XG5cdFx0fSk7XG5cdH0sXG5cblx0aG9tZV80OiAoKSA9PiB7XG5cdFx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0XHQoZW50cmllcywgb2JzKSA9PiB7XG5cdFx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdFx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpO1xuXHRcdFx0XHRcdHV0aWxzLnNldChkZXNjcmlwdGlvbiwge1xuXHRcdFx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0XHRcdHk6IFwiNTAlXCIsXG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogODAwLFxuXHRcdFx0XHRcdFx0ZWFzZTogXCJvdXRDaXJjXCIsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y29uc3QgaXRlbXMgPSB1dGlscy4kKGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJwZC0xXCIpKTtcblx0XHRcdFx0XHRpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHR1dGlscy5zZXQoaXRlbSwge1xuXHRcdFx0XHRcdFx0XHRzY2FsZTogMCxcblx0XHRcdFx0XHRcdFx0dHJhbnNsYXRlWTogZ2V0UmVtKDQwKSxcblx0XHRcdFx0XHRcdFx0ZWFzZTogXCJlYXNlSW5PdXRTaW5lXCIsXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiAzMDAsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwLjUpIHtcblx0XHRcdFx0XHRcdGFuaW1hdGUoZGVzY3JpcHRpb24sIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0XHRcdFx0eTogMCxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IDEwMCxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YW5pbWF0ZShpdGVtcywge1xuXHRcdFx0XHRcdFx0XHRzY2FsZTogMSxcblx0XHRcdFx0XHRcdFx0dHJhbnNsYXRlWTogMCxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoNTApLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC41LFxuXHRcdFx0fVxuXHRcdCk7XG5cdFx0dXRpbHMuJChcIi5ob21lLTRcIikuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKTtcblx0XHR9KTtcblx0fSxcblxuXHQvLyBob21lXzc6ICgpID0+IHtcblx0Ly8gXHRjb25zdCBEVVJBVElPTiA9IDYwMDtcblx0Ly8gXHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0Ly8gXHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0Ly8gXHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHQvLyBcdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAuNSkge1xuXHQvLyBcdFx0XHRcdFx0Y29uc3QgaW1hZ2VzID0gZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbS1zbGlkZS1sZWZ0XCIpO1xuXHQvLyBcdFx0XHRcdFx0aW1hZ2VzLmZvckVhY2goKGltYWdlLCBpbmRleCkgPT4ge1xuXHQvLyBcdFx0XHRcdFx0XHRjb25zdCB7IGxlZnQgfSA9IGltYWdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQvLyBcdFx0XHRcdFx0XHRjb25zdCBwb3NpdGlvbiA9IHdpbmRvdy5pbm5lcldpZHRoIC8gMiA+IGxlZnQgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcblx0Ly8gXHRcdFx0XHRcdFx0YW5pbWF0ZShpbWFnZSwge1xuXHQvLyBcdFx0XHRcdFx0XHRcdHNjYWxlOiBbMS4yLCAxXSxcblx0Ly8gXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdC8vIFx0XHRcdFx0XHRcdFx0eDogW3Bvc2l0aW9uID09PSBcImxlZnRcIiA/IFwiLTEwMCVcIiA6IFwiMTAwJVwiLCAwXSxcblx0Ly8gXHRcdFx0XHRcdFx0XHRlYXNlOiBcIm91dFF1YXJ0XCIsXG5cdC8vIFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IERVUkFUSU9OICsgNzAwLFxuXHQvLyBcdFx0XHRcdFx0XHRcdGRlbGF5OiBpbmRleCAqIDQwMCxcblx0Ly8gXHRcdFx0XHRcdFx0fSk7XG5cdC8vIFx0XHRcdFx0XHR9KTtcblx0Ly8gXHRcdFx0XHRcdG9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcblx0Ly8gXHRcdFx0XHR9XG5cdC8vIFx0XHRcdH0pO1xuXHQvLyBcdFx0fSxcblx0Ly8gXHRcdHtcblx0Ly8gXHRcdFx0dGhyZXNob2xkOiAwLjUsXG5cdC8vIFx0XHR9XG5cdC8vIFx0KTtcblx0Ly8gXHR1dGlscy4kKFwiLmhvbWUtN1wiKS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG5cdC8vIFx0XHRvYnNlcnZlci5vYnNlcnZlKHNlY3Rpb24pO1xuXHQvLyBcdH0pO1xuXHQvLyB9LFxuXG5cdGhvbWVfMzogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMC42KSB7XG5cdFx0XHRcdFx0XHQvLyBjb25zdCBib3R0b21UaXRsZSA9XG5cdFx0XHRcdFx0XHQvLyBcdGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLmJvdHRvbS10aXRsZVwiKTtcblx0XHRcdFx0XHRcdGNvbnN0IGJvdHRvbVRpdGxlID0gZW50cnkudGFyZ2V0O1xuXHRcdFx0XHRcdFx0Y29uc3Qgc3BsaXRUZXh0ID0gU3BsaXRUZXh0LmNyZWF0ZShib3R0b21UaXRsZSwge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNoYXJzLHdvcmRzXCIsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHNwbGl0VGV4dC5jaGFycy5mb3JFYWNoKChjaGFyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNoYXIuY2xhc3NMaXN0LmFkZChcImNoYXJcIik7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHNwbGl0VGV4dC53b3Jkcy5mb3JFYWNoKCh3b3JkKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHdvcmQuY2xhc3NMaXN0LmFkZChcIndvcmRcIik7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGFuaW1hdGUoc3BsaXRUZXh0LmNoYXJzLCB7XG5cdFx0XHRcdFx0XHRcdHNjYWxlOiBbMC44LCAxXSxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDEwMCxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDUwLCB7XG5cdFx0XHRcdFx0XHRcdFx0ZnJvbTogXCJsYXN0XCIsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRhbmltYXRlKHNwbGl0VGV4dC53b3Jkcywge1xuXHRcdFx0XHRcdFx0XHR4OiBbXCIxMDAlXCIsIDBdLFxuXHRcdFx0XHRcdFx0XHQvLyByb3RhdGU6IFstMzAsIDBdLFxuXHRcdFx0XHRcdFx0XHQvLyB5OiBbXCI1MCVcIiwgMF0sXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDgwLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoMTAwLCB7XG5cdFx0XHRcdFx0XHRcdFx0ZnJvbTogXCJsYXN0XCIsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRib3R0b21UaXRsZS5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjYgfVxuXHRcdCk7XG5cblx0XHR1dGlscy4kKFwiLmhvbWUtM1wiKS5mb3JFYWNoKCh0YWJQYXJlbnQpID0+IHtcblx0XHRcdGNvbnN0IGJvdHRvbVRpdGxlID0gdGFiUGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm90dG9tLXRpdGxlXCIpO1xuXHRcdFx0aWYgKCFib3R0b21UaXRsZSkgcmV0dXJuO1xuXHRcdFx0Ym90dG9tVGl0bGUuc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKGJvdHRvbVRpdGxlKTtcblx0XHR9KTtcblx0fSxcblx0aG9tZV9pdGVtc19hbmltYXRpb246ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwLjUpIHtcblx0XHRcdFx0XHRcdGFuaW1hdGUoZW50cnkudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbVwiKSwge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdHk6IFtnZXRSZW0oNDApLCAwXSxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDE1MCxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDEwMCksXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjUgfVxuXHRcdCk7XG5cblx0XHR1dGlscy4kKFwiLmhvbWUtaXRlbS1hbmltYXRpb25cIikuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdHV0aWxzLnNldChlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW1cIiksIHtcblx0XHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdFx0eTogZ2V0UmVtKDQwKSxcblx0XHRcdH0pO1xuXHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0fSk7XG5cdH0sXG5cdGhvbWVCbG9ja1RpdGxlczogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0aXRsZSA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGl0bGUpLnRleHRBbGlnbjtcblx0XHRcdFx0XHRcdGxldCBhbmltYXRlRnJvbSA9IFwiZmlyc3RcIjtcblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJjZW50ZXJcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwibGFzdFwiO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRpdGxlLCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY2hhcnMsd29yZHNcIixcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0ZW50cnkudGFyZ2V0LmNsb3Nlc3QoXCIuYmxvY2stdGl0bGVcIikuc3R5bGUub3BhY2l0eSA9IDE7XG5cdFx0XHRcdFx0XHRjb25zdCBjaGFycyA9IHNwbGl0VGV4dC5jaGFycztcblx0XHRcdFx0XHRcdGFuaW1hdGUoY2hhcnMsIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHR5OiBbZ2V0UmVtKDIwKSwgMF0sXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigyNSwge1xuXHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0aXRsZSk7IC8vIE9ubHkgYW5pbWF0ZSBvbmNlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC4yLCAvLyBBZGp1c3QgYXMgbmVlZGVkICgyMCUgdmlzaWJsZSlcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0aG9tZVNlY3Rpb24uZm9yRWFjaCgoaG9tZSkgPT4ge1xuXHRcdFx0Y29uc3QgdGl0bGUgPSBob21lLnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2stdGl0bGVcIik7XG5cdFx0XHRpZiAoIXRpdGxlKSByZXR1cm47XG5cdFx0XHR0aXRsZS5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdG9ic2VydmVyLm9ic2VydmUodGl0bGUpO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lVGl0bGU6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAuNSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGl0bGUgPSBlbnRyeS50YXJnZXQ7XG5cdFx0XHRcdFx0XHRjb25zdCBhbmltYXRlU3R5bGUgPSB0aXRsZS5nZXRBdHRyaWJ1dGUoXCJhbmltYXRlLXRpdGxlXCIpIHx8IFwiZmFkZS11cFwiO1xuXHRcdFx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aXRsZSkudGV4dEFsaWduO1xuXHRcdFx0XHRcdFx0bGV0IGFuaW1hdGVGcm9tID0gXCJmaXJzdFwiO1xuXHRcdFx0XHRcdFx0aWYgKHBvc2l0aW9uID09PSBcImNlbnRlclwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJsYXN0XCI7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUodGl0bGUsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJ3b3Jkc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHRpdGxlLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblxuXHRcdFx0XHRcdFx0aWYgKGFuaW1hdGVTdHlsZSA9PT0gXCJmYWRlLXVwXCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZShzcGxpdFRleHQud29yZHMsIHtcblx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdFx0eTogW1wiMTAwJVwiLCAwXSxcblx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogNjAwLFxuXHRcdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDE1MCxcblx0XHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigyNSwge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnJvbTogYW5pbWF0ZUZyb20sXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGFuaW1hdGVTdHlsZSA9PT0gXCJzbGlkZS11cFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGUoc3BsaXRUZXh0LndvcmRzLCB7XG5cdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHRcdHg6IFtcIjEwMCVcIiwgMF0sXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDYwMCxcblx0XHRcdFx0XHRcdFx0XHRlYXNlOiBjcmVhdGVTcHJpbmcoe1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoMjUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0aXRsZSk7IC8vIE9ubHkgYW5pbWF0ZSBvbmNlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC41LFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRob21lU2VjdGlvbi5mb3JFYWNoKChob21lKSA9PiB7XG5cdFx0XHRjb25zdCB0aXRsZSA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIlthbmltYXRlLXRpdGxlXVwiKTtcblx0XHRcdGlmICghdGl0bGUpIHJldHVybjtcblx0XHRcdHRpdGxlLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShpdGVtKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lRGVzY3JpcHRpb246ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBlbnRyeS50YXJnZXQ7XG5cdFx0XHRcdFx0XHRsZXQgYW5pbWF0ZUZyb20gPSBcImZpcnN0XCI7XG5cdFx0XHRcdFx0XHQvLyBjb25zdCBwb3NpdGlvbiA9XG5cdFx0XHRcdFx0XHQvLyBcdHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRlc2NyaXB0aW9uKS50ZXh0QWxpZ247XG5cdFx0XHRcdFx0XHQvLyBpZiAocG9zaXRpb24gPT09IFwiY2VudGVyXCIpIHtcblx0XHRcdFx0XHRcdC8vIFx0YW5pbWF0ZUZyb20gPSBcImNlbnRlclwiO1xuXHRcdFx0XHRcdFx0Ly8gfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0XHQvLyBcdGFuaW1hdGVGcm9tID0gXCJsYXN0XCI7XG5cdFx0XHRcdFx0XHQvLyB9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUoZGVzY3JpcHRpb24sIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJ3b3JkcyxsaW5lc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbi5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdFx0XHRcdGNvbnN0IHdvcmRzID0gc3BsaXRUZXh0LndvcmRzO1xuXHRcdFx0XHRcdFx0Y29uc3QgbGluZSA9IHNwbGl0VGV4dC5saW5lcztcblx0XHRcdFx0XHRcdGxpbmUuZm9yRWFjaCgobGluZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaW5lLnN0eWxlLmhlaWdodCA9IGxpbmUub2Zmc2V0SGVpZ2h0ICsgXCJweFwiO1xuXHRcdFx0XHRcdFx0XHRsaW5lLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YW5pbWF0ZSh3b3Jkcywge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdHRyYW5zbGF0ZVk6IFtnZXRSZW0oMjApLCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDUwMCxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoMTUsIHtcblx0XHRcdFx0XHRcdFx0XHRmcm9tOiBhbmltYXRlRnJvbSxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUoZGVzY3JpcHRpb24pOyAvLyBPbmx5IGFuaW1hdGUgb25jZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0aHJlc2hvbGQ6IDAuMiwgLy8gQWRqdXN0IGFzIG5lZWRlZCAoMjAlIHZpc2libGUpXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGhvbWVTZWN0aW9uLmZvckVhY2goKGhvbWUpID0+IHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gaG9tZS5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uXCIpO1xuXHRcdFx0aWYgKCFkZXNjcmlwdGlvbikgcmV0dXJuO1xuXHRcdFx0ZGVzY3JpcHRpb24uc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKGRlc2NyaXB0aW9uKTtcblx0XHR9KTtcblx0fSxcblx0aG9tZUJ1dHRvbnM6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3Qgd3JhcCA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGFuaW1hdGUod3JhcCwge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRcdFx0XHRcdHk6IFs0NSwgMF0sXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA1MDAsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUod3JhcCk7IC8vIE9ubHkgYW5pbWF0ZSBvbmNlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRocmVzaG9sZDogMC4yLCAvLyBBZGp1c3QgYXMgbmVlZGVkICgyMCUgdmlzaWJsZSlcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0aG9tZVNlY3Rpb24uZm9yRWFjaCgoaG9tZSkgPT4ge1xuXHRcdFx0Y29uc3QgYnV0dG9ucyA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIi5idG5cIik7XG5cdFx0XHRjb25zdCB3cmFwcGVycyA9IFtdO1xuXG5cdFx0XHRidXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuXHRcdFx0XHQvLyBDcmVhdGUgd3JhcHBlciBkaXZcblx0XHRcdFx0Y29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRcdHdyYXAuY2xhc3NMaXN0LmFkZChcImJ1dHRvbi13cmFwcGVyXCIpO1xuXG5cdFx0XHRcdC8vIEdldCB0aGUgYnV0dG9uJ3MgcGFyZW50XG5cdFx0XHRcdGNvbnN0IHBhcmVudCA9IGJ1dHRvbi5wYXJlbnROb2RlO1xuXG5cdFx0XHRcdC8vIEluc2VydCB0aGUgd3JhcHBlciB3aGVyZSB0aGUgYnV0dG9uIHdhc1xuXHRcdFx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKHdyYXAsIGJ1dHRvbik7XG5cblx0XHRcdFx0Ly8gTW92ZSB0aGUgYnV0dG9uIGludG8gdGhlIHdyYXBwZXJcblx0XHRcdFx0d3JhcC5hcHBlbmRDaGlsZChidXR0b24pO1xuXG5cdFx0XHRcdC8vIFN0b3JlIHRoZSB3cmFwcGVyIHJlZmVyZW5jZVxuXHRcdFx0XHR3cmFwLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdFx0XHR3cmFwLnN0eWxlLnkgPSBnZXRSZW0oNDUpO1xuXHRcdFx0XHR3cmFwcGVycy5wdXNoKHdyYXApO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh3cmFwcGVycy5sZW5ndGggPT09IDApIHJldHVybjtcblxuXHRcdFx0Ly8gT2JzZXJ2ZSBlYWNoIHdyYXBwZXIgZm9yIGludGVyc2VjdGlvblxuXHRcdFx0d3JhcHBlcnMuZm9yRWFjaCgod3JhcCkgPT4ge1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKHdyYXApO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sXG5cdHByaW1hcnlOYXY6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0YW5pbWF0ZShlbnRyeS50YXJnZXQucXVlcnlTZWxlY3RvckFsbChcImxpXCIpLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IDEsXG5cdFx0XHRcdFx0XHRcdHg6IDAsXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDEwMCksXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdFx0ZGFtcGluZzogMTAsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7IHRocmVzaG9sZDogMC4yIH1cblx0XHQpO1xuXG5cdFx0dXRpbHMuJChcIi5wcmltYXJ5LW5hdlwiKS5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0KGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKSwge1xuXHRcdFx0XHRvcGFjaXR5OiAwLFxuXHRcdFx0XHR4OiBnZXRSZW0oMjApLFxuXHRcdFx0fSk7XG5cdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHR9KTtcblx0fSxcblx0aG9tZVR5cGV3cml0ZXI6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGlmICh0ZXh0LmRhdGFzZXQuYW5pbWF0ZWQgPT09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRleHQuZGF0YXNldC5hbmltYXRlZCA9IFwidHJ1ZVwiO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRleHQsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJjaGFyc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zdCBjaGFycyA9IHNwbGl0VGV4dC5jaGFycztcblxuXHRcdFx0XHRcdFx0Y2hhcnMuZm9yRWFjaCgoY2hhcikgPT4ge1xuXHRcdFx0XHRcdFx0XHRjaGFyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdFx0XHRcdFx0XHRjaGFyLnN0eWxlLndpbGxDaGFuZ2UgPSBcIm9wYWNpdHlcIjtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRhbmltYXRlKGNoYXJzLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDUwLFxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcig4MCwge1xuXHRcdFx0XHRcdFx0XHRcdGZyb206IFwiZmlyc3RcIixcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdGVhc2U6IFwibGluZWFyXCIsXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0ZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjMgfVxuXHRcdCk7XG5cblx0XHRob21lU2VjdGlvbi5mb3JFYWNoKChob21lKSA9PiB7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRlLXR5cGV3cml0ZXJcIik7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRpZiAoZWwuZGF0YXNldC5hbmltYXRlZCA9PT0gXCJ0cnVlXCIpIHJldHVybjtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblx0aG9tZUJsdXJGb2N1czogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0ID0gZW50cnkudGFyZ2V0O1xuXHRcdFx0XHRcdFx0aWYgKHRleHQuZGF0YXNldC5hbmltYXRlZCA9PT0gXCJ0cnVlXCIpIHtcblx0XHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0ZXh0KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGV4dC5kYXRhc2V0LmFuaW1hdGVkID0gXCJ0cnVlXCI7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUodGV4dCwge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNoYXJzXCIsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNvbnN0IGNoYXJzID0gc3BsaXRUZXh0LmNoYXJzO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBwb3NpdGlvbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHQpLnRleHRBbGlnbjtcblx0XHRcdFx0XHRcdGxldCBhbmltYXRlRnJvbSA9IFwiZmlyc3RcIjtcblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJjZW50ZXJcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwibGFzdFwiO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjaGFycy5mb3JFYWNoKChjaGFyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUuZmlsdGVyID0gXCJibHVyKDEwcHgpXCI7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUud2lsbENoYW5nZSA9IFwiZmlsdGVyLCBvcGFjaXR5XCI7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0YW5pbWF0ZShjaGFycywge1xuXHRcdFx0XHRcdFx0XHRmaWx0ZXI6IFtcImJsdXIoMTBweClcIiwgXCJibHVyKDBweClcIl0sXG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxMDAsXG5cdFx0XHRcdFx0XHRcdFx0ZGFtcGluZzogMTUsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcig0MCwge1xuXHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKHRleHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0eyB0aHJlc2hvbGQ6IDAuMyB9XG5cdFx0KTtcblxuXHRcdGhvbWVTZWN0aW9uLmZvckVhY2goKGhvbWUpID0+IHtcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gaG9tZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGUtYmx1clwiKTtcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5kYXRhc2V0LmFuaW1hdGVkID09PSBcInRydWVcIikgcmV0dXJuO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lU2NhbGVSZXZlYWw6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGlmICh0ZXh0LmRhdGFzZXQuYW5pbWF0ZWQgPT09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRleHQuZGF0YXNldC5hbmltYXRlZCA9IFwidHJ1ZVwiO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRleHQsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJjaGFyc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zdCBjaGFycyA9IHNwbGl0VGV4dC5jaGFycztcblxuXHRcdFx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0KS50ZXh0QWxpZ247XG5cdFx0XHRcdFx0XHRsZXQgYW5pbWF0ZUZyb20gPSBcImZpcnN0XCI7XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwiY2VudGVyXCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZUZyb20gPSBcImNlbnRlclwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHBvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZUZyb20gPSBcImxhc3RcIjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y2hhcnMuZm9yRWFjaCgoY2hhcikgPT4ge1xuXHRcdFx0XHRcdFx0XHRjaGFyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdFx0XHRcdFx0XHRjaGFyLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMCkgcm90YXRlKDE4MGRlZylcIjtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS53aWxsQ2hhbmdlID0gXCJ0cmFuc2Zvcm0sIG9wYWNpdHlcIjtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRhbmltYXRlKGNoYXJzLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0c2NhbGU6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0cm90YXRlOiBbMTgwLCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDYwMCxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDIwMCxcblx0XHRcdFx0XHRcdFx0XHRkYW1waW5nOiAxMixcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdGRlbGF5OiBzdGFnZ2VyKDUwLCB7XG5cdFx0XHRcdFx0XHRcdFx0ZnJvbTogYW5pbWF0ZUZyb20sXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7IHRocmVzaG9sZDogMC4zIH1cblx0XHQpO1xuXG5cdFx0aG9tZVNlY3Rpb24uZm9yRWFjaCgoaG9tZSkgPT4ge1xuXHRcdFx0Y29uc3QgZWxlbWVudHMgPSBob21lLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0ZS1zY2FsZVwiKTtcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5kYXRhc2V0LmFuaW1hdGVkID09PSBcInRydWVcIikgcmV0dXJuO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lV2F2ZVRleHQ6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGlmICh0ZXh0LmRhdGFzZXQuYW5pbWF0ZWQgPT09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRleHQuZGF0YXNldC5hbmltYXRlZCA9IFwidHJ1ZVwiO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRleHQsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJjaGFyc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zdCBjaGFycyA9IHNwbGl0VGV4dC5jaGFycztcblxuXHRcdFx0XHRcdFx0Y2hhcnMuZm9yRWFjaCgoY2hhciwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMzBweClcIjtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS53aWxsQ2hhbmdlID0gXCJ0cmFuc2Zvcm0sIG9wYWNpdHlcIjtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRhbmltYXRlKGNoYXJzLCB7XG5cdFx0XHRcdFx0XHRcdG9wYWNpdHk6IFswLCAxXSxcblx0XHRcdFx0XHRcdFx0eTogWzMwLCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDUwMCxcblx0XHRcdFx0XHRcdFx0ZWFzZTogY3JlYXRlU3ByaW5nKHtcblx0XHRcdFx0XHRcdFx0XHRzdGlmZm5lc3M6IDgwLFxuXHRcdFx0XHRcdFx0XHRcdGRhbXBpbmc6IDEwLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IChlbCwgaSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBpICogMzAgKyBNYXRoLnNpbihpICogMC41KSAqIDEwO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR7IHRocmVzaG9sZDogMC4zIH1cblx0XHQpO1xuXG5cdFx0aG9tZVNlY3Rpb24uZm9yRWFjaCgoaG9tZSkgPT4ge1xuXHRcdFx0Y29uc3QgZWxlbWVudHMgPSBob21lLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0ZS13YXZlXCIpO1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0aWYgKGVsLmRhdGFzZXQuYW5pbWF0ZWQgPT09IFwidHJ1ZVwiKSByZXR1cm47XG5cdFx0XHRcdG9ic2VydmVyLm9ic2VydmUoZWwpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sXG5cdGhvbWVSb3RhdGVSZXZlYWw6ICgpID0+IHtcblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblx0XHRcdChlbnRyaWVzLCBvYnMpID0+IHtcblx0XHRcdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGVudHJ5LnRhcmdldDtcblx0XHRcdFx0XHRcdGlmICh0ZXh0LmRhdGFzZXQuYW5pbWF0ZWQgPT09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdFx0XHRcdG9icy51bm9ic2VydmUodGV4dCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRleHQuZGF0YXNldC5hbmltYXRlZCA9IFwidHJ1ZVwiO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBzcGxpdFRleHQgPSBTcGxpdFRleHQuY3JlYXRlKHRleHQsIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJ3b3Jkc1wiLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zdCB3b3JkcyA9IHNwbGl0VGV4dC53b3JkcztcblxuXHRcdFx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0KS50ZXh0QWxpZ247XG5cdFx0XHRcdFx0XHRsZXQgYW5pbWF0ZUZyb20gPSBcImZpcnN0XCI7XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwiY2VudGVyXCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZUZyb20gPSBcImNlbnRlclwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHBvc2l0aW9uID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdFx0XHRcdFx0YW5pbWF0ZUZyb20gPSBcImxhc3RcIjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGV4dC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0XHRcdFx0XHR3b3Jkcy5mb3JFYWNoKCh3b3JkKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHdvcmQuc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRcdFx0XHRcdHdvcmQuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGVYKDkwZGVnKVwiO1xuXHRcdFx0XHRcdFx0XHR3b3JkLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IFwiY2VudGVyIGJvdHRvbVwiO1xuXHRcdFx0XHRcdFx0XHR3b3JkLnN0eWxlLndpbGxDaGFuZ2UgPSBcInRyYW5zZm9ybSwgb3BhY2l0eVwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGFuaW1hdGUod29yZHMsIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHRyb3RhdGVYOiBbOTAsIDBdLFxuXHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogNzAwLFxuXHRcdFx0XHRcdFx0XHRlYXNlOiBjcmVhdGVTcHJpbmcoe1xuXHRcdFx0XHRcdFx0XHRcdHN0aWZmbmVzczogMTIwLFxuXHRcdFx0XHRcdFx0XHRcdGRhbXBpbmc6IDEyLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoODAsIHtcblx0XHRcdFx0XHRcdFx0XHRmcm9tOiBhbmltYXRlRnJvbSxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0ZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjMgfVxuXHRcdCk7XG5cblx0XHRob21lU2VjdGlvbi5mb3JFYWNoKChob21lKSA9PiB7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRlLXJvdGF0ZVwiKTtcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5kYXRhc2V0LmFuaW1hdGVkID09PSBcInRydWVcIikgcmV0dXJuO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lR2xpdGNoVGV4dDogKCkgPT4ge1xuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXHRcdFx0KGVudHJpZXMsIG9icykgPT4ge1xuXHRcdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0ID0gZW50cnkudGFyZ2V0O1xuXHRcdFx0XHRcdFx0aWYgKHRleHQuZGF0YXNldC5hbmltYXRlZCA9PT0gXCJ0cnVlXCIpIHtcblx0XHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0ZXh0KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGV4dC5kYXRhc2V0LmFuaW1hdGVkID0gXCJ0cnVlXCI7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHNwbGl0VGV4dCA9IFNwbGl0VGV4dC5jcmVhdGUodGV4dCwge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNoYXJzXCIsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNvbnN0IGNoYXJzID0gc3BsaXRUZXh0LmNoYXJzO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBwb3NpdGlvbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRleHQpLnRleHRBbGlnbjtcblx0XHRcdFx0XHRcdGxldCBhbmltYXRlRnJvbSA9IFwiZmlyc3RcIjtcblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJjZW50ZXJcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAocG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuXHRcdFx0XHRcdFx0XHRhbmltYXRlRnJvbSA9IFwibGFzdFwiO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjaGFycy5mb3JFYWNoKChjaGFyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCI7XG5cdFx0XHRcdFx0XHRcdGNoYXIuc3R5bGUud2lsbENoYW5nZSA9IFwidHJhbnNmb3JtLCBvcGFjaXR5XCI7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0YW5pbWF0ZShjaGFycywge1xuXHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBbMCwgMSwgMV0sXG5cdFx0XHRcdFx0XHRcdHg6IFswLCAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTAgLSA1LCAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTAgLSA1LCAwXSxcblx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IFwiZWFzZU91dFF1YWRcIixcblx0XHRcdFx0XHRcdFx0ZGVsYXk6IHN0YWdnZXIoNjAsIHtcblx0XHRcdFx0XHRcdFx0XHRmcm9tOiBhbmltYXRlRnJvbSxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0b2JzLnVub2JzZXJ2ZSh0ZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHsgdGhyZXNob2xkOiAwLjMgfVxuXHRcdCk7XG5cblx0XHRob21lU2VjdGlvbi5mb3JFYWNoKChob21lKSA9PiB7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGhvbWUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRlLWdsaXRjaFwiKTtcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGlmIChlbC5kYXRhc2V0LmFuaW1hdGVkID09PSBcInRydWVcIikgcmV0dXJuO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXHRob21lRmFkZUluT3V0OiAoKSA9PiB7XG5cdFx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cdFx0XHQoZW50cmllcywgb2JzKSA9PiB7XG5cdFx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBlbnRyeS50YXJnZXQ7XG5cdFx0XHRcdFx0XHRpZiAodGV4dC5kYXRhc2V0LmFuaW1hdGVkID09PSBcInRydWVcIikge1xuXHRcdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKHRleHQpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0ZXh0LmRhdGFzZXQuYW5pbWF0ZWQgPSBcInRydWVcIjtcblxuXHRcdFx0XHRcdFx0Y29uc3Qgc3BsaXRUZXh0ID0gU3BsaXRUZXh0LmNyZWF0ZSh0ZXh0LCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY2hhcnNcIixcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y29uc3QgY2hhcnMgPSBzcGxpdFRleHQuY2hhcnM7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGV4dCkudGV4dEFsaWduO1xuXHRcdFx0XHRcdFx0bGV0IGFuaW1hdGVGcm9tID0gXCJmaXJzdFwiO1xuXHRcdFx0XHRcdFx0aWYgKHBvc2l0aW9uID09PSBcImNlbnRlclwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG5cdFx0XHRcdFx0XHRcdGFuaW1hdGVGcm9tID0gXCJsYXN0XCI7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNoYXJzLmZvckVhY2goKGNoYXIpID0+IHtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdFx0XHRcdFx0Y2hhci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMjBweCkgc2NhbGUoMC44KVwiO1xuXHRcdFx0XHRcdFx0XHRjaGFyLnN0eWxlLndpbGxDaGFuZ2UgPSBcInRyYW5zZm9ybSwgb3BhY2l0eVwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGFuaW1hdGUoY2hhcnMsIHtcblx0XHRcdFx0XHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0XHRcdFx0XHR5OiBbMjAsIDBdLFxuXHRcdFx0XHRcdFx0XHRzY2FsZTogWzAuOCwgMV0sXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiA5MDAsXG5cdFx0XHRcdFx0XHRcdGVhc2U6IGNyZWF0ZVNwcmluZyh7XG5cdFx0XHRcdFx0XHRcdFx0c3RpZmZuZXNzOiAxNTAsXG5cdFx0XHRcdFx0XHRcdFx0ZGFtcGluZzogMTUsXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRkZWxheTogc3RhZ2dlcigzNSwge1xuXHRcdFx0XHRcdFx0XHRcdGZyb206IGFuaW1hdGVGcm9tLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRvYnMudW5vYnNlcnZlKHRleHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0eyB0aHJlc2hvbGQ6IDAuMyB9XG5cdFx0KTtcblxuXHRcdGhvbWVTZWN0aW9uLmZvckVhY2goKGhvbWUpID0+IHtcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gaG9tZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGUtZmFkZS1pbi1vdXRcIik7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRpZiAoZWwuZGF0YXNldC5hbmltYXRlZCA9PT0gXCJ0cnVlXCIpIHJldHVybjtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblx0aW5pdDogKCkgPT4ge1xuXHRcdGlmICgkKFwiYm9keS5ob21lXCIpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXHRcdGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyMDApIHJldHVybjtcblx0XHQvLyBob21lUGFnZS5wcmltYXJ5TmF2KCk7XG5cdFx0aG9tZVBhZ2UuaG9tZV8yKCk7XG5cdFx0aG9tZVBhZ2UuaG9tZV8zKCk7XG5cdFx0aG9tZVBhZ2UuaG9tZV80KCk7XG5cdFx0Ly8gaG9tZVBhZ2UuaG9tZV83KCk7XG5cdFx0aG9tZVBhZ2UuaG9tZV9pdGVtc19hbmltYXRpb24oKTtcblx0XHRob21lUGFnZS5ob21lQnV0dG9ucygpO1xuXHRcdGRvY3VtZW50LmZvbnRzLnJlYWR5LnRoZW4oKGUpID0+IHtcblx0XHRcdGhvbWVQYWdlLmhvbWVCbG9ja1RpdGxlcygpO1xuXHRcdFx0aG9tZVBhZ2UuaG9tZVRpdGxlKCk7XG5cdFx0XHRob21lUGFnZS5ob21lRGVzY3JpcHRpb24oKTtcblx0XHRcdGhvbWVQYWdlLmhvbWVUeXBld3JpdGVyKCk7XG5cdFx0XHRob21lUGFnZS5ob21lQmx1ckZvY3VzKCk7XG5cdFx0XHRob21lUGFnZS5ob21lU2NhbGVSZXZlYWwoKTtcblx0XHRcdGhvbWVQYWdlLmhvbWVXYXZlVGV4dCgpO1xuXHRcdFx0aG9tZVBhZ2UuaG9tZVJvdGF0ZVJldmVhbCgpO1xuXHRcdFx0aG9tZVBhZ2UuaG9tZUdsaXRjaFRleHQoKTtcblx0XHRcdGhvbWVQYWdlLmhvbWVGYWRlSW5PdXQoKTtcblx0XHR9KTtcblx0fSxcbn07XG4iXSwKICAibWFwcGluZ3MiOiAiMjVCQUFBLElBQUFBLEdBQUFDLEdBQUEsQ0FBQUMsR0FBQUMsS0FBQSxFQUFDLFNBQVNDLEVBQUVDLEVBQUUsQ0FBVyxPQUFPSCxJQUFqQixVQUFvQyxPQUFPQyxJQUFqQixTQUF3QkEsR0FBTyxRQUFRRSxFQUFFLEVBQWMsT0FBTyxRQUFuQixZQUEyQixPQUFPLElBQUksT0FBTyxDQUFDLEVBQUVBLENBQUMsRUFBWSxPQUFPSCxJQUFqQixTQUF5QkEsR0FBUSxJQUFJRyxFQUFFLEVBQUVELEVBQUUsSUFBSUMsRUFBRSxDQUFDLEdBQUVILEdBQUssVUFBVSxDQUFDLE9BQU8sU0FBU0UsRUFBRSxDQUFDLFNBQVNDLEVBQUVDLEVBQUUsQ0FBQyxHQUFHQyxFQUFFRCxDQUFDLEVBQUUsT0FBT0MsRUFBRUQsQ0FBQyxFQUFFLFFBQVEsSUFBSUUsRUFBRUQsRUFBRUQsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBR0EsRUFBRSxPQUFPLEVBQUUsRUFBRSxPQUFPRixFQUFFRSxDQUFDLEVBQUUsS0FBS0UsRUFBRSxRQUFRQSxFQUFFQSxFQUFFLFFBQVFILENBQUMsRUFBRUcsRUFBRSxPQUFPLEdBQUdBLEVBQUUsT0FBTyxDQUFDLElBQUlELEVBQUUsQ0FBQyxFQUFFLE9BQU9GLEVBQUUsRUFBRUQsRUFBRUMsRUFBRSxFQUFFRSxFQUFFRixFQUFFLEVBQUUsUUFBUUEsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVNELEVBQUVDLEVBQUVFLEVBQUUsQ0FBQyxhQUFhLFNBQVNELEVBQUVGLEVBQUUsQ0FBQyxPQUFPQSxHQUFHQSxFQUFFLFdBQVdBLEVBQUUsQ0FBQyxRQUFRQSxDQUFDLENBQUMsQ0FBQyxJQUFJSSxFQUFFLE9BQU8sUUFBUSxTQUFTSixFQUFFLENBQUMsUUFBUUMsRUFBRSxFQUFFQSxFQUFFLFVBQVUsT0FBT0EsSUFBSSxDQUFDLElBQUlFLEVBQUUsVUFBVUYsQ0FBQyxFQUFFLFFBQVFDLEtBQUtDLEVBQUUsT0FBTyxVQUFVLGVBQWUsS0FBS0EsRUFBRUQsQ0FBQyxJQUFJRixFQUFFRSxDQUFDLEVBQUVDLEVBQUVELENBQUMsRUFBRSxDQUFDLE9BQU9GLENBQUMsRUFBRUssRUFBRUYsRUFBRSxDQUFDLEVBQUUsR0FBR0QsRUFBRUcsQ0FBQyxFQUFFRixFQUFFLENBQUMsR0FBR0csRUFBRUosRUFBRSxDQUFDLEVBQUVLLEVBQUVKLEVBQUUsQ0FBQyxFQUFFSyxFQUFFTixFQUFFSyxDQUFDLEVBQUVFLEVBQUVOLEVBQUUsQ0FBQyxFQUFFTyxFQUFFUixFQUFFTyxDQUFDLEVBQUVFLEVBQUVSLEVBQUUsQ0FBQyxFQUFFUyxFQUFFVixFQUFFUyxDQUFDLEVBQUVFLEVBQUVWLEVBQUUsRUFBRSxFQUFFVyxFQUFFWixFQUFFVyxDQUFDLEVBQUVFLEVBQUVaLEVBQUUsRUFBRSxFQUFFYSxFQUFFZCxFQUFFYSxDQUFDLEVBQUVFLEVBQUVkLEVBQUUsRUFBRSxFQUFFZSxFQUFFaEIs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QUNYQyxHQUFXLEVBQ1hDLEdBQVMsS0FBSyxFQUNkQyxHQUFZLEVBQ1pDLEdBQU8sS0FBSyxFQUNaLFdBQVcsSUFBTSxDQUNoQixHQUFBQyxRQUFJLEtBQUssQ0FDUixPQUFRLEdBQ1IsS0FBTSxHQUNOLFFBQVMsVUFBWSxDQUNwQixPQUFPLE9BQU8sV0FBYSxJQUM1QixDQUNELENBQUMsQ0FDRixFQUFHLEdBQUcsRUFDTixXQUFXLElBQU0sQ0FDaEIsR0FBQUEsUUFBSSxRQUFRLENBQ2IsRUFBRyxHQUFJLENBQ1IsQ0FBQyxFQW1MRCxHQUFBQSxRQUFJLEtBQUssQ0FDUixPQUFRLEdBQ1QsQ0FBQyxFQUVELElBQU1DLE1BQVcsR0FBQUMsU0FBTSxFQUN2QkQsR0FBUyxRQUFRLEVBQ2pCLE9BQU8sTUFBUUEiLAogICJuYW1lcyI6IFsicmVxdWlyZV9hb3MiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJlIiwgInQiLCAibyIsICJuIiwgImkiLCAiciIsICJ1IiwgImMiLCAicyIsICJmIiwgImQiLCAibCIsICJwIiwgIm0iLCAiYiIsICJ2IiwgInkiLCAiZyIsICJoIiwgInciLCAiayIsICJ4IiwgImoiLCAiTyIsICJNIiwgIlMiLCAiXyIsICJhIiwgInJlcXVpcmVfbG96YWRfbWluIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZyIsICJmIiwgInQiLCAiZSIsICJyIiwgImEiLCAibyIsICJpIiwgIm4iLCAiZCIsICJ1IiwgIkEiLCAibSIsICJ2IiwgInMiLCAiYyIsICJsIiwgImIiLCAiaW1wb3J0X2FvcyIsICJpbXBvcnRfbG96YWQiLCAic2V0QmFja2dyb3VuZEVsZW1lbnQiLCAiYmFja2dyb3VuZCIsICJidXR0b25Ub1RvcCIsICJ3aW5kb3dIZWlnaHQiLCAic2Nyb2xsVG9wIiwgImRvY3VtZW50SGVpZ2h0IiwgIlRvZ2dsZUl0ZW0iLCAibm9kZVRpdGxlIiwgImZpcnN0VGl0bGUiLCAiZmlyc3RDb250ZW50IiwgInN0aWNrRWxlbWVudFRvRWRnZSIsICJ0YXJnZXQiLCAiJHRoaXMiLCAiZWRnZVBvc2l0aW9uIiwgInBvc2l0aW9uIiwgInVuc3RpY2siLCAib2Zmc2V0IiwgIm1lbnVTcHkiLCAiZWxtIiwgImRlYm91bmNlVGltZXIiLCAiaXNBY3RpdmUiLCAibXMiLCAiY3VycmVudEl0ZW0iLCAibm9kZVBhcmVudCIsICJoZWFkZXJTZWFyY2giLCAiY2xvc2VTZWFyY2giLCAidnciLCAiaGVhZGVyIiwgIndpZHRoIiwgImhlaWdodCIsICIkaGVhZGVyIiwgInVwZGF0ZUhlYWRlckhlaWdodCIsICJoZWFkZXJTZWFyY2giLCAiZSIsICJpc09iamVjdCIsICJvYmoiLCAiZXh0ZW5kIiwgInRhcmdldCIsICJzcmMiLCAia2V5IiwgInNzckRvY3VtZW50IiwgImdldERvY3VtZW50IiwgImRvYyIsICJzc3JXaW5kb3ciLCAiY2FsbGJhY2siLCAiaWQiLCAiZ2V0V2luZG93IiwgIndpbiIsICJjbGFzc2VzVG9Ub2tlbnMiLCAiY2xhc3NlcyIsICJjIiwgImRlbGV0ZVByb3BzIiwgIm9iaiIsICJvYmplY3QiLCAia2V5IiwgImUiLCAibmV4dFRpY2siLCAiY2FsbGJhY2siLCAiZGVsYXkiLCAibm93IiwgImdldENvbXB1dGVkU3R5bGUiLCAiZWwiLCAid2luZG93IiwgImdldFdpbmRvdyIsICJzdHlsZSIsICJnZXRUcmFuc2xhdGUiLCAiYXhpcyIsICJtYXRyaXgiLCAiY3VyVHJhbnNmb3JtIiwgInRyYW5zZm9ybU1hdHJpeCIsICJjdXJTdHlsZSIsICJhIiwgImlzT2JqZWN0IiwgIm8iLCAiaXNOb2RlIiwgIm5vZGUiLCAiZXh0ZW5kIiwgInRvIiwgIm5vRXh0ZW5kIiwgImkiLCAibmV4dFNvdXJjZSIsICJrZXlzQXJyYXkiLCAibmV4dEluZGV4IiwgImxlbiIsICJuZXh0S2V5IiwgImRlc2MiLCAic2V0Q1NTUHJvcGVydHkiLCAidmFyTmFtZSIsICJ2YXJWYWx1ZSIsICJhbmltYXRlQ1NTTW9kZVNjcm9sbCIsICJfcmVmIiwgInN3aXBlciIsICJ0YXJnZXRQb3NpdGlvbiIsICJzaWRlIiwgInN0YXJ0UG9zaXRpb24iLCAic3RhcnRUaW1lIiwgInRpbWUiLCAiZHVyYXRpb24iLCAiZGlyIiwgImlzT3V0T2ZCb3VuZCIsICJjdXJyZW50IiwgInRhcmdldCIsICJhbmltYXRlIiwgInByb2dyZXNzIiwgImVhc2VQcm9ncmVzcyIsICJjdXJyZW50UG9zaXRpb24iLCAiZ2V0U2xpZGVUcmFuc2Zvcm1FbCIsICJzbGlkZUVsIiwgImVsZW1lbnRDaGlsZHJlbiIsICJlbGVtZW50IiwgInNlbGVjdG9yIiwgInNob3dXYXJuaW5nIiwgInRleHQiLCAiZXJyIiwgImNyZWF0ZUVsZW1lbnQiLCAidGFnIiwgImVsZW1lbnRQcmV2QWxsIiwgImVsIiwgInNlbGVjdG9yIiwgInByZXZFbHMiLCAicHJldiIsICJlbGVtZW50TmV4dEFsbCIsICJuZXh0RWxzIiwgIm5leHQiLCAiZWxlbWVudFN0eWxlIiwgInByb3AiLCAiZ2V0V2luZG93IiwgImVsZW1lbnRJbmRleCIsICJjaGlsZCIsICJpIiwgImVsZW1lbnRQYXJlbnRzIiwgInBhcmVudHMiLCAicGFyZW50IiwgImVsZW1lbnRUcmFuc2l0aW9uRW5kIiwgImNhbGxiYWNrIiwgImZpcmVDYWxsQmFjayIsICJlIiwgImVsZW1lbnRPdXRlclNpemUiLCAic2l6ZSIsICJpbmNsdWRlTWFyZ2lucyIsICJ3aW5kb3ciLCAic3VwcG9ydCIsICJjYWxjU3VwcG9ydCIsICJ3aW5kb3ciLCAiZ2V0V2luZG93IiwgImRvY3VtZW50IiwgImdldERvY3VtZW50IiwgImdldFN1cHBvcnQiLCAiZGV2aWNlQ2FjaGVkIiwgImNhbGNEZXZpY2UiLCAiX3RlbXAiLCAidXNlckFnZW50IiwgInBsYXRmb3JtIiwgInVhIiwgImRldmljZSIsICJzY3JlZW5XaWR0aCIsICJzY3JlZW5IZWlnaHQiLCAiYW5kcm9pZCIsICJpcGFkIiwgImlwb2QiLCAiaXBob25lIiwgIndpbmRvd3MiLCAibWFjb3MiLCAiaVBhZFNjcmVlbnMiLCAiZ2V0RGV2aWNlIiwgIm92ZXJyaWRlcyIsICJicm93c2VyIiwgImNhbGNCcm93c2VyIiwgIm5lZWRQZXJzcGVjdGl2ZUZpeCIsICJpc1NhZmFyaSIsICJtYWpvciIsICJtaW5vciIsICJudW0iLCAiZ2V0QnJvd3NlciIsICJSZXNpemUiLCAiX3JlZiIsICJzd2lwZXIiLCAib24iLCAiZW1pdCIsICJvYnNlcnZlciIsICJhbmltYXRpb25GcmFtZSIsICJyZXNpemVIYW5kbGVyIiwgImNyZWF0ZU9ic2VydmVyIiwgImVudHJpZXMiLCAid2lkdGgiLCAiaGVpZ2h0IiwgIm5ld1dpZHRoIiwgIm5ld0hlaWdodCIsICJfcmVmMiIsICJjb250ZW50Qm94U2l6ZSIsICJjb250ZW50UmVjdCIsICJ0YXJnZXQiLCAicmVtb3ZlT2JzZXJ2ZXIiLCAib3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyIiwgIk9ic2VydmVyIiwgImV4dGVuZFBhcmFtcyIsICJvYnNlcnZlcnMiLCAiYXR0YWNoIiwgIm9wdGlvbnMiLCAiT2JzZXJ2ZXJGdW5jIiwgIm11dGF0aW9ucyIsICJvYnNlcnZlclVwZGF0ZSIsICJpbml0IiwgImNvbnRhaW5lclBhcmVudHMiLCAiZWxlbWVudFBhcmVudHMiLCAiaSIsICJkZXN0cm95IiwgImV2ZW50c0VtaXR0ZXIiLCAiZXZlbnRzIiwgImhhbmRsZXIiLCAicHJpb3JpdHkiLCAic2VsZiIsICJtZXRob2QiLCAiZXZlbnQiLCAib25jZUhhbmRsZXIiLCAiX2xlbiIsICJhcmdzIiwgIl9rZXkiLCAiaW5kZXgiLCAiZXZlbnRIYW5kbGVyIiwgImRhdGEiLCAiY29udGV4dCIsICJfbGVuMiIsICJfa2V5MiIsICJ1cGRhdGVTaXplIiwgImVsIiwgImVsZW1lbnRTdHlsZSIsICJ1cGRhdGVTbGlkZXMiLCAiZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZSIsICJub2RlIiwgImxhYmVsIiwgInBhcmFtcyIsICJ3cmFwcGVyRWwiLCAic2xpZGVzRWwiLCAic3dpcGVyU2l6ZSIsICJydGwiLCAid3JvbmdSVEwiLCAiaXNWaXJ0dWFsIiwgInByZXZpb3VzU2xpZGVzTGVuZ3RoIiwgInNsaWRlcyIsICJlbGVtZW50Q2hpbGRyZW4iLCAic2xpZGVzTGVuZ3RoIiwgInNuYXBHcmlkIiwgInNsaWRlc0dyaWQiLCAic2xpZGVzU2l6ZXNHcmlkIiwgIm9mZnNldEJlZm9yZSIsICJvZmZzZXRBZnRlciIsICJwcmV2aW91c1NuYXBHcmlkTGVuZ3RoIiwgInByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCIsICJzcGFjZUJldHdlZW4iLCAic2xpZGVQb3NpdGlvbiIsICJwcmV2U2xpZGVTaXplIiwgInNsaWRlRWwiLCAic2V0Q1NTUHJvcGVydHkiLCAiZ3JpZEVuYWJsZWQiLCAic2xpZGVTaXplIiwgInNob3VsZFJlc2V0U2xpZGVTaXplIiwgImtleSIsICJzbGlkZSIsICJzbGlkZVN0eWxlcyIsICJjdXJyZW50VHJhbnNmb3JtIiwgImN1cnJlbnRXZWJLaXRUcmFuc2Zvcm0iLCAiZWxlbWVudE91dGVyU2l6ZSIsICJwYWRkaW5nTGVmdCIsICJwYWRkaW5nUmlnaHQiLCAibWFyZ2luTGVmdCIsICJtYXJnaW5SaWdodCIsICJib3hTaXppbmciLCAiY2xpZW50V2lkdGgiLCAib2Zmc2V0V2lkdGgiLCAibmV3U2xpZGVzR3JpZCIsICJzbGlkZXNHcmlkSXRlbSIsICJzaXplIiwgImdyb3VwcyIsICJncm91cFNpemUiLCAiXyIsICJzbGlkZUluZGV4IiwgImFsbFNsaWRlc1NpemUiLCAic2xpZGVTaXplVmFsdWUiLCAibWF4U25hcCIsICJzbmFwIiwgImFsbFNsaWRlc09mZnNldCIsICJzbmFwSW5kZXgiLCAiYWRkVG9TbmFwR3JpZCIsICJhZGRUb1NsaWRlc0dyaWQiLCAidiIsICJiYWNrRmFjZUhpZGRlbkNsYXNzIiwgImhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkIiwgInVwZGF0ZUF1dG9IZWlnaHQiLCAic3BlZWQiLCAiYWN0aXZlU2xpZGVzIiwgImdldFNsaWRlQnlJbmRleCIsICJ1cGRhdGVTbGlkZXNPZmZzZXQiLCAibWludXNPZmZzZXQiLCAidXBkYXRlU2xpZGVzUHJvZ3Jlc3MiLCAidHJhbnNsYXRlIiwgIm9mZnNldENlbnRlciIsICJzbGlkZU9mZnNldCIsICJzbGlkZVByb2dyZXNzIiwgIm9yaWdpbmFsU2xpZGVQcm9ncmVzcyIsICJzbGlkZUJlZm9yZSIsICJzbGlkZUFmdGVyIiwgImlzRnVsbHlWaXNpYmxlIiwgInVwZGF0ZVByb2dyZXNzIiwgIm11bHRpcGxpZXIiLCAidHJhbnNsYXRlc0RpZmYiLCAicHJvZ3Jlc3MiLCAiaXNCZWdpbm5pbmciLCAiaXNFbmQiLCAicHJvZ3Jlc3NMb29wIiwgIndhc0JlZ2lubmluZyIsICJ3YXNFbmQiLCAiaXNCZWdpbm5pbmdSb3VuZGVkIiwgImlzRW5kUm91bmRlZCIsICJmaXJzdFNsaWRlSW5kZXgiLCAibGFzdFNsaWRlSW5kZXgiLCAiZmlyc3RTbGlkZVRyYW5zbGF0ZSIsICJsYXN0U2xpZGVUcmFuc2xhdGUiLCAidHJhbnNsYXRlTWF4IiwgInRyYW5zbGF0ZUFicyIsICJ1cGRhdGVTbGlkZXNDbGFzc2VzIiwgImFjdGl2ZUluZGV4IiwgImdldEZpbHRlcmVkU2xpZGUiLCAic2VsZWN0b3IiLCAiYWN0aXZlU2xpZGUiLCAicHJldlNsaWRlIiwgIm5leHRTbGlkZSIsICJlbGVtZW50TmV4dEFsbCIsICJlbGVtZW50UHJldkFsbCIsICJwcm9jZXNzTGF6eVByZWxvYWRlciIsICJpbWFnZUVsIiwgInNsaWRlU2VsZWN0b3IiLCAibGF6eUVsIiwgInVubGF6eSIsICJwcmVsb2FkIiwgImFtb3VudCIsICJsZW4iLCAic2xpZGVzUGVyVmlldyIsICJhY3RpdmVDb2x1bW4iLCAicHJlbG9hZENvbHVtbnMiLCAic2xpZGVJbmRleExhc3RJblZpZXciLCAicmVhbEluZGV4IiwgImdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUiLCAidXBkYXRlQWN0aXZlSW5kZXgiLCAibmV3QWN0aXZlSW5kZXgiLCAicHJldmlvdXNJbmRleCIsICJwcmV2aW91c1JlYWxJbmRleCIsICJwcmV2aW91c1NuYXBJbmRleCIsICJnZXRWaXJ0dWFsUmVhbEluZGV4IiwgImFJbmRleCIsICJza2lwIiwgImZpcnN0U2xpZGVJbkNvbHVtbiIsICJhY3RpdmVTbGlkZUluZGV4IiwgInVwZGF0ZUNsaWNrZWRTbGlkZSIsICJwYXRoIiwgInBhdGhFbCIsICJzbGlkZUZvdW5kIiwgInVwZGF0ZSIsICJnZXRTd2lwZXJUcmFuc2xhdGUiLCAiYXhpcyIsICJjdXJyZW50VHJhbnNsYXRlIiwgImdldFRyYW5zbGF0ZSIsICJzZXRUcmFuc2xhdGUiLCAiYnlDb250cm9sbGVyIiwgIngiLCAieSIsICJ6IiwgIm5ld1Byb2dyZXNzIiwgIm1pblRyYW5zbGF0ZSIsICJtYXhUcmFuc2xhdGUiLCAidHJhbnNsYXRlVG8iLCAicnVuQ2FsbGJhY2tzIiwgInRyYW5zbGF0ZUJvdW5kcyIsICJpbnRlcm5hbCIsICJuZXdUcmFuc2xhdGUiLCAiaXNIIiwgImFuaW1hdGVDU1NNb2RlU2Nyb2xsIiwgImUiLCAic2V0VHJhbnNpdGlvbiIsICJkdXJhdGlvbiIsICJ0cmFuc2l0aW9uRW1pdCIsICJkaXJlY3Rpb24iLCAic3RlcCIsICJkaXIiLCAidHJhbnNpdGlvblN0YXJ0IiwgInRyYW5zaXRpb25FbmQiLCAidHJhbnNpdGlvbiIsICJzbGlkZVRvIiwgImluaXRpYWwiLCAiZW5hYmxlZCIsICJub3JtYWxpemVkVHJhbnNsYXRlIiwgIm5vcm1hbGl6ZWRHcmlkIiwgIm5vcm1hbGl6ZWRHcmlkTmV4dCIsICJ0IiwgInNsaWRlVG9Mb29wIiwgIm5ld0luZGV4IiwgInRhcmdldFNsaWRlSW5kZXgiLCAiY29scyIsICJjZW50ZXJlZFNsaWRlcyIsICJuZWVkTG9vcEZpeCIsICJzbGlkZU5leHQiLCAiYW5pbWF0aW5nIiwgInBlckdyb3VwIiwgImluY3JlbWVudCIsICJzbGlkZVByZXYiLCAicnRsVHJhbnNsYXRlIiwgIm5vcm1hbGl6ZSIsICJ2YWwiLCAibm9ybWFsaXplZFNuYXBHcmlkIiwgInByZXZTbmFwIiwgInByZXZTbmFwSW5kZXgiLCAicHJldkluZGV4IiwgImxhc3RJbmRleCIsICJzbGlkZVJlc2V0IiwgInNsaWRlVG9DbG9zZXN0IiwgInRocmVzaG9sZCIsICJjdXJyZW50U25hcCIsICJuZXh0U25hcCIsICJzbGlkZVRvQ2xpY2tlZFNsaWRlIiwgInNsaWRlVG9JbmRleCIsICJuZXh0VGljayIsICJsb29wQ3JlYXRlIiwgInNsaWRlUmVhbEluZGV4IiwgImluaXRTbGlkZXMiLCAic2xpZGVzUGVyR3JvdXAiLCAic2hvdWxkRmlsbEdyb3VwIiwgInNob3VsZEZpbGxHcmlkIiwgImFkZEJsYW5rU2xpZGVzIiwgImFtb3VudE9mU2xpZGVzIiwgImNyZWF0ZUVsZW1lbnQiLCAic2xpZGVzVG9BZGQiLCAic2hvd1dhcm5pbmciLCAibG9vcEZpeCIsICJieU1vdXNld2hlZWwiLCAiYWxsb3dTbGlkZVByZXYiLCAiYWxsb3dTbGlkZU5leHQiLCAibG9vcGVkU2xpZGVzIiwgInByZXBlbmRTbGlkZXNJbmRleGVzIiwgImFwcGVuZFNsaWRlc0luZGV4ZXMiLCAiaXNOZXh0IiwgImlzUHJldiIsICJzbGlkZXNQcmVwZW5kZWQiLCAic2xpZGVzQXBwZW5kZWQiLCAiYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQiLCAiY29sSW5kZXhUb1ByZXBlbmQiLCAiY3VycmVudFNsaWRlVHJhbnNsYXRlIiwgImRpZmYiLCAic2hpZnQiLCAibG9vcFBhcmFtcyIsICJjIiwgIl9fc3ByZWFkUHJvcHMiLCAiX19zcHJlYWRWYWx1ZXMiLCAibG9vcERlc3Ryb3kiLCAibmV3U2xpZGVzT3JkZXIiLCAibG9vcCIsICJzZXRHcmFiQ3Vyc29yIiwgIm1vdmluZyIsICJ1bnNldEdyYWJDdXJzb3IiLCAiZ3JhYkN1cnNvciIsICJjbG9zZXN0RWxlbWVudCIsICJiYXNlIiwgIl9fY2xvc2VzdEZyb20iLCAiZm91bmQiLCAicHJldmVudEVkZ2VTd2lwZSIsICJzdGFydFgiLCAiZWRnZVN3aXBlRGV0ZWN0aW9uIiwgImVkZ2VTd2lwZVRocmVzaG9sZCIsICJvblRvdWNoU3RhcnQiLCAidG91Y2hlcyIsICJ0YXJnZXRFbCIsICJzd2lwaW5nQ2xhc3NIYXNWYWx1ZSIsICJldmVudFBhdGgiLCAibm9Td2lwaW5nU2VsZWN0b3IiLCAiaXNUYXJnZXRTaGFkb3ciLCAic3RhcnRZIiwgIm5vdyIsICJwcmV2ZW50RGVmYXVsdCIsICJzaG91bGRQcmV2ZW50RGVmYXVsdCIsICJvblRvdWNoTW92ZSIsICJ0YXJnZXRUb3VjaCIsICJwYWdlWCIsICJwYWdlWSIsICJkaWZmWCIsICJkaWZmWSIsICJfX3BvdyIsICJ0b3VjaEFuZ2xlIiwgInRvdWNoZXNEaWZmIiwgInByZXZUb3VjaGVzRGlyZWN0aW9uIiwgImlzTG9vcCIsICJhbGxvd0xvb3BGaXgiLCAiZXZ0IiwgImxvb3BGaXhlZCIsICJkaXNhYmxlUGFyZW50U3dpcGVyIiwgInJlc2lzdGFuY2VSYXRpbyIsICJvblRvdWNoRW5kIiwgInRvdWNoRW5kVGltZSIsICJ0aW1lRGlmZiIsICJwYXRoVHJlZSIsICJjdXJyZW50UG9zIiwgInN3aXBlVG9MYXN0IiwgInN0b3BJbmRleCIsICJyZXdpbmRGaXJzdEluZGV4IiwgInJld2luZExhc3RJbmRleCIsICJyYXRpbyIsICJvblJlc2l6ZSIsICJpc1ZpcnR1YWxMb29wIiwgIm9uQ2xpY2siLCAib25TY3JvbGwiLCAib25Mb2FkIiwgIm9uRG9jdW1lbnRUb3VjaFN0YXJ0IiwgImNhcHR1cmUiLCAiZG9tTWV0aG9kIiwgInN3aXBlck1ldGhvZCIsICJhdHRhY2hFdmVudHMiLCAiZGV0YWNoRXZlbnRzIiwgImV2ZW50cyQxIiwgImlzR3JpZEVuYWJsZWQiLCAic2V0QnJlYWtwb2ludCIsICJpbml0aWFsaXplZCIsICJicmVha3BvaW50cyIsICJicmVha3BvaW50IiwgImJyZWFrcG9pbnRQYXJhbXMiLCAid2FzTXVsdGlSb3ciLCAiaXNNdWx0aVJvdyIsICJ3YXNFbmFibGVkIiwgInByb3AiLCAid2FzTW9kdWxlRW5hYmxlZCIsICJpc01vZHVsZUVuYWJsZWQiLCAiZGlyZWN0aW9uQ2hhbmdlZCIsICJuZWVkc1JlTG9vcCIsICJ3YXNMb29wIiwgImV4dGVuZCIsICJpc0VuYWJsZWQiLCAiaGFzTG9vcCIsICJnZXRCcmVha3BvaW50IiwgImNvbnRhaW5lckVsIiwgImN1cnJlbnRIZWlnaHQiLCAicG9pbnRzIiwgInBvaW50IiwgIm1pblJhdGlvIiwgImEiLCAiYiIsICJ2YWx1ZSIsICJwcmVwYXJlQ2xhc3NlcyIsICJwcmVmaXgiLCAicmVzdWx0Q2xhc3NlcyIsICJpdGVtIiwgImNsYXNzTmFtZXMiLCAiYWRkQ2xhc3NlcyIsICJzdWZmaXhlcyIsICJyZW1vdmVDbGFzc2VzIiwgImNsYXNzZXMiLCAiY2hlY2tPdmVyZmxvdyIsICJ3YXNMb2NrZWQiLCAic2xpZGVzT2Zmc2V0QmVmb3JlIiwgImxhc3RTbGlkZVJpZ2h0RWRnZSIsICJjaGVja092ZXJmbG93JDEiLCAiZGVmYXVsdHMiLCAibW9kdWxlRXh0ZW5kUGFyYW1zIiwgImFsbE1vZHVsZXNQYXJhbXMiLCAib2JqIiwgIm1vZHVsZVBhcmFtTmFtZSIsICJtb2R1bGVQYXJhbXMiLCAicHJvdG90eXBlcyIsICJleHRlbmRlZERlZmF1bHRzIiwgIlN3aXBlciIsICJfU3dpcGVyIiwgInN3aXBlcnMiLCAibmV3UGFyYW1zIiwgIm1vZCIsICJzd2lwZXJQYXJhbXMiLCAiZXZlbnROYW1lIiwgInByb3BlcnR5IiwgImVsZW1lbnRJbmRleCIsICJtaW4iLCAiY3VycmVudCIsICJjbHMiLCAiY2xhc3NOYW1lIiwgInVwZGF0ZXMiLCAidmlldyIsICJleGFjdCIsICJzcHYiLCAiYnJlYWtMb29wIiwgInRyYW5zbGF0ZVZhbHVlIiwgInRyYW5zbGF0ZWQiLCAibmV3RGlyZWN0aW9uIiwgIm5lZWRVcGRhdGUiLCAiY3VycmVudERpcmVjdGlvbiIsICJlbGVtZW50IiwgImdldFdyYXBwZXJTZWxlY3RvciIsICJsYXp5RWxlbWVudHMiLCAiZGVsZXRlSW5zdGFuY2UiLCAiY2xlYW5TdHlsZXMiLCAiZGVsZXRlUHJvcHMiLCAibmV3RGVmYXVsdHMiLCAibW9kdWxlcyIsICJtb2R1bGUiLCAibSIsICJwcm90b3R5cGVHcm91cCIsICJwcm90b01ldGhvZCIsICJNb3VzZXdoZWVsIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAidGltZW91dCIsICJsYXN0U2Nyb2xsVGltZSIsICJub3ciLCAibGFzdEV2ZW50QmVmb3JlU25hcCIsICJyZWNlbnRXaGVlbEV2ZW50cyIsICJub3JtYWxpemUiLCAiZSIsICJzWCIsICJzWSIsICJwWCIsICJwWSIsICJoYW5kbGVNb3VzZUVudGVyIiwgImhhbmRsZU1vdXNlTGVhdmUiLCAiYW5pbWF0ZVNsaWRlciIsICJuZXdFdmVudCIsICJyZWxlYXNlU2Nyb2xsIiwgInBhcmFtcyIsICJoYW5kbGUiLCAiZXZlbnQiLCAiZGlzYWJsZVBhcmVudFN3aXBlciIsICJ0YXJnZXRFbCIsICJ0YXJnZXRFbENvbnRhaW5zVGFyZ2V0IiwgImRlbHRhIiwgInJ0bEZhY3RvciIsICJkYXRhIiwgInBvc2l0aW9ucyIsICJwcmV2RXZlbnQiLCAiaWdub3JlV2hlZWxFdmVudHMiLCAicG9zaXRpb24iLCAid2FzQmVnaW5uaW5nIiwgIndhc0VuZCIsICJmaXJzdEV2ZW50IiwgInNuYXBUb1RocmVzaG9sZCIsICJuZXh0VGljayIsICJldmVudHMiLCAibWV0aG9kIiwgImVuYWJsZSIsICJkaXNhYmxlIiwgImNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQiLCAic3dpcGVyIiwgIm9yaWdpbmFsUGFyYW1zIiwgInBhcmFtcyIsICJjaGVja1Byb3BzIiwgImtleSIsICJlbGVtZW50IiwgImVsZW1lbnRDaGlsZHJlbiIsICJjcmVhdGVFbGVtZW50IiwgIk5hdmlnYXRpb24iLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJnZXRFbCIsICJyZXMiLCAidG9nZ2xlRWwiLCAiZGlzYWJsZWQiLCAicGFyYW1zIiwgInN1YkVsIiwgInVwZGF0ZSIsICJuZXh0RWwiLCAicHJldkVsIiwgIm9uUHJldkNsaWNrIiwgIm9uTmV4dENsaWNrIiwgImluaXQiLCAiY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCIsICJpbml0QnV0dG9uIiwgImRpciIsICJkZXN0cm95IiwgImRlc3Ryb3lCdXR0b24iLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiY2xhc3Nlc1RvU2VsZWN0b3IiLCAiY2xhc3NlcyIsICJQYWdpbmF0aW9uIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgInBmeCIsICJudW1iZXIiLCAiYnVsbGV0U2l6ZSIsICJkeW5hbWljQnVsbGV0SW5kZXgiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJpc1BhZ2luYXRpb25EaXNhYmxlZCIsICJzZXRTaWRlQnVsbGV0cyIsICJidWxsZXRFbCIsICJwb3NpdGlvbiIsICJidWxsZXRBY3RpdmVDbGFzcyIsICJvbkJ1bGxldENsaWNrIiwgImNsYXNzZXNUb1NlbGVjdG9yIiwgImluZGV4IiwgImVsZW1lbnRJbmRleCIsICJ1cGRhdGUiLCAicnRsIiwgInBhcmFtcyIsICJjdXJyZW50IiwgInByZXZpb3VzSW5kZXgiLCAic2xpZGVzTGVuZ3RoIiwgInRvdGFsIiwgImJ1bGxldHMiLCAiZmlyc3RJbmRleCIsICJsYXN0SW5kZXgiLCAibWlkSW5kZXgiLCAiZWxlbWVudE91dGVyU2l6ZSIsICJzdWJFbCIsICJjbGFzc2VzVG9SZW1vdmUiLCAic3VmZml4IiwgInMiLCAiYnVsbGV0IiwgImJ1bGxldEluZGV4IiwgImZpcnN0RGlzcGxheWVkQnVsbGV0IiwgImxhc3REaXNwbGF5ZWRCdWxsZXQiLCAiaSIsICJkeW5hbWljQnVsbGV0c0xlbmd0aCIsICJidWxsZXRzT2Zmc2V0IiwgIm9mZnNldFByb3AiLCAic3ViRWxJbmRleCIsICJmcmFjdGlvbkVsIiwgInRvdGFsRWwiLCAicHJvZ3Jlc3NiYXJEaXJlY3Rpb24iLCAic2NhbGUiLCAic2NhbGVYIiwgInNjYWxlWSIsICJwcm9ncmVzc0VsIiwgInJlbmRlciIsICJwYWdpbmF0aW9uSFRNTCIsICJudW1iZXJPZkJ1bGxldHMiLCAiaW5pdCIsICJjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIiwgImVsZW1lbnRQYXJlbnRzIiwgImRlc3Ryb3kiLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiQXV0b3BsYXkiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAicGFyYW1zIiwgInRpbWVvdXQiLCAicmFmIiwgImF1dG9wbGF5RGVsYXlUb3RhbCIsICJhdXRvcGxheURlbGF5Q3VycmVudCIsICJhdXRvcGxheVRpbWVMZWZ0IiwgImF1dG9wbGF5U3RhcnRUaW1lIiwgIndhc1BhdXNlZCIsICJpc1RvdWNoZWQiLCAicGF1c2VkQnlUb3VjaCIsICJ0b3VjaFN0YXJ0VGltZW91dCIsICJzbGlkZUNoYW5nZWQiLCAicGF1c2VkQnlJbnRlcmFjdGlvbiIsICJwYXVzZWRCeVBvaW50ZXJFbnRlciIsICJvblRyYW5zaXRpb25FbmQiLCAiZSIsICJyZXN1bWUiLCAiY2FsY1RpbWVMZWZ0IiwgInRpbWVMZWZ0IiwgImdldFNsaWRlRGVsYXkiLCAiYWN0aXZlU2xpZGVFbCIsICJzbGlkZUVsIiwgInJ1biIsICJkZWxheUZvcmNlIiwgImRlbGF5IiwgImN1cnJlbnRTbGlkZURlbGF5IiwgInNwZWVkIiwgInByb2NlZWQiLCAic3RhcnQiLCAic3RvcCIsICJwYXVzZSIsICJpbnRlcm5hbCIsICJyZXNldCIsICJvblZpc2liaWxpdHlDaGFuZ2UiLCAiZG9jdW1lbnQiLCAiZ2V0RG9jdW1lbnQiLCAib25Qb2ludGVyRW50ZXIiLCAib25Qb2ludGVyTGVhdmUiLCAiYXR0YWNoTW91c2VFdmVudHMiLCAiZGV0YWNoTW91c2VFdmVudHMiLCAiYXR0YWNoRG9jdW1lbnRFdmVudHMiLCAiZGV0YWNoRG9jdW1lbnRFdmVudHMiLCAiX3MiLCAiZWZmZWN0SW5pdCIsICJwYXJhbXMiLCAiZWZmZWN0IiwgInN3aXBlciIsICJvbiIsICJzZXRUcmFuc2xhdGUiLCAic2V0VHJhbnNpdGlvbiIsICJvdmVyd3JpdGVQYXJhbXMiLCAicGVyc3BlY3RpdmUiLCAicmVjcmVhdGVTaGFkb3dzIiwgImdldEVmZmVjdFBhcmFtcyIsICJvdmVyd3JpdGVQYXJhbXNSZXN1bHQiLCAiX3MiLCAiZHVyYXRpb24iLCAic2xpZGVFbCIsICJzaGFkb3dFbCIsICJyZXF1aXJlVXBkYXRlT25WaXJ0dWFsIiwgImVmZmVjdFRhcmdldCIsICJlZmZlY3RQYXJhbXMiLCAic2xpZGVFbCIsICJ0cmFuc2Zvcm1FbCIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgImVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIiwgIl9yZWYiLCAic3dpcGVyIiwgImR1cmF0aW9uIiwgInRyYW5zZm9ybUVsZW1lbnRzIiwgImFsbFNsaWRlcyIsICJhY3RpdmVJbmRleCIsICJnZXRTbGlkZSIsICJlbCIsICJzbGlkZUVsIiwgImV2ZW50VHJpZ2dlcmVkIiwgInRyYW5zaXRpb25FbmRUYXJnZXQiLCAidHJhbnNmb3JtRWwiLCAiZWxlbWVudFRyYW5zaXRpb25FbmQiLCAiZXZ0IiwgIkVmZmVjdEZhZGUiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVmZmVjdEluaXQiLCAic2xpZGVzIiwgInBhcmFtcyIsICJpIiwgInNsaWRlRWwiLCAidHgiLCAidHkiLCAic2xpZGVPcGFjaXR5IiwgInRhcmdldEVsIiwgImVmZmVjdFRhcmdldCIsICJkdXJhdGlvbiIsICJ0cmFuc2Zvcm1FbGVtZW50cyIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgImVsIiwgImVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIiwgInN3aXBlckluaXQiLCAiaW5kZXgiLCAiJHRoaXMiLCAiY29uZmlnIiwgImNvbmZpZ0luZmluaXRlIiwgIlN3aXBlciIsICJfX3NwcmVhZFByb3BzIiwgIl9fc3ByZWFkVmFsdWVzIiwgIk5hdmlnYXRpb24iLCAiUGFnaW5hdGlvbiIsICJNb3VzZXdoZWVsIiwgIkF1dG9wbGF5IiwgInN3aXBlckJhbm5lciIsICJzd2lwZXJFbCIsICJzd2lwZXIiLCAiRWZmZWN0RmFkZSIsICJoYW5kbGVWaWRlbyIsICJzbGlkZSIsICJ2aWRlbyIsICJwbGF5SWNvbiIsICJlIiwgImljb24iLCAidiIsICJjdXJyZW50U2xpZGUiLCAiY3VycmVudEljb24iLCAiaXNCcm93c2VyIiwgIndpbiIsICJkb2MiLCAidHdlZW5UeXBlcyIsICJ2YWx1ZVR5cGVzIiwgInRpY2tNb2RlcyIsICJjb21wb3NpdGlvblR5cGVzIiwgImlzUmVnaXN0ZXJlZFRhcmdldFN5bWJvbCIsICJpc0RvbVN5bWJvbCIsICJpc1N2Z1N5bWJvbCIsICJ0cmFuc2Zvcm1zU3ltYm9sIiwgIm1vcnBoUG9pbnRzU3ltYm9sIiwgInByb3h5VGFyZ2V0U3ltYm9sIiwgIm1pblZhbHVlIiwgIm1heFZhbHVlIiwgIksiLCAibWF4RnBzIiwgImVtcHR5U3RyaW5nIiwgInNob3J0VHJhbnNmb3JtcyIsICJ2YWxpZFRyYW5zZm9ybXMiLCAidHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5ncyIsICJhIiwgInYiLCAiX19zcHJlYWRQcm9wcyIsICJfX3NwcmVhZFZhbHVlcyIsICJub29wIiwgImhleFRlc3RSZ3giLCAicmdiRXhlY1JneCIsICJyZ2JhRXhlY1JneCIsICJoc2xFeGVjUmd4IiwgImhzbGFFeGVjUmd4IiwgImRpZ2l0V2l0aEV4cG9uZW50Umd4IiwgInVuaXRzRXhlY1JneCIsICJsb3dlckNhc2VSZ3giLCAidHJhbnNmb3Jtc0V4ZWNSZ3giLCAicmVsYXRpdmVWYWx1ZXNFeGVjUmd4IiwgImRlZmF1bHRzIiwgImdsb2JhbHMiLCAiZ2xvYmFsVmVyc2lvbnMiLCAidG9Mb3dlckNhc2UiLCAic3RyIiwgInN0cmluZ1N0YXJ0c1dpdGgiLCAic3ViIiwgIm5vdyIsICJpc0FyciIsICJpc09iaiIsICJpc051bSIsICJpc1N0ciIsICJpc0ZuYyIsICJpc1VuZCIsICJpc05pbCIsICJpc1N2ZyIsICJpc0hleCIsICJpc1JnYiIsICJpc0hzbCIsICJpc0NvbCIsICJpc0tleSIsICJwYXJzZU51bWJlciIsICJwb3ciLCAic3FydCIsICJzaW4iLCAiY29zIiwgImFicyIsICJleHAiLCAiY2VpbCIsICJmbG9vciIsICJhc2luIiwgIm1heCIsICJQSSIsICJfcm91bmQiLCAiY2xhbXAiLCAidiIsICJtaW4iLCAibWF4IiwgInBvd0NhY2hlIiwgInJvdW5kIiwgImRlY2ltYWxMZW5ndGgiLCAicCIsICJfX3BvdyIsICJzbmFwIiwgImluY3JlbWVudCIsICJpc0FyciIsICJjbG9zZXN0IiwgImN2IiwgImFicyIsICJpbnRlcnBvbGF0ZSIsICJzdGFydCIsICJlbmQiLCAicHJvZ3Jlc3MiLCAiY2xhbXBJbmZpbml0eSIsICJtYXhWYWx1ZSIsICJjbGFtcFplcm8iLCAibWluVmFsdWUiLCAiY2xvbmVBcnJheSIsICJhIiwgIm1lcmdlT2JqZWN0cyIsICJvMSIsICJvMiIsICJtZXJnZWQiLCAiX19zcHJlYWRWYWx1ZXMiLCAibzFwIiwgImlzVW5kIiwgImZvckVhY2hDaGlsZHJlbiIsICJwYXJlbnQiLCAiY2FsbGJhY2siLCAicmV2ZXJzZSIsICJwcmV2UHJvcCIsICJuZXh0UHJvcCIsICJuZXh0IiwgImFkanVzdGVkTmV4dFByb3AiLCAiY3VycmVudE5leHQiLCAicmVtb3ZlQ2hpbGQiLCAiY2hpbGQiLCAicHJldiIsICJhZGRDaGlsZCIsICJzb3J0TWV0aG9kIiwgIkNsb2NrIiwgImluaXRUaW1lIiwgIksiLCAibWF4RnBzIiwgImZyYW1lUmF0ZSIsICJwcmV2aW91c0ZyYW1lRHVyYXRpb24iLCAiZnIiLCAiZnBzIiwgImZyYW1lRHVyYXRpb24iLCAicGxheWJhY2tSYXRlIiwgInBiciIsICJ0aW1lIiwgInNjaGVkdWxlZFRpbWUiLCAiZWxhcHNlZFRpbWUiLCAidGlja01vZGVzIiwgImZyYW1lRGVsdGEiLCAiZGVsdGEiLCAicmVuZGVyIiwgInRpY2thYmxlIiwgIm11dGVDYWxsYmFja3MiLCAiaW50ZXJuYWxSZW5kZXIiLCAidGlja01vZGUiLCAiZHVyYXRpb24iLCAiY29tcGxldGVkIiwgIml0ZXJhdGlvbkR1cmF0aW9uIiwgIml0ZXJhdGlvbkNvdW50IiwgIl9jdXJyZW50SXRlcmF0aW9uIiwgIl9sb29wRGVsYXkiLCAiX3JldmVyc2VkIiwgIl9hbHRlcm5hdGUiLCAiX2hhc0NoaWxkcmVuIiwgInRpY2thYmxlRGVsYXkiLCAidGlja2FibGVQcmV2QWJzb2x1dGVUaW1lIiwgInRpY2thYmxlRW5kVGltZSIsICJ0aWNrYWJsZUFic29sdXRlVGltZSIsICJ0aWNrYWJsZVByZXZUaW1lIiwgInRpY2thYmxlQ3VycmVudFRpbWUiLCAiZGVsdGFUaW1lIiwgImlzQ3VycmVudFRpbWVBYm92ZVplcm8iLCAiaXNDdXJyZW50VGltZUVxdWFsT3JBYm92ZUR1cmF0aW9uIiwgImlzU2V0dGVyIiwgImZvcmNlZFRpY2siLCAiaXNPZGQiLCAiaXRlcmF0aW9uRWxhcHNlZFRpbWUiLCAiaGFzUmVuZGVyZWQiLCAiY3VycmVudEl0ZXJhdGlvbiIsICJpc1JldmVyc2VkIiwgIl9lYXNlIiwgIml0ZXJhdGlvblRpbWUiLCAiaXNSdW5uaW5nQmFja3dhcmRzIiwgImZvcmNlZFJlbmRlciIsICJnbG9iYWxzIiwgImFic29sdXRlVGltZSIsICJ0d2VlbiIsICJ0d2VlblRhcmdldCIsICJ0d2VlblN0eWxlIiwgInR3ZWVuVGFyZ2V0VHJhbnNmb3JtcyIsICJ0d2VlblRhcmdldFRyYW5zZm9ybXNQcm9wZXJ0aWVzIiwgInR3ZWVuVHJhbnNmb3Jtc05lZWRVcGRhdGUiLCAidHdlZW5Db21wb3NpdGlvbiIsICJ0d2VlbkN1cnJlbnRUaW1lIiwgInR3ZWVuQ2hhbmdlRHVyYXRpb24iLCAidHdlZW5BYnNFbmRUaW1lIiwgInR3ZWVuTmV4dFJlcCIsICJ0d2VlblByZXZSZXAiLCAidHdlZW5IYXNDb21wb3NpdGlvbiIsICJjb21wb3NpdGlvblR5cGVzIiwgInR3ZWVuTmV3VGltZSIsICJ0d2VlblByb2dyZXNzIiwgInR3ZWVuTW9kaWZpZXIiLCAidHdlZW5WYWx1ZVR5cGUiLCAidHdlZW5UeXBlIiwgInR3ZWVuSXNPYmplY3QiLCAidHdlZW5UeXBlcyIsICJ0d2VlbklzTnVtYmVyIiwgInZhbHVlVHlwZXMiLCAidHdlZW5QcmVjaXNpb24iLCAidmFsdWUiLCAibnVtYmVyIiwgImZuIiwgInRuIiwgInIiLCAiZyIsICJiIiwgIm5zIiwgImoiLCAibCIsICJuIiwgInMiLCAidHdlZW5Qcm9wZXJ0eSIsICJ0cmFuc2Zvcm1zU3ltYm9sIiwgInN0ciIsICJlbXB0eVN0cmluZyIsICJrZXkiLCAidHJhbnNmb3Jtc0ZyYWdtZW50U3RyaW5ncyIsICJ0aWNrIiwgInRsIiwgInRsSXNSdW5uaW5nQmFja3dhcmRzIiwgInRsQ2hpbGRyZW5UaW1lIiwgInRsQ2lsZHJlblRpY2tUaW1lIiwgIm5vdyIsICJ0bENoaWxkcmVuSGFzUmVuZGVyZWQiLCAidGxDaGlsZHJlbkhhdmVDb21wbGV0ZWQiLCAidGxJdGVyYXRpb25EdXJhdGlvbiIsICJjaGlsZER1cmF0aW9uIiwgImNoaWxkU3RhcnRUaW1lIiwgImNoaWxkRW5kVGltZSIsICJjaGlsZFRpbWUiLCAiY2hpbGRUaWNrTW9kZSIsICJhZGRpdGl2ZSIsICJub29wIiwgImFkZEFkZGl0aXZlQW5pbWF0aW9uIiwgImxvb2t1cHMiLCAiYW5pbWF0aW9uIiwgInByb3BlcnR5QW5pbWF0aW9uIiwgInByb3BlcnR5TmFtZSIsICJ0d2VlbnMiLCAibG9va3VwVHdlZW4iLCAidmFsdWVUeXBlIiwgImFkZGl0aXZlVmFsdWVzIiwgImFkZGl0aXZlVmFsdWUiLCAiaSIsICJlbmdpbmVUaWNrTWV0aG9kIiwgImlzQnJvd3NlciIsICJlbmdpbmVDYW5jZWxNZXRob2QiLCAiRW5naW5lIiwgImRlZmF1bHRzIiwgImRvYyIsICJlbmdpbmVTcGVlZCIsICJlbmdpbmVGcHMiLCAiYWN0aXZlVGlja2FibGUiLCAibmV4dFRpY2thYmxlIiwgInRpY2tFbmdpbmUiLCAia2lsbEVuZ2luZSIsICJ1bml0IiwgImlzU2Vjb25kIiwgIm5ld1NjYWxlIiwgInNjYWxlRmFjdG9yIiwgInByZWNpc2lvbiIsICJlbmdpbmUiLCAiZ2xvYmFsVmVyc2lvbnMiLCAicGFyc2VJbmxpbmVUcmFuc2Zvcm1zIiwgInRhcmdldCIsICJwcm9wTmFtZSIsICJhbmltYXRpb25JbmxpbmVTdHlsZXMiLCAiaW5saW5lVHJhbnNmb3JtcyIsICJpbmxpbmVkU3R5bGVzUHJvcGVydHlWYWx1ZSIsICJjYWNoZWRUcmFuc2Zvcm1zIiwgInQiLCAidHJhbnNmb3Jtc0V4ZWNSZ3giLCAiaW5saW5lUHJvcGVydHlOYW1lIiwgImlubGluZVByb3BlcnR5VmFsdWUiLCAic3RyaW5nU3RhcnRzV2l0aCIsICJnZXROb2RlTGlzdCIsICJpc1N0ciIsICJwYXJzZVRhcmdldHMiLCAidGFyZ2V0cyIsICJpc05pbCIsICJmbGF0dGVuZWQiLCAicGFyc2VkIiwgIml0ZW0iLCAibm9kZUxpc3QiLCAiamwiLCAic3ViSXRlbSIsICJpc0R1cGxpY2F0ZSIsICJrIiwgImtsIiwgInJlZ2lzdGVyVGFyZ2V0cyIsICJwYXJzZWRUYXJnZXRzQXJyYXkiLCAicGFyc2VkVGFyZ2V0c0xlbmd0aCIsICJpc1JlZ2lzdGVyZWRUYXJnZXRTeW1ib2wiLCAiaXNTdmdUeXBlIiwgImlzU3ZnIiwgImlzRG9tU3ltYm9sIiwgImlzU3ZnU3ltYm9sIiwgImNzc1Jlc2VydmVkUHJvcGVydGllcyIsICJpc1ZhbGlkU1ZHQXR0cmlidXRlIiwgImVsIiwgInByb3BlcnR5TmFtZSIsICJlbFBhcmVudE5vZGUiLCAicmdiVG9SZ2JhIiwgInJnYlZhbHVlIiwgInJnYmEiLCAicmdiRXhlY1JneCIsICJyZ2JhRXhlY1JneCIsICJhIiwgImlzVW5kIiwgImhleFRvUmdiYSIsICJoZXhWYWx1ZSIsICJoZXhMZW5ndGgiLCAiaXNTaG9ydCIsICJodWUycmdiIiwgInAiLCAicSIsICJ0IiwgImhzbFRvUmdiYSIsICJoc2xWYWx1ZSIsICJoc2xhIiwgImhzbEV4ZWNSZ3giLCAiaHNsYUV4ZWNSZ3giLCAiaCIsICJzIiwgImwiLCAiciIsICJnIiwgImIiLCAicm91bmQiLCAiY29udmVydENvbG9yU3RyaW5nVmFsdWVzVG9SZ2JhQXJyYXkiLCAiY29sb3JTdHJpbmciLCAiaXNSZ2IiLCAiaXNIZXgiLCAiaXNIc2wiLCAic2V0VmFsdWUiLCAidGFyZ2V0VmFsdWUiLCAiZGVmYXVsdFZhbHVlIiwgImdldEZ1bmN0aW9uVmFsdWUiLCAidmFsdWUiLCAidGFyZ2V0IiwgImluZGV4IiwgInRvdGFsIiwgInN0b3JlIiwgImlzRm5jIiwgImZ1bmMiLCAiY29tcHV0ZWQiLCAiZ2V0VHdlZW5UeXBlIiwgInByb3AiLCAiaXNEb21TeW1ib2wiLCAiaXNTdmdTeW1ib2wiLCAiaXNWYWxpZFNWR0F0dHJpYnV0ZSIsICJ0d2VlblR5cGVzIiwgInZhbGlkVHJhbnNmb3JtcyIsICJzaG9ydFRyYW5zZm9ybXMiLCAic3RyaW5nU3RhcnRzV2l0aCIsICJnZXRDU1NWYWx1ZSIsICJwcm9wTmFtZSIsICJhbmltYXRpb25JbmxpbmVTdHlsZXMiLCAiaW5saW5lU3R5bGVzIiwgInByb3h5VGFyZ2V0U3ltYm9sIiwgImdldE9yaWdpbmFsQW5pbWF0YWJsZVZhbHVlIiwgInR3ZWVuVHlwZSIsICJ0eXBlIiwgInBhcnNlSW5saW5lVHJhbnNmb3JtcyIsICJnZXRSZWxhdGl2ZVZhbHVlIiwgIngiLCAieSIsICJvcGVyYXRvciIsICJjcmVhdGVEZWNvbXBvc2VkVmFsdWVUYXJnZXRPYmplY3QiLCAidmFsdWVUeXBlcyIsICJkZWNvbXBvc2VSYXdWYWx1ZSIsICJyYXdWYWx1ZSIsICJ0YXJnZXRPYmplY3QiLCAibnVtIiwgInN0ciIsICJ1bml0TWF0Y2giLCAidW5pdHNFeGVjUmd4IiwgImlzQ29sIiwgIm1hdGNoZWROdW1iZXJzIiwgImRpZ2l0V2l0aEV4cG9uZW50Umd4IiwgImRlY29tcG9zZVR3ZWVuVmFsdWUiLCAidHdlZW4iLCAiY2xvbmVBcnJheSIsICJkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSIsICJsb29rdXBzIiwgImdldFR3ZWVuU2libGluZ3MiLCAicHJvcGVydHkiLCAibG9va3VwIiwgImxvb2t1cE1hcCIsICJ0YXJnZXRMb29rdXAiLCAiYWRkVHdlZW5Tb3J0TWV0aG9kIiwgImMiLCAib3ZlcnJpZGVUd2VlbiIsICJtaW5WYWx1ZSIsICJjb21wb3NlVHdlZW4iLCAic2libGluZ3MiLCAidHdlZW5Db21wb3NpdGlvblR5cGUiLCAiY29tcG9zaXRpb25UeXBlcyIsICJ0d2VlbkFic1N0YXJ0VGltZSIsICJhZGRDaGlsZCIsICJwcmV2U2libGluZyIsICJwcmV2UGFyZW50IiwgInByZXZBYnNFbmRUaW1lIiwgInByZXZQcmV2U2libGluZyIsICJhYnNvbHV0ZVVwZGF0ZVN0YXJ0VGltZSIsICJwcmV2Q2hhbmdlU3RhcnRUaW1lIiwgInByZXZUTE9mZnNldCIsICJwYXVzZVByZXZQYXJlbnRBbmltYXRpb24iLCAiZm9yRWFjaENoaWxkcmVuIiwgInByZXZQYXJlbnRUTCIsICJwYXVzZVByZXZQYXJlbnRUTCIsICJhZGRpdGl2ZVR3ZWVuU2libGluZ3MiLCAiYWRkaXRpdmVBbmltYXRpb24iLCAiYWRkQWRkaXRpdmVBbmltYXRpb24iLCAibG9va3VwVHdlZW4iLCAiX19zcHJlYWRWYWx1ZXMiLCAidG9OdW1iZXIiLCAidG9OdW1iZXJzIiwgImkiLCAicmVtb3ZlVHdlZW5TbGlibGluZ3MiLCAidHdlZW5Db21wb3NpdGlvbiIsICJ0d2VlblRhcmdldCIsICJ0d2VlblByb3BlcnR5IiwgInR3ZWVuUmVwbGFjZVNpYmxpbmdzIiwgInJlbW92ZUNoaWxkIiwgImFkZFR3ZWVuc0xvb2t1cCIsICJhZGRUYXJnZXRQcm9wcyIsICJhZGRpdGl2ZSIsICJzaG91bGRDbGVhbiIsICJyZXNldFRpbWVyUHJvcGVydGllcyIsICJ0aW1lciIsICJyZXZpdmVUaW1lciIsICJ0aW1lcklkIiwgIlRpbWVyIiwgIkNsb2NrIiwgInBhcmFtZXRlcnMiLCAicGFyZW50IiwgInBhcmVudFBvc2l0aW9uIiwgImlkIiwgImRlbGF5IiwgImR1cmF0aW9uIiwgInJldmVyc2VkIiwgImFsdGVybmF0ZSIsICJsb29wIiwgImxvb3BEZWxheSIsICJhdXRvcGxheSIsICJmcmFtZVJhdGUiLCAicGxheWJhY2tSYXRlIiwgIm9uQ29tcGxldGUiLCAib25Mb29wIiwgIm9uUGF1c2UiLCAib25CZWdpbiIsICJvbkJlZm9yZVVwZGF0ZSIsICJvblVwZGF0ZSIsICJnbG9iYWxzIiwgInRpbWVySW5pdFRpbWUiLCAiZW5naW5lIiwgInRpbWVyRGVmYXVsdHMiLCAidGltZXJEZWxheSIsICJ0aW1lckR1cmF0aW9uIiwgInRpbWVyTG9vcCIsICJ0aW1lckxvb3BEZWxheSIsICJ0aW1lckl0ZXJhdGlvbkNvdW50IiwgIm9mZnNldFBvc2l0aW9uIiwgInN0YXJ0VGltZSIsICJub3ciLCAiY2xhbXBJbmZpbml0eSIsICJub29wIiwgImNhbmNlbGxlZCIsICJjbGFtcCIsICJ0aW1lIiwgInBhdXNlZCIsICJwcm9ncmVzcyIsICJpdGVyYXRpb25EdXJhdGlvbiIsICJpdGVyYXRpb25Db3VudCIsICJyZXZlcnNlIiwgImludGVybmFsUmVuZGVyIiwgInRpY2siLCAidGlja01vZGVzIiwgInRpbWVTY2FsZSIsICJtdXRlQ2FsbGJhY2tzIiwgImlzUGF1c2VkIiwgImNvdW50IiwgIml0ZXJhdGlvbnMiLCAiZmxvb3IiLCAibWF4VmFsdWUiLCAiY2hpbGQiLCAibmV3RHVyYXRpb24iLCAiY3VycmVudER1cmF0aW9uIiwgImNsYW1wWmVybyIsICJpc1NldHRlciIsICJhcCIsICJjYWxsYmFjayIsICJ0aGVuIiwgIm9uUmVzb2x2ZSIsICJub25lIiwgImNhbGNCZXppZXIiLCAiYVQiLCAiYUExIiwgImFBMiIsICJiaW5hcnlTdWJkaXZpZGUiLCAiYVgiLCAibVgxIiwgIm1YMiIsICJhQSIsICJhQiIsICJjdXJyZW50WCIsICJjdXJyZW50VCIsICJpIiwgImFicyIsICJjdWJpY0JlemllciIsICJtWTEiLCAibVkyIiwgInQiLCAic3RlcHMiLCAiZnJvbVN0YXJ0IiwgInJvdW5kTWV0aG9kIiwgImNlaWwiLCAiZmxvb3IiLCAiY2xhbXAiLCAibGluZWFyIiwgImFyZ3MiLCAiYXJnc0xlbmd0aCIsICJ0b3RhbFBvaW50cyIsICJmaXJzdEFyZyIsICJsYXN0QXJnIiwgInhQb2ludHMiLCAieVBvaW50cyIsICJwYXJzZU51bWJlciIsICJhcmciLCAic3BsaXRWYWx1ZSIsICJpc1N0ciIsICJ2YWx1ZSIsICJwZXJjZW50IiwgImlzVW5kIiwgImwiLCAicHJldlgiLCAicHJldlkiLCAiaXJyZWd1bGFyIiwgImxlbmd0aCIsICJyYW5kb21uZXNzIiwgInZhbHVlcyIsICJ0b3RhbCIsICJwcmV2aW91c1ZhbHVlIiwgInNwYWNpbmciLCAic2VnbWVudEVuZCIsICJyYW5kb21WYXJpYXRpb24iLCAicmFuZG9tVmFsdWUiLCAiaGFsZlBJIiwgIlBJIiwgImRvdWJsZVBJIiwgImVhc2VJblBvd2VyIiwgInAiLCAicG93IiwgImVhc2VJbkZ1bmN0aW9ucyIsICJlbXB0eVN0cmluZyIsICJjb3MiLCAic3FydCIsICJwb3cyIiwgImIiLCAib3ZlcnNob290IiwgImFtcGxpdHVkZSIsICJwZXJpb2QiLCAiYSIsICJtaW5WYWx1ZSIsICJzIiwgImFzaW4iLCAiZSIsICJzaW4iLCAiZWFzZVR5cGVzIiwgImVhc2VJbiIsICJwYXJzZUVhc2VTdHJpbmciLCAic3RyaW5nIiwgImVhc2VzRnVuY3Rpb25zIiwgImVhc2VzTG9va3VwcyIsICJwYXJzZWRGbiIsICJzcGxpdCIsICJlYXNlcyIsICJsaXN0IiwgInR5cGUiLCAibmFtZSIsICJlYXNlVHlwZSIsICJKU0Vhc2VzTG9va3VwcyIsICJwYXJzZUVhc2luZ3MiLCAiZWFzZSIsICJpc0ZuYyIsICJwcm9wZXJ0eU5hbWVzQ2FjaGUiLCAic2FuaXRpemVQcm9wZXJ0eU5hbWUiLCAicHJvcGVydHlOYW1lIiwgInRhcmdldCIsICJ0d2VlblR5cGUiLCAidHdlZW5UeXBlcyIsICJzaG9ydFRyYW5zZm9ybXMiLCAiaXNTdmciLCAiY2FjaGVkUHJvcGVydHlOYW1lIiwgImxvd2VyQ2FzZU5hbWUiLCAidG9Mb3dlckNhc2UiLCAiYW5nbGVVbml0c01hcCIsICJjb252ZXJ0ZWRWYWx1ZXNDYWNoZSIsICJjb252ZXJ0VmFsdWVVbml0IiwgImVsIiwgImRlY29tcG9zZWRWYWx1ZSIsICJ1bml0IiwgImZvcmNlIiwgImN1cnJlbnRVbml0IiwgImN1cnJlbnROdW1iZXIiLCAidmFsdWVUeXBlcyIsICJjYWNoZWRLZXkiLCAiY2FjaGVkIiwgImNvbnZlcnRlZFZhbHVlIiwgInRlbXBFbCIsICJwYXJlbnROb2RlIiwgInBhcmVudEVsIiwgImRvYyIsICJlbFN0eWxlIiwgImN1cnJlbnRVbml0V2lkdGgiLCAibmV3VW5pdFdpZHRoIiwgImZhY3RvciIsICJjbGVhbklubGluZVN0eWxlcyIsICJyZW5kZXJhYmxlIiwgImZvckVhY2hDaGlsZHJlbiIsICJhbmltYXRpb24iLCAidHdlZW4iLCAidHdlZW5Qcm9wZXJ0eSIsICJ0d2VlblRhcmdldCIsICJpc0RvbVN5bWJvbCIsICJ0YXJnZXRTdHlsZSIsICJvcmlnaW5hbElubGluZWRWYWx1ZSIsICJjYWNoZWRUcmFuc2Zvcm1zIiwgInRyYW5zZm9ybXNTeW1ib2wiLCAic3RyIiwgImtleSIsICJ0cmFuc2Zvcm1zRnJhZ21lbnRTdHJpbmdzIiwgImZyb21UYXJnZXRPYmplY3QiLCAiY3JlYXRlRGVjb21wb3NlZFZhbHVlVGFyZ2V0T2JqZWN0IiwgInRvVGFyZ2V0T2JqZWN0IiwgInRvRnVuY3Rpb25TdG9yZSIsICJrZXlmcmFtZXNUYXJnZXRBcnJheSIsICJmYXN0U2V0VmFsdWVzQXJyYXkiLCAia2V5T2JqZWN0VGFyZ2V0IiwgInR3ZWVuSWQiLCAia2V5ZnJhbWVzIiwgImdlbmVyYXRlS2V5ZnJhbWVzIiwgInBhcmFtZXRlcnMiLCAicHJvcGVydGllcyIsICJpc0FyciIsICJwcm9wZXJ0eU5hbWVzIiwgImlzS2V5IiwgInByb3BOYW1lIiwgInByb3BBcnJheSIsICJuZXdLZXkiLCAia2V5VmFsdWUiLCAidG90YWxEdXJhdGlvbiIsICJzZXRWYWx1ZSIsICJnbG9iYWxzIiwgIm9mZnNldCIsICJwcm9wIiwgImR1cmF0aW9uIiwgInByZXZLZXkiLCAia2V5T2JqIiwgImR1clByb2dyZXNzIiwgInByZXZFYXNlIiwgImN1cnJlbnRFYXNlIiwgIkpTQW5pbWF0aW9uIiwgIlRpbWVyIiwgInRhcmdldHMiLCAicGFyZW50IiwgInBhcmVudFBvc2l0aW9uIiwgImZhc3RTZXQiLCAiaW5kZXgiLCAicGFyc2VkVGFyZ2V0cyIsICJyZWdpc3RlclRhcmdldHMiLCAidGFyZ2V0c0xlbmd0aCIsICJrZlBhcmFtcyIsICJwYXJhbXMiLCAibWVyZ2VPYmplY3RzIiwgImRlbGF5IiwgInBsYXliYWNrRWFzZSIsICJtb2RpZmllciIsICJjb21wb3NpdGlvbiIsICJvblJlbmRlciIsICJhbmltRGVmYXVsdHMiLCAiYW5pbWFQbGF5YmFja0Vhc2UiLCAiYW5pbUVhc2UiLCAiaGFzU3ByaW5nIiwgInRFYXNpbmciLCAidER1cmF0aW9uIiwgInREZWxheSIsICJ0TW9kaWZpZXIiLCAidENvbXBvc2l0aW9uIiwgIksiLCAiY29tcG9zaXRpb25UeXBlcyIsICJhbmltSW5saW5lU3R5bGVzIiwgImFic29sdXRlT2Zmc2V0VGltZSIsICJpdGVyYXRpb25EdXJhdGlvbiIsICJpdGVyYXRpb25EZWxheSIsICJhbmltYXRpb25BbmltYXRpb25MZW5ndGgiLCAic2hvdWxkVHJpZ2dlclJlbmRlciIsICJ0YXJnZXRJbmRleCIsICJ0aSIsICJ0bCIsICJsYXN0VHJhbnNmb3JtR3JvdXBJbmRleCIsICJsYXN0VHJhbnNmb3JtR3JvdXBMZW5ndGgiLCAiZ2V0VHdlZW5UeXBlIiwgInByb3BWYWx1ZSIsICJpc1Byb3BWYWx1ZUFycmF5IiwgImFycmF5TGVuZ3RoIiwgImlzTm90T2JqZWN0VmFsdWUiLCAiaXNPYmoiLCAidiIsICJzaWJsaW5ncyIsICJwcmV2VHdlZW4iLCAiZmlyc3RUd2VlbkNoYW5nZVN0YXJ0VGltZSIsICJsYXN0VHdlZW5DaGFuZ2VFbmRUaW1lIiwgInR3ZWVuSW5kZXgiLCAia2V5ZnJhbWUiLCAiY29tcHV0ZWRUb1ZhbHVlIiwgImdldEZ1bmN0aW9uVmFsdWUiLCAidHdlZW5Ub1ZhbHVlIiwgInR3ZWVuRnJvbVZhbHVlIiwgImtleUVhc2luZyIsICJ0d2VlbkVhc2luZyIsICJ0d2VlbkR1cmF0aW9uIiwgInR3ZWVuRGVsYXkiLCAiY29tcHV0ZWRDb21wb3NpdGlvbiIsICJ0d2VlbkNvbXBvc2l0aW9uIiwgImlzTnVtIiwgInR3ZWVuTW9kaWZpZXIiLCAiaGFzRnJvbXZhbHVlIiwgImhhc1RvVmFsdWUiLCAiaXNGcm9tVG9BcnJheSIsICJpc0Zyb21Ub1ZhbHVlIiwgInR3ZWVuU3RhcnRUaW1lIiwgImFic29sdXRlU3RhcnRUaW1lIiwgInByZXZTaWJsaW5nIiwgImdldFR3ZWVuU2libGluZ3MiLCAibmV4dFNpYmxpbmciLCAib3ZlcnJpZGVUd2VlbiIsICJkZWNvbXBvc2VSYXdWYWx1ZSIsICJnZXRPcmlnaW5hbEFuaW1hdGFibGVWYWx1ZSIsICJkZWNvbXBvc2VkT3JpZ2luYWxWYWx1ZSIsICJkZWNvbXBvc2VUd2VlblZhbHVlIiwgImdldFJlbGF0aXZlVmFsdWUiLCAiY29tcGxleFZhbHVlIiwgIm5vdENvbXBsZXhWYWx1ZSIsICJjbG9uZUFycmF5IiwgInVuaXRWYWx1ZSIsICJub3RVbml0VmFsdWUiLCAiY29sb3JWYWx1ZSIsICJub3RDb2xvclZhbHVlIiwgInZhbHVlVG9Db252ZXJ0IiwgImxvbmdlc3RWYWx1ZSIsICJzaG9ydGVzdFZhbHVlIiwgIl8iLCAidHdlZW5VcGRhdGVEdXJhdGlvbiIsICJyb3VuZCIsICJjb21wb3NlVHdlZW4iLCAiYWRkQ2hpbGQiLCAiYWRkaXRpdmUiLCAiYWRkaXRpdmVUd2VlbiIsICJjbGFtcEluZmluaXR5IiwgIm5ld0R1cmF0aW9uIiwgImN1cnJlbnREdXJhdGlvbiIsICJjbGFtcFplcm8iLCAidGltZVNjYWxlIiwgIm9nVmFsdWUiLCAiY2FsbGJhY2siLCAiYW5pbWF0ZSIsICJ0cmFuc2Zvcm1zU2hvcnRoYW5kcyIsICJjb21tb25EZWZhdWx0UFhQcm9wZXJ0aWVzIiwgInZhbGlkSW5kaXZpZHVhbFRyYW5zZm9ybXMiLCAidmFsaWRUcmFuc2Zvcm1zIiwgImF4aXMiLCAidHJhbnNmb3Jtc1Byb3BlcnRpZXNSZWdpc3RlcmVkIiwgImlzQnJvd3NlciIsICJpc1VuZCIsICJXQUFQSUFuaW1hdGlvbnNMb29rdXBzIiwgInJlbW92ZVdBQVBJQW5pbWF0aW9uIiwgIiRlbCIsICJwcm9wZXJ0eSIsICJwYXJlbnQiLCAibmV4dExvb2t1cCIsICJuZXh0IiwgIm1hdGNoVGFyZ2V0IiwgIm1hdGNoUHJvcGVydHkiLCAibWF0Y2hQYXJlbnQiLCAiYW5pbSIsICJlIiwgInJlbW92ZUNoaWxkIiwgImxvb2t1cFBhcmVudCIsICJzeW5jIiwgImNhbGxiYWNrIiwgIm5vb3AiLCAiVGltZXIiLCAiZ2xvYmFscyIsICJnZXRUYXJnZXRWYWx1ZSIsICJ0YXJnZXRTZWxlY3RvciIsICJwcm9wTmFtZSIsICJ1bml0IiwgInRhcmdldHMiLCAicmVnaXN0ZXJUYXJnZXRzIiwgInRhcmdldCIsICJ0d2VlblR5cGUiLCAiZ2V0VHdlZW5UeXBlIiwgIm5vcm1hbGl6ZVByb3BOYW1lIiwgInNhbml0aXplUHJvcGVydHlOYW1lIiwgIm9yaWdpbmFsVmFsdWUiLCAiZ2V0T3JpZ2luYWxBbmltYXRhYmxlVmFsdWUiLCAiaXNVbmQiLCAiZGVjb21wb3NlUmF3VmFsdWUiLCAiZGVjb21wb3NlZE9yaWdpbmFsVmFsdWUiLCAidmFsdWVUeXBlcyIsICJjb252ZXJ0ZWRWYWx1ZSIsICJjb252ZXJ0VmFsdWVVbml0IiwgInJvdW5kIiwgInNldFRhcmdldFZhbHVlcyIsICJwYXJhbWV0ZXJzIiwgIm1pblZhbHVlIiwgInNldFZhbHVlIiwgImNvbXBvc2l0aW9uVHlwZXMiLCAiSlNBbmltYXRpb24iLCAicmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb24iLCAidGFyZ2V0c0FycmF5IiwgImFuaW1hdGlvbiIsICJwcm9wZXJ0eU5hbWUiLCAidHdlZW5zTWF0Y2hlc1RhcmdldHMiLCAiZm9yRWFjaENoaWxkcmVuIiwgInR3ZWVuIiwgInR3ZWVuVGFyZ2V0IiwgInR3ZWVuTmFtZSIsICJ0d2VlblR5cGVzIiwgInJlbW92ZUNoaWxkIiwgInJlbW92ZVR3ZWVuU2xpYmxpbmdzIiwgInJlbW92ZSIsICJyZW5kZXJhYmxlIiwgInBhcnNlVGFyZ2V0cyIsICJwYXJlbnQiLCAiZW5naW5lIiwgIndhYXBpQW5pbWF0aW9uIiwgImkiLCAibCIsICIkZWwiLCAicmVtb3ZlV0FBUElBbmltYXRpb24iLCAicmVtb3ZlTWF0Y2hlcyIsICJpdGVyYXRpb25EdXJhdGlvbiIsICJjaGlsZCIsICJjaGlsZER1ciIsICJyYW5kb20iLCAibWluIiwgIm1heCIsICJkZWNpbWFsTGVuZ3RoIiwgIm0iLCAiX19wb3ciLCAiZmxvb3IiLCAicmFuZG9tUGljayIsICJpdGVtcyIsICJzaHVmZmxlIiwgInQiLCAicm91bmRQYWQiLCAidiIsICJwYWRTdGFydCIsICJ0b3RhbExlbmd0aCIsICJwYWRTdHJpbmciLCAicGFkRW5kIiwgIndyYXAiLCAibWFwUmFuZ2UiLCAidmFsdWUiLCAiaW5Mb3ciLCAiaW5IaWdoIiwgIm91dExvdyIsICJvdXRIaWdoIiwgImRlZ1RvUmFkIiwgImRlZ3JlZXMiLCAiUEkiLCAicmFkVG9EZWciLCAicmFkaWFucyIsICJsZXJwIiwgInN0YXJ0IiwgImVuZCIsICJhbW91bnQiLCAiZHQiLCAiSyIsICJ0aWNrZXIiLCAiY3VycnkiLCAiZm4iLCAibGFzdCIsICJhcmdzIiwgImNoYWluIiwgInJlc3VsdCIsICJfIiwgIl9fIiwgInByb3AiLCAibmV4dEFyZ3MiLCAibmV4dFJlc3VsdCIsICJ1dGlscyIsICJtYWtlQ2hhaW5hYmxlIiwgInJpZ2h0IiwgImNsZWFuSW5saW5lU3R5bGVzIiwgImNsYW1wIiwgInNuYXAiLCAiaW50ZXJwb2xhdGUiLCAiZ2V0UHJldkNoaWxkT2Zmc2V0IiwgInRpbWVsaW5lIiwgInRpbWVQb3NpdGlvbiIsICJzdHJpbmdTdGFydHNXaXRoIiwgImdvVG9QcmV2QW5pbWF0aW9uT2Zmc2V0IiwgInByZXZBbmltYXRpb24iLCAicHJldk9mZnNldCIsICJwYXJzZVRpbWVsaW5lUG9zaXRpb24iLCAidGxEdXJhdGlvbiIsICJpc051bSIsICJ0aW1lUG9zU3RyIiwgInRsTGFiZWxzIiwgImhhc0xhYmVscyIsICJpc05pbCIsICJoYXNTaWJsaW5nIiwgIm1hdGNoZWRSZWxhdGl2ZU9wZXJhdG9yIiwgInJlbGF0aXZlVmFsdWVzRXhlY1JneCIsICJmdWxsT3BlcmF0b3IiLCAic3BsaXQiLCAibGFiZWxPZmZzZXQiLCAicGFyc2VkT2Zmc2V0IiwgInBhcnNlZE51bWVyaWNhbE9mZnNldCIsICJnZXRSZWxhdGl2ZVZhbHVlIiwgIlNwcmluZyIsICJwYXJhbWV0ZXJzIiwgIksiLCAiY2xhbXAiLCAic2V0VmFsdWUiLCAidCIsICJ0aW1lIiwgInpldGEiLCAidzAiLCAid2QiLCAiYiIsICJleHAiLCAiY29zIiwgInNpbiIsICJtYXhSZXN0U3RlcHMiLCAibWF4SXRlcmF0aW9ucyIsICJyZXN0VGhyZXNob2xkIiwgInRpbWVTdGVwIiwgIm0iLCAiZCIsICJzIiwgInYiLCAic3FydCIsICJtaW5WYWx1ZSIsICJzb2x2ZXJUaW1lIiwgInJlc3RTdGVwcyIsICJpdGVyYXRpb25zIiwgImFicyIsICJyb3VuZCIsICJnbG9iYWxzIiwgImNyZWF0ZVNwcmluZyIsICJzdGFnZ2VyIiwgInZhbCIsICJwYXJhbXMiLCAidmFsdWVzIiwgIm1heFZhbHVlIiwgImZyb20iLCAicmV2ZXJzZWQiLCAiZWFzZSIsICJoYXNFYXNpbmciLCAiaXNVbmQiLCAic3RhZ2dlckVhc2UiLCAicGFyc2VFYXNpbmdzIiwgImdyaWQiLCAiYXhpcyIsICJmcm9tRmlyc3QiLCAiZnJvbUNlbnRlciIsICJmcm9tTGFzdCIsICJpc1JhbmdlIiwgImlzQXJyIiwgInZhbDEiLCAicGFyc2VOdW1iZXIiLCAidmFsMiIsICJ1bml0TWF0Y2giLCAidW5pdHNFeGVjUmd4IiwgImVtcHR5U3RyaW5nIiwgInN0YXJ0IiwgImZyb21JbmRleCIsICJpc051bSIsICJfIiwgImkiLCAidCIsICJ0bCIsICJpbmRleCIsICJhYnMiLCAiZnJvbVgiLCAiZnJvbVkiLCAiZmxvb3IiLCAidG9YIiwgInRvWSIsICJkaXN0YW5jZVgiLCAiZGlzdGFuY2VZIiwgInZhbHVlIiwgInNxcnQiLCAibWF4IiwgInNwYWNpbmciLCAib3V0cHV0IiwgInBhcnNlVGltZWxpbmVQb3NpdGlvbiIsICJyb3VuZCIsICJnZXRSZW0iLCAidmFsdWUiLCAiZ3NhcCIsICJfZm9udHMiLCAiX2NvcmVJbml0dGVkIiwgIl9pbml0SWZOZWNlc3NhcnkiLCAiU3BsaXRUZXh0IiwgIl9jaGFyU2VnbWVudGVyIiwgIl90b0FycmF5IiwgInIiLCAiX2VsZW1lbnRzIiwgInRhcmdldHMiLCAiX2VtcHR5QXJyYXkiLCAiX2NvbnRleHQiLCAiX3NwYWNlc1JlZ0V4IiwgIl9lbW9qaVNhZmVSZWdFeCIsICJfZW1wdHlCb3VuZHMiLCAiX3N0cmV0Y2hUb0ZpdFNwZWNpYWxDaGFycyIsICJjb2xsZWN0aW9uIiwgInNwZWNpYWxDaGFyc1JlZ0V4IiwgImNoYXJzRm91bmQiLCAic2xvdHMiLCAid29yZCIsICJjaGFyIiwgImNvbWJpbmVkIiwgIl9kaXNhbGxvd0lubGluZSIsICJlbGVtZW50IiwgIl9pbnNlcnROb2RlQmVmb3JlIiwgIm5ld0NoaWxkIiwgInBhcmVudCIsICJleGlzdGluZ0NoaWxkIiwgIl9nZXRXcmFwcGVyIiwgInR5cGUiLCAiY29uZmlnIiwgImNsYXNzTmFtZSIsICJ0YWciLCAiYXJpYSIsICJwcm9wSW5kZXgiLCAiZGlzcGxheSIsICJpbmNyZW1lbnRDbGFzcyIsICJ3cmFwcGVyIiwgInRleHQiLCAiZWwiLCAiaSIsICJfZ2V0TGluZVdyYXBwZXIiLCAibm9kZXMiLCAibGluZVdyYXBwZXIiLCAidGV4dEFsaWduIiwgInN0YXJ0SW5kZXgiLCAiZW5kSW5kZXgiLCAibmV3TGluZSIsICJfc3BsaXRXb3Jkc0FuZENoYXJzUmVjdXJzaXZlbHkiLCAid29yZFdyYXBwZXIiLCAiY2hhcldyYXBwZXIiLCAicHJlcEZvckNoYXJzT25seSIsICJkZWVwU2xpY2UiLCAiaWdub3JlIiwgImNoYXJTcGxpdFJlZ0V4IiwgImlzTmVzdGVkIiwgIl9hIiwgIndvcmREZWxpbWl0ZXIiLCAicmVkdWNlV2hpdGVTcGFjZSIsICJwcmVwYXJlVGV4dCIsICJlbGVtZW50Qm91bmRzIiwgImxhc3RCb3VuZHMiLCAiaXNQcmVmb3JtYXR0ZWQiLCAiaWdub3JlZFByZXZpb3VzU2libGluZyIsICJ3b3Jkc0NvbGxlY3Rpb24iLCAid29yZERlbGltSXNOb3RTcGFjZSIsICJ3b3JkRGVsaW1TdHJpbmciLCAid29yZERlbGltU3BsaXR0ZXIiLCAiY3VyTm9kZSIsICJ3b3JkcyIsICJjdXJXb3JkRWwiLCAic3RhcnRzV2l0aFNwYWNlIiwgImVuZHNXaXRoU3BhY2UiLCAiaiIsICJib3VuZHMiLCAiY3VyV29yZENoYXJzIiwgImNsb25lZE5vZGUiLCAiY3VyU3ViTm9kZSIsICJ0ZW1wU3ViTm9kZSIsICJjdXJUZXh0Q29udGVudCIsICJ3b3JkVGV4dCIsICJsYXN0V29yZFRleHQiLCAiayIsICJzIiwgIl9TcGxpdFRleHQiLCAiZWxlbWVudHMiLCAib3JpZyIsICJ0aW1lcklkIiwgImNoZWNrV2lkdGhzIiwgIm8iLCAidyIsICJzbWFydFdyYXAiLCAib25TcGxpdCIsICJhdXRvU3BsaXQiLCAic3BlY2lhbENoYXJzIiwgIm1hc2siLCAic3BsaXRMaW5lcyIsICJzcGxpdENoYXJhY3RlcnMiLCAic3BsaXRXb3JkcyIsICJvbmx5U3BsaXRDaGFyYWN0ZXJzIiwgImZpbmFsQ2hhclNwbGl0UmVnRXgiLCAiYW5pbVRpbWUiLCAib2JzIiwgIm9uU3BsaXRSZXN1bHQiLCAiaW5kZXgiLCAiY2hhcnMiLCAibGluZXMiLCAiY3VyV29yZCIsICJzbWFydFdyYXBTcGFuIiwgIm5leHRTaWJsaW5nIiwgIndyYXBMaW5lIiwgInRvUmVtb3ZlIiwgImxpbmVTdGFydEluZGV4IiwgImFsbEJvdW5kcyIsICJuIiwgIm1hc2tFbCIsICJfYiIsICJhbmltIiwgImh0bWwiLCAiYXJpYUwiLCAiYXJpYUgiLCAiY29yZSIsICJob21lU2VjdGlvbiIsICJ1dGlscyIsICJob21lUGFnZSIsICJvYnNlcnZlciIsICJlbnRyaWVzIiwgIm9icyIsICJlbnRyeSIsICJpdGVtIiwgImluZGV4IiwgImFuaW1hdGUiLCAiZ2V0UmVtIiwgInNlY3Rpb24iLCAiZGVzY3JpcHRpb24iLCAiaXRlbXMiLCAic3RhZ2dlciIsICJib3R0b21UaXRsZSIsICJzcGxpdFRleHQiLCAiU3BsaXRUZXh0IiwgImNoYXIiLCAid29yZCIsICJjcmVhdGVTcHJpbmciLCAidGFiUGFyZW50IiwgImVsIiwgInRpdGxlIiwgInBvc2l0aW9uIiwgImFuaW1hdGVGcm9tIiwgImNoYXJzIiwgImhvbWUiLCAiYW5pbWF0ZVN0eWxlIiwgIndvcmRzIiwgImxpbmUiLCAid3JhcCIsICJidXR0b25zIiwgIndyYXBwZXJzIiwgImJ1dHRvbiIsICJ0ZXh0IiwgImkiLCAiZSIsICJzZXRCYWNrZ3JvdW5kRWxlbWVudCIsICJzdGlja0VsZW1lbnRUb0VkZ2UiLCAibWVudVNweSIsICJzd2lwZXJJbml0IiwgIlRvZ2dsZUl0ZW0iLCAiaG9tZVBhZ2UiLCAiYnV0dG9uVG9Ub3AiLCAiaGVhZGVyIiwgIkFPUyIsICJvYnNlcnZlciIsICJsb3phZCJdCn0K
